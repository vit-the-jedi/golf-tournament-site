(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function xa(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const sw="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",iw=xa(sw);function Hr(t){if(Q(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Le(s)?lw(s):Hr(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(Le(t))return t;if(Oe(t))return t}}const rw=/;(?![^(]*\))/g,ow=/:([^]+)/,aw=/\/\*.*?\*\//gs;function lw(t){const e={};return t.replace(aw,"").split(rw).forEach(n=>{if(n){const s=n.split(ow);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function qr(t){let e="";if(Le(t))e=t;else if(Q(t))for(let n=0;n<t.length;n++){const s=qr(t[n]);s&&(e+=s+" ")}else if(Oe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function cw(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Le(e)&&(t.class=qr(e)),n&&(t.style=Hr(n)),t}const uw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hw=xa(uw);function $p(t){return!!t||t===""}function dw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Jn(t[s],e[s]);return n}function Jn(t,e){if(t===e)return!0;let n=md(t),s=md(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=vr(t),s=vr(e),n||s)return t===e;if(n=Q(t),s=Q(e),n||s)return n&&s?dw(t,e):!1;if(n=Oe(t),s=Oe(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Jn(t[o],e[o]))return!1}}return String(t)===String(e)}function La(t,e){return t.findIndex(n=>Jn(n,e))}const oe=t=>Le(t)?t:t==null?"":Q(t)||Oe(t)&&(t.toString===Vp||!ce(t.toString))?JSON.stringify(t,Up,2):String(t),Up=(t,e)=>e&&e.__v_isRef?Up(t,e.value):oi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Fs(e)?{[`Set(${e.size})`]:[...e.values()]}:Oe(e)&&!Q(e)&&!Bp(e)?String(e):e,Ne={},ri=[],Jt=()=>{},fw=()=>!1,pw=/^on[^a-z]/,Gr=t=>pw.test(t),gu=t=>t.startsWith("onUpdate:"),Ue=Object.assign,yu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},mw=Object.prototype.hasOwnProperty,Te=(t,e)=>mw.call(t,e),Q=Array.isArray,oi=t=>Di(t)==="[object Map]",Fs=t=>Di(t)==="[object Set]",md=t=>Di(t)==="[object Date]",gw=t=>Di(t)==="[object RegExp]",ce=t=>typeof t=="function",Le=t=>typeof t=="string",vr=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",_u=t=>Oe(t)&&ce(t.then)&&ce(t.catch),Vp=Object.prototype.toString,Di=t=>Vp.call(t),yw=t=>Di(t).slice(8,-1),Bp=t=>Di(t)==="[object Object]",vu=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ir=xa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_w=/-(\w)/g,At=Fa(t=>t.replace(_w,(e,n)=>n?n.toUpperCase():"")),vw=/\B([A-Z])/g,Bt=Fa(t=>t.replace(vw,"-$1").toLowerCase()),Kr=Fa(t=>t.charAt(0).toUpperCase()+t.slice(1)),rr=Fa(t=>t?`on${Kr(t)}`:""),mi=(t,e)=>!Object.is(t,e),ai=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},na=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},sa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ia=t=>{const e=Le(t)?Number(t):NaN;return isNaN(e)?t:e};let gd;const ww=()=>gd||(gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let xt;class wu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xt,!e&&xt&&(this.index=(xt.scopes||(xt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=xt;try{return xt=this,e()}finally{xt=n}}}on(){xt=this}off(){xt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bw(t){return new wu(t)}function jp(t,e=xt){e&&e.active&&e.effects.push(t)}function Hp(){return xt}function Ew(t){xt&&xt.cleanups.push(t)}const bu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},qp=t=>(t.w&Qn)>0,Gp=t=>(t.n&Qn)>0,Tw=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Qn},Iw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];qp(i)&&!Gp(i)?i.delete(t):e[n++]=i,i.w&=~Qn,i.n&=~Qn}e.length=n}},ra=new WeakMap;let Qi=0,Qn=1;const gc=30;let Kt;const ws=Symbol(""),yc=Symbol("");class zr{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,jp(this,s)}run(){if(!this.active)return this.fn();let e=Kt,n=jn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Kt,Kt=this,jn=!0,Qn=1<<++Qi,Qi<=gc?Tw(this):yd(this),this.fn()}finally{Qi<=gc&&Iw(this),Qn=1<<--Qi,Kt=this.parent,jn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Kt===this?this.deferStop=!0:this.active&&(yd(this),this.onStop&&this.onStop(),this.active=!1)}}function yd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function Cw(t,e){t.effect&&(t=t.effect.fn);const n=new zr(t);e&&(Ue(n,e),e.scope&&jp(n,e.scope)),(!e||!e.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function Sw(t){t.effect.stop()}let jn=!0;const Kp=[];function Pi(){Kp.push(jn),jn=!1}function Mi(){const t=Kp.pop();jn=t===void 0?!0:t}function Ot(t,e,n){if(jn&&Kt){let s=ra.get(t);s||ra.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=bu()),zp(i)}}function zp(t,e){let n=!1;Qi<=gc?Gp(t)||(t.n|=Qn,n=!qp(t)):n=!t.has(Kt),n&&(t.add(Kt),Kt.deps.push(t))}function bn(t,e,n,s,i,r){const o=ra.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Q(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Q(t)?vu(n)&&a.push(o.get("length")):(a.push(o.get(ws)),oi(t)&&a.push(o.get(yc)));break;case"delete":Q(t)||(a.push(o.get(ws)),oi(t)&&a.push(o.get(yc)));break;case"set":oi(t)&&a.push(o.get(ws));break}if(a.length===1)a[0]&&_c(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);_c(bu(l))}}function _c(t,e){const n=Q(t)?t:[...t];for(const s of n)s.computed&&_d(s);for(const s of n)s.computed||_d(s)}function _d(t,e){(t!==Kt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function kw(t,e){var n;return(n=ra.get(t))===null||n===void 0?void 0:n.get(e)}const Aw=xa("__proto__,__v_isRef,__isVue"),Wp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vr)),Nw=$a(),Ow=$a(!1,!0),Rw=$a(!0),Dw=$a(!0,!0),vd=Pw();function Pw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ve(this);for(let r=0,o=this.length;r<o;r++)Ot(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pi();const s=ve(this)[e].apply(this,n);return Mi(),s}}),t}function Mw(t){const e=ve(this);return Ot(e,"has",t),e.hasOwnProperty(t)}function $a(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?tm:em:e?Zp:Xp).get(s))return s;const o=Q(s);if(!t){if(o&&Te(vd,i))return Reflect.get(vd,i,r);if(i==="hasOwnProperty")return Mw}const a=Reflect.get(s,i,r);return(vr(i)?Wp.has(i):Aw(i))||(t||Ot(s,"get",i),e)?a:Ye(a)?o&&vu(i)?a:a.value:Oe(a)?t?Tu(a):$s(a):a}}const xw=Jp(),Lw=Jp(!0);function Jp(t=!1){return function(n,s,i,r){let o=n[s];if(As(o)&&Ye(o)&&!Ye(i))return!1;if(!t&&(!wr(i)&&!As(i)&&(o=ve(o),i=ve(i)),!Q(n)&&Ye(o)&&!Ye(i)))return o.value=i,!0;const a=Q(n)&&vu(s)?Number(s)<n.length:Te(n,s),l=Reflect.set(n,s,i,r);return n===ve(r)&&(a?mi(i,o)&&bn(n,"set",s,i):bn(n,"add",s,i)),l}}function Fw(t,e){const n=Te(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&bn(t,"delete",e,void 0),s}function $w(t,e){const n=Reflect.has(t,e);return(!vr(e)||!Wp.has(e))&&Ot(t,"has",e),n}function Uw(t){return Ot(t,"iterate",Q(t)?"length":ws),Reflect.ownKeys(t)}const Qp={get:Nw,set:xw,deleteProperty:Fw,has:$w,ownKeys:Uw},Yp={get:Rw,set(t,e){return!0},deleteProperty(t,e){return!0}},Vw=Ue({},Qp,{get:Ow,set:Lw}),Bw=Ue({},Yp,{get:Dw}),Eu=t=>t,Ua=t=>Reflect.getPrototypeOf(t);function So(t,e,n=!1,s=!1){t=t.__v_raw;const i=ve(t),r=ve(e);n||(e!==r&&Ot(i,"get",e),Ot(i,"get",r));const{has:o}=Ua(i),a=s?Eu:n?Su:br;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function ko(t,e=!1){const n=this.__v_raw,s=ve(n),i=ve(t);return e||(t!==i&&Ot(s,"has",t),Ot(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ao(t,e=!1){return t=t.__v_raw,!e&&Ot(ve(t),"iterate",ws),Reflect.get(t,"size",t)}function wd(t){t=ve(t);const e=ve(this);return Ua(e).has.call(e,t)||(e.add(t),bn(e,"add",t,t)),this}function bd(t,e){e=ve(e);const n=ve(this),{has:s,get:i}=Ua(n);let r=s.call(n,t);r||(t=ve(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?mi(e,o)&&bn(n,"set",t,e):bn(n,"add",t,e),this}function Ed(t){const e=ve(this),{has:n,get:s}=Ua(e);let i=n.call(e,t);i||(t=ve(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&bn(e,"delete",t,void 0),r}function Td(){const t=ve(this),e=t.size!==0,n=t.clear();return e&&bn(t,"clear",void 0,void 0),n}function No(t,e){return function(s,i){const r=this,o=r.__v_raw,a=ve(o),l=e?Eu:t?Su:br;return!t&&Ot(a,"iterate",ws),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function Oo(t,e,n){return function(...s){const i=this.__v_raw,r=ve(i),o=oi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Eu:e?Su:br;return!e&&Ot(r,"iterate",l?yc:ws),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function On(t){return function(...e){return t==="delete"?!1:this}}function jw(){const t={get(r){return So(this,r)},get size(){return Ao(this)},has:ko,add:wd,set:bd,delete:Ed,clear:Td,forEach:No(!1,!1)},e={get(r){return So(this,r,!1,!0)},get size(){return Ao(this)},has:ko,add:wd,set:bd,delete:Ed,clear:Td,forEach:No(!1,!0)},n={get(r){return So(this,r,!0)},get size(){return Ao(this,!0)},has(r){return ko.call(this,r,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:No(!0,!1)},s={get(r){return So(this,r,!0,!0)},get size(){return Ao(this,!0)},has(r){return ko.call(this,r,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:No(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Oo(r,!1,!1),n[r]=Oo(r,!0,!1),e[r]=Oo(r,!1,!0),s[r]=Oo(r,!0,!0)}),[t,n,e,s]}const[Hw,qw,Gw,Kw]=jw();function Va(t,e){const n=e?t?Kw:Gw:t?qw:Hw;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Te(n,i)&&i in s?n:s,i,r)}const zw={get:Va(!1,!1)},Ww={get:Va(!1,!0)},Jw={get:Va(!0,!1)},Qw={get:Va(!0,!0)},Xp=new WeakMap,Zp=new WeakMap,em=new WeakMap,tm=new WeakMap;function Yw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xw(t){return t.__v_skip||!Object.isExtensible(t)?0:Yw(yw(t))}function $s(t){return As(t)?t:Ba(t,!1,Qp,zw,Xp)}function nm(t){return Ba(t,!1,Vw,Ww,Zp)}function Tu(t){return Ba(t,!0,Yp,Jw,em)}function Zw(t){return Ba(t,!0,Bw,Qw,tm)}function Ba(t,e,n,s,i){if(!Oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Xw(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function bs(t){return As(t)?bs(t.__v_raw):!!(t&&t.__v_isReactive)}function As(t){return!!(t&&t.__v_isReadonly)}function wr(t){return!!(t&&t.__v_isShallow)}function Iu(t){return bs(t)||As(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function Cu(t){return na(t,"__v_skip",!0),t}const br=t=>Oe(t)?$s(t):t,Su=t=>Oe(t)?Tu(t):t;function ku(t){jn&&Kt&&(t=ve(t),zp(t.dep||(t.dep=bu())))}function ja(t,e){t=ve(t);const n=t.dep;n&&_c(n)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function or(t){return im(t,!1)}function sm(t){return im(t,!0)}function im(t,e){return Ye(t)?t:new eb(t,e)}class eb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ve(e),this._value=n?e:br(e)}get value(){return ku(this),this._value}set value(e){const n=this.__v_isShallow||wr(e)||As(e);e=n?e:ve(e),mi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:br(e),ja(this))}}function tb(t){ja(t)}function Es(t){return Ye(t)?t.value:t}const nb={get:(t,e,n)=>Es(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Au(t){return bs(t)?t:new Proxy(t,nb)}class sb{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>ku(this),()=>ja(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function ib(t){return new sb(t)}function rb(t){const e=Q(t)?new Array(t.length):{};for(const n in t)e[n]=rm(t,n);return e}class ob{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kw(ve(this._object),this._key)}}function rm(t,e,n){const s=t[e];return Ye(s)?s:new ob(t,e,n)}var om;class ab{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[om]=!1,this._dirty=!0,this.effect=new zr(e,()=>{this._dirty||(this._dirty=!0,ja(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=ve(this);return ku(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}om="__v_isReadonly";function lb(t,e,n=!1){let s,i;const r=ce(t);return r?(s=t,i=Jt):(s=t.get,i=t.set),new ab(s,i,r||!i,n)}function cb(t,...e){}function ub(t,e){}function vn(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Us(r,e,n)}return i}function $t(t,e,n,s){if(ce(t)){const r=vn(t,e,n,s);return r&&_u(r)&&r.catch(o=>{Us(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push($t(t[r],e,n,s));return i}function Us(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){vn(l,null,10,[t,o,a]);return}}hb(t,n,i,s)}function hb(t,e,n,s=!0){console.error(t)}let Er=!1,vc=!1;const ut=[];let nn=0;const li=[];let pn=null,ps=0;const am=Promise.resolve();let Nu=null;function Ha(t){const e=Nu||am;return t?e.then(this?t.bind(this):t):e}function db(t){let e=nn+1,n=ut.length;for(;e<n;){const s=e+n>>>1;Tr(ut[s])<t?e=s+1:n=s}return e}function qa(t){(!ut.length||!ut.includes(t,Er&&t.allowRecurse?nn+1:nn))&&(t.id==null?ut.push(t):ut.splice(db(t.id),0,t),lm())}function lm(){!Er&&!vc&&(vc=!0,Nu=am.then(cm))}function fb(t){const e=ut.indexOf(t);e>nn&&ut.splice(e,1)}function Ou(t){Q(t)?li.push(...t):(!pn||!pn.includes(t,t.allowRecurse?ps+1:ps))&&li.push(t),lm()}function Id(t,e=Er?nn+1:0){for(;e<ut.length;e++){const n=ut[e];n&&n.pre&&(ut.splice(e,1),e--,n())}}function oa(t){if(li.length){const e=[...new Set(li)];if(li.length=0,pn){pn.push(...e);return}for(pn=e,pn.sort((n,s)=>Tr(n)-Tr(s)),ps=0;ps<pn.length;ps++)pn[ps]();pn=null,ps=0}}const Tr=t=>t.id==null?1/0:t.id,pb=(t,e)=>{const n=Tr(t)-Tr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cm(t){vc=!1,Er=!0,ut.sort(pb);const e=Jt;try{for(nn=0;nn<ut.length;nn++){const n=ut[nn];n&&n.active!==!1&&vn(n,null,14)}}finally{nn=0,ut.length=0,oa(),Er=!1,Nu=null,(ut.length||li.length)&&cm()}}let Zs,Ro=[];function um(t,e){var n,s;Zs=t,Zs?(Zs.enabled=!0,Ro.forEach(({event:i,args:r})=>Zs.emit(i,...r)),Ro=[]):typeof window<"u"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{um(r,e)}),setTimeout(()=>{Zs||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ro=[])},3e3)):Ro=[]}function mb(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ne;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Ne;f&&(i=n.map(m=>Le(m)?m.trim():m)),h&&(i=n.map(sa))}let a,l=s[a=rr(e)]||s[a=rr(At(e))];!l&&r&&(l=s[a=rr(Bt(e))]),l&&$t(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$t(c,t,6,i)}}function hm(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!ce(t)){const l=c=>{const u=hm(c,e,!0);u&&(a=!0,Ue(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Oe(t)&&s.set(t,null),null):(Q(r)?r.forEach(l=>o[l]=null):Ue(o,r),Oe(t)&&s.set(t,o),o)}function Ga(t,e){return!t||!Gr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Bt(e))||Te(t,e))}let it=null,Ka=null;function Ir(t){const e=it;return it=t,Ka=t&&t.type.__scopeId||null,e}function Rt(t){Ka=t}function Dt(){Ka=null}const gb=t=>Et;function Et(t,e=it,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Sc(-1);const r=Ir(e);let o;try{o=t(...i)}finally{Ir(r),s._d&&Sc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ko(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:m,ctx:_,inheritAttrs:b}=t;let R,v;const g=Ir(t);try{if(n.shapeFlag&4){const S=i||s;R=Lt(u.call(S,S,h,r,m,f,_)),v=l}else{const S=e;R=Lt(S.length>1?S(r,{attrs:l,slots:a,emit:c}):S(r,null)),v=e.props?l:_b(l)}}catch(S){ur.length=0,Us(S,t,1),R=ee(dt)}let w=R;if(v&&b!==!1){const S=Object.keys(v),{shapeFlag:L}=w;S.length&&L&7&&(o&&S.some(gu)&&(v=vb(v,o)),w=un(w,v))}return n.dirs&&(w=un(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),R=w,Ir(g),R}function yb(t){let e;for(let n=0;n<t.length;n++){const s=t[n];if(Yn(s)){if(s.type!==dt||s.children==="v-if"){if(e)return;e=s}}else return}return e}const _b=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gr(n))&&((e||(e={}))[n]=t[n]);return e},vb=(t,e)=>{const n={};for(const s in t)(!gu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function wb(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Cd(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Ga(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Cd(s,o,c):!0:!!o;return!1}function Cd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Ga(n,r))return!0}return!1}function Ru({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const dm=t=>t.__isSuspense,bb={name:"Suspense",__isSuspense:!0,process(t,e,n,s,i,r,o,a,l,c){t==null?Tb(e,n,s,i,r,o,a,l,c):Ib(t,e,n,s,i,o,a,l,c)},hydrate:Cb,create:Du,normalize:Sb},Eb=bb;function Cr(t,e){const n=t.props&&t.props[e];ce(n)&&n()}function Tb(t,e,n,s,i,r,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),f=t.suspense=Du(t,i,s,e,h,n,r,o,a,l);c(null,f.pendingBranch=t.ssContent,h,null,s,f,r,o),f.deps>0?(Cr(t,"onPending"),Cr(t,"onFallback"),c(null,t.ssFallback,e,n,s,null,r,o),ci(f,t.ssFallback)):f.resolve()}function Ib(t,e,n,s,i,r,o,a,{p:l,um:c,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,m=e.ssFallback,{activeBranch:_,pendingBranch:b,isInFallback:R,isHydrating:v}=h;if(b)h.pendingBranch=f,zt(f,b)?(l(b,f,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0?h.resolve():R&&(l(_,m,n,s,i,null,r,o,a),ci(h,m))):(h.pendingId++,v?(h.isHydrating=!1,h.activeBranch=b):c(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),R?(l(null,f,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0?h.resolve():(l(_,m,n,s,i,null,r,o,a),ci(h,m))):_&&zt(f,_)?(l(_,f,n,s,i,h,r,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0&&h.resolve()));else if(_&&zt(f,_))l(_,f,n,s,i,h,r,o,a),ci(h,f);else if(Cr(e,"onPending"),h.pendingBranch=f,h.pendingId++,l(null,f,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0)h.resolve();else{const{timeout:g,pendingId:w}=h;g>0?setTimeout(()=>{h.pendingId===w&&h.fallback(m)},g):g===0&&h.fallback(m)}}function Du(t,e,n,s,i,r,o,a,l,c,u=!1){const{p:h,m:f,um:m,n:_,o:{parentNode:b,remove:R}}=c,v=t.props?ia(t.props.timeout):void 0,g={vnode:t,parent:e,parentComponent:n,isSVG:o,container:s,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1){const{vnode:S,activeBranch:L,pendingBranch:B,pendingId:q,effects:D,parentComponent:A,container:O}=g;if(g.isHydrating)g.isHydrating=!1;else if(!w){const re=L&&B.transition&&B.transition.mode==="out-in";re&&(L.transition.afterLeave=()=>{q===g.pendingId&&f(B,O,z,0)});let{anchor:z}=g;L&&(z=_(L),m(L,A,g,!0)),re||f(B,O,z,0)}ci(g,B),g.pendingBranch=null,g.isInFallback=!1;let $=g.parent,F=!1;for(;$;){if($.pendingBranch){$.effects.push(...D),F=!0;break}$=$.parent}F||Ou(D),g.effects=[],Cr(S,"onResolve")},fallback(w){if(!g.pendingBranch)return;const{vnode:S,activeBranch:L,parentComponent:B,container:q,isSVG:D}=g;Cr(S,"onFallback");const A=_(L),O=()=>{g.isInFallback&&(h(null,w,q,A,B,null,D,a,l),ci(g,w))},$=w.transition&&w.transition.mode==="out-in";$&&(L.transition.afterLeave=O),g.isInFallback=!0,m(L,B,null,!0),$||O()},move(w,S,L){g.activeBranch&&f(g.activeBranch,w,S,L),g.container=w},next(){return g.activeBranch&&_(g.activeBranch)},registerDep(w,S){const L=!!g.pendingBranch;L&&g.deps++;const B=w.vnode.el;w.asyncDep.catch(q=>{Us(q,w,0)}).then(q=>{if(w.isUnmounted||g.isUnmounted||g.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:D}=w;kc(w,q,!1),B&&(D.el=B);const A=!B&&w.subTree.el;S(w,D,b(B||w.subTree.el),B?null:_(w.subTree),g,o,l),A&&R(A),Ru(w,D.el),L&&--g.deps===0&&g.resolve()})},unmount(w,S){g.isUnmounted=!0,g.activeBranch&&m(g.activeBranch,n,w,S),g.pendingBranch&&m(g.pendingBranch,n,w,S)}};return g}function Cb(t,e,n,s,i,r,o,a,l){const c=e.suspense=Du(e,s,n,t.parentNode,document.createElement("div"),null,i,r,o,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),u}function Sb(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=Sd(s?n.default:n),t.ssFallback=s?Sd(n.fallback):ee(dt)}function Sd(t){let e;if(ce(t)){const n=Rs&&t._c;n&&(t._d=!1,T()),t=t(),n&&(t._d=!0,e=kt,Um())}return Q(t)&&(t=yb(t)),t=Lt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function fm(t,e){e&&e.pendingBranch?Q(t)?e.effects.push(...t):e.effects.push(t):Ou(t)}function ci(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t,i=n.el=e.el;s&&s.subTree===n&&(s.vnode.el=i,Ru(s,i))}function ar(t,e){if($e){let n=$e.provides;const s=$e.parent&&$e.parent.provides;s===n&&(n=$e.provides=Object.create(s)),n[t]=e}}function rn(t,e,n=!1){const s=$e||it;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ce(e)?e.call(s.proxy):e}}function kb(t,e){return Wr(t,null,e)}function pm(t,e){return Wr(t,null,{flush:"post"})}function Ab(t,e){return Wr(t,null,{flush:"sync"})}const Do={};function Hn(t,e,n){return Wr(t,e,n)}function Wr(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Ne){const a=Hp()===($e==null?void 0:$e.scope)?$e:null;let l,c=!1,u=!1;if(Ye(t)?(l=()=>t.value,c=wr(t)):bs(t)?(l=()=>t,s=!0):Q(t)?(u=!0,c=t.some(w=>bs(w)||wr(w)),l=()=>t.map(w=>{if(Ye(w))return w.value;if(bs(w))return gs(w);if(ce(w))return vn(w,a,2)})):ce(t)?e?l=()=>vn(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),$t(t,a,3,[f])}:l=Jt,e&&s){const w=l;l=()=>gs(w())}let h,f=w=>{h=v.onStop=()=>{vn(w,a,4)}},m;if(_i)if(f=Jt,e?n&&$t(e,a,3,[l(),u?[]:void 0,f]):l(),i==="sync"){const w=Ym();m=w.__watcherHandles||(w.__watcherHandles=[])}else return Jt;let _=u?new Array(t.length).fill(Do):Do;const b=()=>{if(v.active)if(e){const w=v.run();(s||c||(u?w.some((S,L)=>mi(S,_[L])):mi(w,_)))&&(h&&h(),$t(e,a,3,[w,_===Do?void 0:u&&_[0]===Do?[]:_,f]),_=w)}else v.run()};b.allowRecurse=!!e;let R;i==="sync"?R=b:i==="post"?R=()=>tt(b,a&&a.suspense):(b.pre=!0,a&&(b.id=a.uid),R=()=>qa(b));const v=new zr(l,R);e?n?b():_=v.run():i==="post"?tt(v.run.bind(v),a&&a.suspense):v.run();const g=()=>{v.stop(),a&&a.scope&&yu(a.scope.effects,v)};return m&&m.push(g),g}function Nb(t,e,n){const s=this.proxy,i=Le(t)?t.includes(".")?mm(s,t):()=>s[t]:t.bind(s,s);let r;ce(e)?r=e:(r=e.handler,n=e);const o=$e;Xn(this);const a=Wr(i,r.bind(s),n);return o?Xn(o):qn(),a}function mm(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function gs(t,e){if(!Oe(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ye(t))gs(t.value,e);else if(Q(t))for(let n=0;n<t.length;n++)gs(t[n],e);else if(Fs(t)||oi(t))t.forEach(n=>{gs(n,e)});else if(Bp(t))for(const n in t)gs(t[n],e);return t}function Pu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yr(()=>{t.isMounted=!0}),Qa(()=>{t.isUnmounting=!0}),t}const Vt=[Function,Array],Ob={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vt,onEnter:Vt,onAfterEnter:Vt,onEnterCancelled:Vt,onBeforeLeave:Vt,onLeave:Vt,onAfterLeave:Vt,onLeaveCancelled:Vt,onBeforeAppear:Vt,onAppear:Vt,onAfterAppear:Vt,onAppearCancelled:Vt},setup(t,{slots:e}){const n=rs(),s=Pu();let i;return()=>{const r=e.default&&za(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const b of r)if(b.type!==dt){o=b;break}}const a=ve(t),{mode:l}=a;if(s.isLeaving)return Ul(o);const c=kd(o);if(!c)return Ul(o);const u=gi(c,a,s,n);Ns(c,u);const h=n.subTree,f=h&&kd(h);let m=!1;const{getTransitionKey:_}=c.type;if(_){const b=_();i===void 0?i=b:b!==i&&(i=b,m=!0)}if(f&&f.type!==dt&&(!zt(c,f)||m)){const b=gi(f,a,s,n);if(Ns(f,b),l==="out-in")return s.isLeaving=!0,b.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Ul(o);l==="in-out"&&c.type!==dt&&(b.delayLeave=(R,v,g)=>{const w=gm(s,f);w[String(f.key)]=f,R._leaveCb=()=>{v(),R._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=g})}return o}}},Mu=Ob;function gm(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function gi(t,e,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:b,onAppear:R,onAfterAppear:v,onAppearCancelled:g}=e,w=String(t.key),S=gm(n,t),L=(D,A)=>{D&&$t(D,s,9,A)},B=(D,A)=>{const O=A[1];L(D,A),Q(D)?D.every($=>$.length<=1)&&O():D.length<=1&&O()},q={mode:r,persisted:o,beforeEnter(D){let A=a;if(!n.isMounted)if(i)A=b||a;else return;D._leaveCb&&D._leaveCb(!0);const O=S[w];O&&zt(t,O)&&O.el._leaveCb&&O.el._leaveCb(),L(A,[D])},enter(D){let A=l,O=c,$=u;if(!n.isMounted)if(i)A=R||l,O=v||c,$=g||u;else return;let F=!1;const re=D._enterCb=z=>{F||(F=!0,z?L($,[D]):L(O,[D]),q.delayedLeave&&q.delayedLeave(),D._enterCb=void 0)};A?B(A,[D,re]):re()},leave(D,A){const O=String(t.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return A();L(h,[D]);let $=!1;const F=D._leaveCb=re=>{$||($=!0,A(),re?L(_,[D]):L(m,[D]),D._leaveCb=void 0,S[O]===t&&delete S[O])};S[O]=t,f?B(f,[D,F]):F()},clone(D){return gi(D,e,n,s)}};return q}function Ul(t){if(Qr(t))return t=un(t),t.children=null,t}function kd(t){return Qr(t)?t.children?t.children[0]:void 0:t}function Ns(t,e){t.shapeFlag&6&&t.component?Ns(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function za(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===de?(o.patchFlag&128&&i++,s=s.concat(za(o.children,e,a))):(e||o.type!==dt)&&s.push(a!=null?un(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function Jr(t){return ce(t)?{setup:t,name:t.name}:t}const Ts=t=>!!t.type.__asyncLoader;function Rb(t){ce(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:i=200,timeout:r,suspensible:o=!0,onError:a}=t;let l=null,c,u=0;const h=()=>(u++,l=null,f()),f=()=>{let m;return l||(m=l=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),a)return new Promise((b,R)=>{a(_,()=>b(h()),()=>R(_),u+1)});throw _}).then(_=>m!==l&&l?l:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),c=_,_)))};return Jr({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const m=$e;if(c)return()=>Vl(c,m);const _=g=>{l=null,Us(g,m,13,!s)};if(o&&m.suspense||_i)return f().then(g=>()=>Vl(g,m)).catch(g=>(_(g),()=>s?ee(s,{error:g}):null));const b=or(!1),R=or(),v=or(!!i);return i&&setTimeout(()=>{v.value=!1},i),r!=null&&setTimeout(()=>{if(!b.value&&!R.value){const g=new Error(`Async component timed out after ${r}ms.`);_(g),R.value=g}},r),f().then(()=>{b.value=!0,m.parent&&Qr(m.parent.vnode)&&qa(m.parent.update)}).catch(g=>{_(g),R.value=g}),()=>{if(b.value&&c)return Vl(c,m);if(R.value&&s)return ee(s,{error:R.value});if(n&&!v.value)return ee(n)}}})}function Vl(t,e){const{ref:n,props:s,children:i,ce:r}=e.vnode,o=ee(t,s,i);return o.ref=n,o.ce=r,delete e.vnode.ce,o}const Qr=t=>t.type.__isKeepAlive,Db={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=rs(),s=n.ctx;if(!s.renderer)return()=>{const g=e.default&&e.default();return g&&g.length===1?g[0]:g};const i=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,f=h("div");s.activate=(g,w,S,L,B)=>{const q=g.component;c(g,w,S,0,a),l(q.vnode,g,w,S,q,a,L,g.slotScopeIds,B),tt(()=>{q.isDeactivated=!1,q.a&&ai(q.a);const D=g.props&&g.props.onVnodeMounted;D&&Ct(D,q.parent,g)},a)},s.deactivate=g=>{const w=g.component;c(g,f,null,1,a),tt(()=>{w.da&&ai(w.da);const S=g.props&&g.props.onVnodeUnmounted;S&&Ct(S,w.parent,g),w.isDeactivated=!0},a)};function m(g){Bl(g),u(g,n,a,!0)}function _(g){i.forEach((w,S)=>{const L=Nc(w.type);L&&(!g||!g(L))&&b(S)})}function b(g){const w=i.get(g);!o||!zt(w,o)?m(w):o&&Bl(o),i.delete(g),r.delete(g)}Hn(()=>[t.include,t.exclude],([g,w])=>{g&&_(S=>Yi(g,S)),w&&_(S=>!Yi(w,S))},{flush:"post",deep:!0});let R=null;const v=()=>{R!=null&&i.set(R,jl(n.subTree))};return Yr(v),Ja(v),Qa(()=>{i.forEach(g=>{const{subTree:w,suspense:S}=n,L=jl(w);if(g.type===L.type&&g.key===L.key){Bl(L);const B=L.component.da;B&&tt(B,S);return}m(g)})}),()=>{if(R=null,!e.default)return null;const g=e.default(),w=g[0];if(g.length>1)return o=null,g;if(!Yn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let S=jl(w);const L=S.type,B=Nc(Ts(S)?S.type.__asyncResolved||{}:L),{include:q,exclude:D,max:A}=t;if(q&&(!B||!Yi(q,B))||D&&B&&Yi(D,B))return o=S,w;const O=S.key==null?L:S.key,$=i.get(O);return S.el&&(S=un(S),w.shapeFlag&128&&(w.ssContent=S)),R=O,$?(S.el=$.el,S.component=$.component,S.transition&&Ns(S,S.transition),S.shapeFlag|=512,r.delete(O),r.add(O)):(r.add(O),A&&r.size>parseInt(A,10)&&b(r.values().next().value)),S.shapeFlag|=256,o=S,dm(w.type)?w:S}}},Pb=Db;function Yi(t,e){return Q(t)?t.some(n=>Yi(n,e)):Le(t)?t.split(",").includes(e):gw(t)?t.test(e):!1}function ym(t,e){vm(t,"a",e)}function _m(t,e){vm(t,"da",e)}function vm(t,e,n=$e){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Wa(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Qr(i.parent.vnode)&&Mb(s,e,n,i),i=i.parent}}function Mb(t,e,n,s){const i=Wa(e,t,s,!0);Ya(()=>{yu(s[e],i)},n)}function Bl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function jl(t){return t.shapeFlag&128?t.ssContent:t}function Wa(t,e,n=$e,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Pi(),Xn(n);const a=$t(e,n,t,o);return qn(),Mi(),a});return s?i.unshift(r):i.push(r),r}}const kn=t=>(e,n=$e)=>(!_i||t==="sp")&&Wa(t,(...s)=>e(...s),n),wm=kn("bm"),Yr=kn("m"),bm=kn("bu"),Ja=kn("u"),Qa=kn("bum"),Ya=kn("um"),Em=kn("sp"),Tm=kn("rtg"),Im=kn("rtc");function Cm(t,e=$e){Wa("ec",t,e)}function wt(t,e){const n=it;if(n===null)return t;const s=Za(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Ne]=e[r];o&&(ce(o)&&(o={mounted:o,updated:o}),o.deep&&gs(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function tn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Pi(),$t(l,n,8,[t.el,a,t,e]),Mi())}}const xu="components",xb="directives";function is(t,e){return Lu(xu,t,!0,e)||t}const Sm=Symbol();function Lb(t){return Le(t)?Lu(xu,t,!1)||t:t||Sm}function Fb(t){return Lu(xb,t)}function Lu(t,e,n=!0,s=!1){const i=it||$e;if(i){const r=i.type;if(t===xu){const a=Nc(r,!1);if(a&&(a===e||a===At(e)||a===Kr(At(e))))return r}const o=Ad(i[t]||r[t],e)||Ad(i.appContext[t],e);return!o&&s?r:o}}function Ad(t,e){return t&&(t[e]||t[At(e)]||t[Kr(At(e))])}function St(t,e,n,s){let i;const r=n&&n[s];if(Q(t)||Le(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Oe(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function $b(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(Q(s))for(let i=0;i<s.length;i++)t[s[i].name]=s[i].fn;else s&&(t[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return t}function hs(t,e,n={},s,i){if(it.isCE||it.parent&&Ts(it.parent)&&it.parent.isCE)return e!=="default"&&(n.name=e),ee("slot",n,s&&s());let r=t[e];r&&r._c&&(r._d=!1),T();const o=r&&km(r(n)),a=yi(de,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function km(t){return t.some(e=>Yn(e)?!(e.type===dt||e.type===de&&!km(e.children)):!0)?t:null}function Ub(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:rr(s)]=t[s];return n}const wc=t=>t?Gm(t)?Za(t)||t.proxy:wc(t.parent):null,lr=Ue(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wc(t.parent),$root:t=>wc(t.root),$emit:t=>t.emit,$options:t=>Fu(t),$forceUpdate:t=>t.f||(t.f=()=>qa(t.update)),$nextTick:t=>t.n||(t.n=Ha.bind(t.proxy)),$watch:t=>Nb.bind(t)}),Hl=(t,e)=>t!==Ne&&!t.__isScriptSetup&&Te(t,e),bc={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Hl(s,e))return o[e]=1,s[e];if(i!==Ne&&Te(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Te(c,e))return o[e]=3,r[e];if(n!==Ne&&Te(n,e))return o[e]=4,n[e];Ec&&(o[e]=0)}}const u=lr[e];let h,f;if(u)return e==="$attrs"&&Ot(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ne&&Te(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Te(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Hl(i,e)?(i[e]=n,!0):s!==Ne&&Te(s,e)?(s[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ne&&Te(t,o)||Hl(e,o)||(a=r[0])&&Te(a,o)||Te(s,o)||Te(lr,o)||Te(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Vb=Ue({},bc,{get(t,e){if(e!==Symbol.unscopables)return bc.get(t,e,t)},has(t,e){return e[0]!=="_"&&!iw(e)}});let Ec=!0;function Bb(t){const e=Fu(t),n=t.proxy,s=t.ctx;Ec=!1,e.beforeCreate&&Nd(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:_,activated:b,deactivated:R,beforeDestroy:v,beforeUnmount:g,destroyed:w,unmounted:S,render:L,renderTracked:B,renderTriggered:q,errorCaptured:D,serverPrefetch:A,expose:O,inheritAttrs:$,components:F,directives:re,filters:z}=e;if(c&&jb(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const Re in o){const ke=o[Re];ce(ke)&&(s[Re]=ke.bind(n))}if(i){const Re=i.call(n,n);Oe(Re)&&(t.data=$s(Re))}if(Ec=!0,r)for(const Re in r){const ke=r[Re],Ht=ce(ke)?ke.bind(n,n):ce(ke.get)?ke.get.bind(n,n):Jt,ls=!ce(ke)&&ce(ke.set)?ke.set.bind(n):Jt,qt=Ft({get:Ht,set:ls});Object.defineProperty(s,Re,{enumerable:!0,configurable:!0,get:()=>qt.value,set:It=>qt.value=It})}if(a)for(const Re in a)Am(a[Re],s,n,Re);if(l){const Re=ce(l)?l.call(n):l;Reflect.ownKeys(Re).forEach(ke=>{ar(ke,Re[ke])})}u&&Nd(u,t,"c");function be(Re,ke){Q(ke)?ke.forEach(Ht=>Re(Ht.bind(n))):ke&&Re(ke.bind(n))}if(be(wm,h),be(Yr,f),be(bm,m),be(Ja,_),be(ym,b),be(_m,R),be(Cm,D),be(Im,B),be(Tm,q),be(Qa,g),be(Ya,S),be(Em,A),Q(O))if(O.length){const Re=t.exposed||(t.exposed={});O.forEach(ke=>{Object.defineProperty(Re,ke,{get:()=>n[ke],set:Ht=>n[ke]=Ht})})}else t.exposed||(t.exposed={});L&&t.render===Jt&&(t.render=L),$!=null&&(t.inheritAttrs=$),F&&(t.components=F),re&&(t.directives=re)}function jb(t,e,n=Jt,s=!1){Q(t)&&(t=Tc(t));for(const i in t){const r=t[i];let o;Oe(r)?"default"in r?o=rn(r.from||i,r.default,!0):o=rn(r.from||i):o=rn(r),Ye(o)&&s?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function Nd(t,e,n){$t(Q(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Am(t,e,n,s){const i=s.includes(".")?mm(n,s):()=>n[s];if(Le(t)){const r=e[t];ce(r)&&Hn(i,r)}else if(ce(t))Hn(i,t.bind(n));else if(Oe(t))if(Q(t))t.forEach(r=>Am(r,e,n,s));else{const r=ce(t.handler)?t.handler.bind(n):e[t.handler];ce(r)&&Hn(i,r,t)}}function Fu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>aa(l,c,o,!0)),aa(l,e,o)),Oe(e)&&r.set(e,l),l}function aa(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&aa(t,r,n,!0),i&&i.forEach(o=>aa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Hb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Hb={data:Od,props:ds,emits:ds,methods:ds,computed:ds,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:ds,directives:ds,watch:Gb,provide:Od,inject:qb};function Od(t,e){return e?t?function(){return Ue(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function qb(t,e){return ds(Tc(t),Tc(e))}function Tc(t){if(Q(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function ds(t,e){return t?Ue(Ue(Object.create(null),t),e):e}function Gb(t,e){if(!t)return e;if(!e)return t;const n=Ue(Object.create(null),t);for(const s in e)n[s]=vt(t[s],e[s]);return n}function Kb(t,e,n,s=!1){const i={},r={};na(r,Xa,1),t.propsDefaults=Object.create(null),Nm(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:nm(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function zb(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=ve(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Ga(t.emitsOptions,f))continue;const m=e[f];if(l)if(Te(r,f))m!==r[f]&&(r[f]=m,c=!0);else{const _=At(f);i[_]=Ic(l,a,_,m,t,!1)}else m!==r[f]&&(r[f]=m,c=!0)}}}else{Nm(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!Te(e,h)&&((u=Bt(h))===h||!Te(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Ic(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Te(e,h))&&(delete r[h],c=!0)}c&&bn(t,"set","$attrs")}function Nm(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ir(l))continue;const c=e[l];let u;i&&Te(i,u=At(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ga(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ve(n),c=a||Ne;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Ic(i,l,h,c[h],t,!Te(c,h))}}return o}function Ic(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&ce(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Xn(i),s=c[n]=l.call(null,e),qn())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Bt(n))&&(s=!0))}return s}function Om(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!ce(t)){const u=h=>{l=!0;const[f,m]=Om(h,e,!0);Ue(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Oe(t)&&s.set(t,ri),ri;if(Q(r))for(let u=0;u<r.length;u++){const h=At(r[u]);Rd(h)&&(o[h]=Ne)}else if(r)for(const u in r){const h=At(u);if(Rd(h)){const f=r[u],m=o[h]=Q(f)||ce(f)?{type:f}:Object.assign({},f);if(m){const _=Md(Boolean,m.type),b=Md(String,m.type);m[0]=_>-1,m[1]=b<0||_<b,(_>-1||Te(m,"default"))&&a.push(h)}}}const c=[o,a];return Oe(t)&&s.set(t,c),c}function Rd(t){return t[0]!=="$"}function Dd(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Pd(t,e){return Dd(t)===Dd(e)}function Md(t,e){return Q(e)?e.findIndex(n=>Pd(n,t)):ce(e)&&Pd(e,t)?0:-1}const Rm=t=>t[0]==="_"||t==="$stable",$u=t=>Q(t)?t.map(Lt):[Lt(t)],Wb=(t,e,n)=>{if(e._n)return e;const s=Et((...i)=>$u(e(...i)),n);return s._c=!1,s},Dm=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Rm(i))continue;const r=t[i];if(ce(r))e[i]=Wb(i,r,s);else if(r!=null){const o=$u(r);e[i]=()=>o}}},Pm=(t,e)=>{const n=$u(e);t.slots.default=()=>n},Jb=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ve(e),na(e,"_",n)):Dm(e,t.slots={})}else t.slots={},e&&Pm(t,e);na(t.slots,Xa,1)},Qb=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ne;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Ue(i,e),!n&&a===1&&delete i._):(r=!e.$stable,Dm(e,i)),o=e}else e&&(Pm(t,e),o={default:1});if(r)for(const a in i)!Rm(a)&&!(a in o)&&delete i[a]};function Mm(){return{app:null,config:{isNativeTag:fw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yb=0;function Xb(t,e){return function(s,i=null){ce(s)||(s=Object.assign({},s)),i!=null&&!Oe(i)&&(i=null);const r=Mm(),o=new Set;let a=!1;const l=r.app={_uid:Yb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Zm,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ce(c.install)?(o.add(c),c.install(l,...u)):ce(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=ee(s,i);return f.appContext=r,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Za(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l}};return l}}function la(t,e,n,s,i=!1){if(Q(t)){t.forEach((f,m)=>la(f,e&&(Q(e)?e[m]:e),n,s,i));return}if(Ts(s)&&!i)return;const r=s.shapeFlag&4?Za(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ne?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Le(c)?(u[c]=null,Te(h,c)&&(h[c]=null)):Ye(c)&&(c.value=null)),ce(l))vn(l,a,12,[o,u]);else{const f=Le(l),m=Ye(l);if(f||m){const _=()=>{if(t.f){const b=f?Te(h,l)?h[l]:u[l]:l.value;i?Q(b)&&yu(b,r):Q(b)?b.includes(r)||b.push(r):f?(u[l]=[r],Te(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Te(h,l)&&(h[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,tt(_,n)):_()}}}let Rn=!1;const Po=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Mo=t=>t.nodeType===8;function Zb(t){const{mt:e,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=t,u=(v,g)=>{if(!g.hasChildNodes()){n(null,v,g),oa(),g._vnode=v;return}Rn=!1,h(g.firstChild,v,null,null,null),oa(),g._vnode=v,Rn&&console.error("Hydration completed but contains mismatches.")},h=(v,g,w,S,L,B=!1)=>{const q=Mo(v)&&v.data==="[",D=()=>b(v,g,w,S,L,q),{type:A,ref:O,shapeFlag:$,patchFlag:F}=g;let re=v.nodeType;g.el=v,F===-2&&(B=!1,g.dynamicChildren=null);let z=null;switch(A){case Os:re!==3?g.children===""?(l(g.el=i(""),o(v),v),z=v):z=D():(v.data!==g.children&&(Rn=!0,v.data=g.children),z=r(v));break;case dt:re!==8||q?z=D():z=r(v);break;case Is:if(q&&(v=r(v),re=v.nodeType),re===1||re===3){z=v;const Je=!g.children.length;for(let be=0;be<g.staticCount;be++)Je&&(g.children+=z.nodeType===1?z.outerHTML:z.data),be===g.staticCount-1&&(g.anchor=z),z=r(z);return q?r(z):z}else D();break;case de:q?z=_(v,g,w,S,L,B):z=D();break;default:if($&1)re!==1||g.type.toLowerCase()!==v.tagName.toLowerCase()?z=D():z=f(v,g,w,S,L,B);else if($&6){g.slotScopeIds=L;const Je=o(v);if(e(g,Je,null,w,S,Po(Je),B),z=q?R(v):r(v),z&&Mo(z)&&z.data==="teleport end"&&(z=r(z)),Ts(g)){let be;q?(be=ee(de),be.anchor=z?z.previousSibling:Je.lastChild):be=v.nodeType===3?_e(""):ee("div"),be.el=v,g.component.subTree=be}}else $&64?re!==8?z=D():z=g.type.hydrate(v,g,w,S,L,B,t,m):$&128&&(z=g.type.hydrate(v,g,w,S,Po(o(v)),L,B,t,h))}return O!=null&&la(O,null,S,g),z},f=(v,g,w,S,L,B)=>{B=B||!!g.dynamicChildren;const{type:q,props:D,patchFlag:A,shapeFlag:O,dirs:$}=g,F=q==="input"&&$||q==="option";if(F||A!==-1){if($&&tn(g,null,w,"created"),D)if(F||!B||A&48)for(const z in D)(F&&z.endsWith("value")||Gr(z)&&!ir(z))&&s(v,z,null,D[z],!1,void 0,w);else D.onClick&&s(v,"onClick",null,D.onClick,!1,void 0,w);let re;if((re=D&&D.onVnodeBeforeMount)&&Ct(re,w,g),$&&tn(g,null,w,"beforeMount"),((re=D&&D.onVnodeMounted)||$)&&fm(()=>{re&&Ct(re,w,g),$&&tn(g,null,w,"mounted")},S),O&16&&!(D&&(D.innerHTML||D.textContent))){let z=m(v.firstChild,g,v,w,S,L,B);for(;z;){Rn=!0;const Je=z;z=z.nextSibling,a(Je)}}else O&8&&v.textContent!==g.children&&(Rn=!0,v.textContent=g.children)}return v.nextSibling},m=(v,g,w,S,L,B,q)=>{q=q||!!g.dynamicChildren;const D=g.children,A=D.length;for(let O=0;O<A;O++){const $=q?D[O]:D[O]=Lt(D[O]);if(v)v=h(v,$,S,L,B,q);else{if($.type===Os&&!$.children)continue;Rn=!0,n(null,$,w,null,S,L,Po(w),B)}}return v},_=(v,g,w,S,L,B)=>{const{slotScopeIds:q}=g;q&&(L=L?L.concat(q):q);const D=o(v),A=m(r(v),g,D,w,S,L,B);return A&&Mo(A)&&A.data==="]"?r(g.anchor=A):(Rn=!0,l(g.anchor=c("]"),D,A),A)},b=(v,g,w,S,L,B)=>{if(Rn=!0,g.el=null,B){const A=R(v);for(;;){const O=r(v);if(O&&O!==A)a(O);else break}}const q=r(v),D=o(v);return a(v),n(null,g,D,q,w,S,Po(D),L),q},R=v=>{let g=0;for(;v;)if(v=r(v),v&&Mo(v)&&(v.data==="["&&g++,v.data==="]")){if(g===0)return r(v);g--}return v};return[u,h]}const tt=fm;function xm(t){return Fm(t)}function Lm(t){return Fm(t,Zb)}function Fm(t,e){const n=ww();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=Jt,insertStaticContent:_}=t,b=(p,y,E,C=null,P=null,V=null,K=!1,U=null,j=!!y.dynamicChildren)=>{if(p===y)return;p&&!zt(p,y)&&(C=G(p),It(p,P,V,!0),p=null),y.patchFlag===-2&&(j=!1,y.dynamicChildren=null);const{type:M,ref:se,shapeFlag:Y}=y;switch(M){case Os:R(p,y,E,C);break;case dt:v(p,y,E,C);break;case Is:p==null&&g(y,E,C,K);break;case de:F(p,y,E,C,P,V,K,U,j);break;default:Y&1?L(p,y,E,C,P,V,K,U,j):Y&6?re(p,y,E,C,P,V,K,U,j):(Y&64||Y&128)&&M.process(p,y,E,C,P,V,K,U,j,Ee)}se!=null&&P&&la(se,p&&p.ref,V,y||p,!y)},R=(p,y,E,C)=>{if(p==null)s(y.el=a(y.children),E,C);else{const P=y.el=p.el;y.children!==p.children&&c(P,y.children)}},v=(p,y,E,C)=>{p==null?s(y.el=l(y.children||""),E,C):y.el=p.el},g=(p,y,E,C)=>{[p.el,p.anchor]=_(p.children,y,E,C,p.el,p.anchor)},w=({el:p,anchor:y},E,C)=>{let P;for(;p&&p!==y;)P=f(p),s(p,E,C),p=P;s(y,E,C)},S=({el:p,anchor:y})=>{let E;for(;p&&p!==y;)E=f(p),i(p),p=E;i(y)},L=(p,y,E,C,P,V,K,U,j)=>{K=K||y.type==="svg",p==null?B(y,E,C,P,V,K,U,j):A(p,y,P,V,K,U,j)},B=(p,y,E,C,P,V,K,U)=>{let j,M;const{type:se,props:Y,shapeFlag:ie,transition:he,dirs:ge}=p;if(j=p.el=o(p.type,V,Y&&Y.is,Y),ie&8?u(j,p.children):ie&16&&D(p.children,j,null,C,P,V&&se!=="foreignObject",K,U),ge&&tn(p,null,C,"created"),q(j,p,p.scopeId,K,C),Y){for(const Ae in Y)Ae!=="value"&&!ir(Ae)&&r(j,Ae,null,Y[Ae],V,p.children,C,P,W);"value"in Y&&r(j,"value",null,Y.value),(M=Y.onVnodeBeforeMount)&&Ct(M,C,p)}ge&&tn(p,null,C,"beforeMount");const De=(!P||P&&!P.pendingBranch)&&he&&!he.persisted;De&&he.beforeEnter(j),s(j,y,E),((M=Y&&Y.onVnodeMounted)||De||ge)&&tt(()=>{M&&Ct(M,C,p),De&&he.enter(j),ge&&tn(p,null,C,"mounted")},P)},q=(p,y,E,C,P)=>{if(E&&m(p,E),C)for(let V=0;V<C.length;V++)m(p,C[V]);if(P){let V=P.subTree;if(y===V){const K=P.vnode;q(p,K,K.scopeId,K.slotScopeIds,P.parent)}}},D=(p,y,E,C,P,V,K,U,j=0)=>{for(let M=j;M<p.length;M++){const se=p[M]=U?Ln(p[M]):Lt(p[M]);b(null,se,y,E,C,P,V,K,U)}},A=(p,y,E,C,P,V,K)=>{const U=y.el=p.el;let{patchFlag:j,dynamicChildren:M,dirs:se}=y;j|=p.patchFlag&16;const Y=p.props||Ne,ie=y.props||Ne;let he;E&&cs(E,!1),(he=ie.onVnodeBeforeUpdate)&&Ct(he,E,y,p),se&&tn(y,p,E,"beforeUpdate"),E&&cs(E,!0);const ge=P&&y.type!=="foreignObject";if(M?O(p.dynamicChildren,M,U,E,C,ge,V):K||ke(p,y,U,null,E,C,ge,V,!1),j>0){if(j&16)$(U,y,Y,ie,E,C,P);else if(j&2&&Y.class!==ie.class&&r(U,"class",null,ie.class,P),j&4&&r(U,"style",Y.style,ie.style,P),j&8){const De=y.dynamicProps;for(let Ae=0;Ae<De.length;Ae++){const Be=De[Ae],Gt=Y[Be],Js=ie[Be];(Js!==Gt||Be==="value")&&r(U,Be,Gt,Js,P,p.children,E,C,W)}}j&1&&p.children!==y.children&&u(U,y.children)}else!K&&M==null&&$(U,y,Y,ie,E,C,P);((he=ie.onVnodeUpdated)||se)&&tt(()=>{he&&Ct(he,E,y,p),se&&tn(y,p,E,"updated")},C)},O=(p,y,E,C,P,V,K)=>{for(let U=0;U<y.length;U++){const j=p[U],M=y[U],se=j.el&&(j.type===de||!zt(j,M)||j.shapeFlag&70)?h(j.el):E;b(j,M,se,null,C,P,V,K,!0)}},$=(p,y,E,C,P,V,K)=>{if(E!==C){if(E!==Ne)for(const U in E)!ir(U)&&!(U in C)&&r(p,U,E[U],null,K,y.children,P,V,W);for(const U in C){if(ir(U))continue;const j=C[U],M=E[U];j!==M&&U!=="value"&&r(p,U,M,j,K,y.children,P,V,W)}"value"in C&&r(p,"value",E.value,C.value)}},F=(p,y,E,C,P,V,K,U,j)=>{const M=y.el=p?p.el:a(""),se=y.anchor=p?p.anchor:a("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:he}=y;he&&(U=U?U.concat(he):he),p==null?(s(M,E,C),s(se,E,C),D(y.children,E,se,P,V,K,U,j)):Y>0&&Y&64&&ie&&p.dynamicChildren?(O(p.dynamicChildren,ie,E,P,V,K,U),(y.key!=null||P&&y===P.subTree)&&Uu(p,y,!0)):ke(p,y,E,se,P,V,K,U,j)},re=(p,y,E,C,P,V,K,U,j)=>{y.slotScopeIds=U,p==null?y.shapeFlag&512?P.ctx.activate(y,E,C,K,j):z(y,E,C,P,V,K,j):Je(p,y,j)},z=(p,y,E,C,P,V,K)=>{const U=p.component=qm(p,C,P);if(Qr(p)&&(U.ctx.renderer=Ee),Km(U),U.asyncDep){if(P&&P.registerDep(U,be),!p.el){const j=U.subTree=ee(dt);v(null,j,y,E)}return}be(U,p,y,E,P,V,K)},Je=(p,y,E)=>{const C=y.component=p.component;if(wb(p,y,E))if(C.asyncDep&&!C.asyncResolved){Re(C,y,E);return}else C.next=y,fb(C.update),C.update();else y.el=p.el,C.vnode=y},be=(p,y,E,C,P,V,K)=>{const U=()=>{if(p.isMounted){let{next:se,bu:Y,u:ie,parent:he,vnode:ge}=p,De=se,Ae;cs(p,!1),se?(se.el=ge.el,Re(p,se,K)):se=ge,Y&&ai(Y),(Ae=se.props&&se.props.onVnodeBeforeUpdate)&&Ct(Ae,he,se,ge),cs(p,!0);const Be=Ko(p),Gt=p.subTree;p.subTree=Be,b(Gt,Be,h(Gt.el),G(Gt),p,P,V),se.el=Be.el,De===null&&Ru(p,Be.el),ie&&tt(ie,P),(Ae=se.props&&se.props.onVnodeUpdated)&&tt(()=>Ct(Ae,he,se,ge),P)}else{let se;const{el:Y,props:ie}=y,{bm:he,m:ge,parent:De}=p,Ae=Ts(y);if(cs(p,!1),he&&ai(he),!Ae&&(se=ie&&ie.onVnodeBeforeMount)&&Ct(se,De,y),cs(p,!0),Y&&me){const Be=()=>{p.subTree=Ko(p),me(Y,p.subTree,p,P,null)};Ae?y.type.__asyncLoader().then(()=>!p.isUnmounted&&Be()):Be()}else{const Be=p.subTree=Ko(p);b(null,Be,E,C,p,P,V),y.el=Be.el}if(ge&&tt(ge,P),!Ae&&(se=ie&&ie.onVnodeMounted)){const Be=y;tt(()=>Ct(se,De,Be),P)}(y.shapeFlag&256||De&&Ts(De.vnode)&&De.vnode.shapeFlag&256)&&p.a&&tt(p.a,P),p.isMounted=!0,y=E=C=null}},j=p.effect=new zr(U,()=>qa(M),p.scope),M=p.update=()=>j.run();M.id=p.uid,cs(p,!0),M()},Re=(p,y,E)=>{y.component=p;const C=p.vnode.props;p.vnode=y,p.next=null,zb(p,y.props,C,E),Qb(p,y.children,E),Pi(),Id(),Mi()},ke=(p,y,E,C,P,V,K,U,j=!1)=>{const M=p&&p.children,se=p?p.shapeFlag:0,Y=y.children,{patchFlag:ie,shapeFlag:he}=y;if(ie>0){if(ie&128){ls(M,Y,E,C,P,V,K,U,j);return}else if(ie&256){Ht(M,Y,E,C,P,V,K,U,j);return}}he&8?(se&16&&W(M,P,V),Y!==M&&u(E,Y)):se&16?he&16?ls(M,Y,E,C,P,V,K,U,j):W(M,P,V,!0):(se&8&&u(E,""),he&16&&D(Y,E,C,P,V,K,U,j))},Ht=(p,y,E,C,P,V,K,U,j)=>{p=p||ri,y=y||ri;const M=p.length,se=y.length,Y=Math.min(M,se);let ie;for(ie=0;ie<Y;ie++){const he=y[ie]=j?Ln(y[ie]):Lt(y[ie]);b(p[ie],he,E,null,P,V,K,U,j)}M>se?W(p,P,V,!0,!1,Y):D(y,E,C,P,V,K,U,j,Y)},ls=(p,y,E,C,P,V,K,U,j)=>{let M=0;const se=y.length;let Y=p.length-1,ie=se-1;for(;M<=Y&&M<=ie;){const he=p[M],ge=y[M]=j?Ln(y[M]):Lt(y[M]);if(zt(he,ge))b(he,ge,E,null,P,V,K,U,j);else break;M++}for(;M<=Y&&M<=ie;){const he=p[Y],ge=y[ie]=j?Ln(y[ie]):Lt(y[ie]);if(zt(he,ge))b(he,ge,E,null,P,V,K,U,j);else break;Y--,ie--}if(M>Y){if(M<=ie){const he=ie+1,ge=he<se?y[he].el:C;for(;M<=ie;)b(null,y[M]=j?Ln(y[M]):Lt(y[M]),E,ge,P,V,K,U,j),M++}}else if(M>ie)for(;M<=Y;)It(p[M],P,V,!0),M++;else{const he=M,ge=M,De=new Map;for(M=ge;M<=ie;M++){const Mt=y[M]=j?Ln(y[M]):Lt(y[M]);Mt.key!=null&&De.set(Mt.key,M)}let Ae,Be=0;const Gt=ie-ge+1;let Js=!1,dd=0;const Gi=new Array(Gt);for(M=0;M<Gt;M++)Gi[M]=0;for(M=he;M<=Y;M++){const Mt=p[M];if(Be>=Gt){It(Mt,P,V,!0);continue}let en;if(Mt.key!=null)en=De.get(Mt.key);else for(Ae=ge;Ae<=ie;Ae++)if(Gi[Ae-ge]===0&&zt(Mt,y[Ae])){en=Ae;break}en===void 0?It(Mt,P,V,!0):(Gi[en-ge]=M+1,en>=dd?dd=en:Js=!0,b(Mt,y[en],E,null,P,V,K,U,j),Be++)}const fd=Js?e0(Gi):ri;for(Ae=fd.length-1,M=Gt-1;M>=0;M--){const Mt=ge+M,en=y[Mt],pd=Mt+1<se?y[Mt+1].el:C;Gi[M]===0?b(null,en,E,pd,P,V,K,U,j):Js&&(Ae<0||M!==fd[Ae]?qt(en,E,pd,2):Ae--)}}},qt=(p,y,E,C,P=null)=>{const{el:V,type:K,transition:U,children:j,shapeFlag:M}=p;if(M&6){qt(p.component.subTree,y,E,C);return}if(M&128){p.suspense.move(y,E,C);return}if(M&64){K.move(p,y,E,Ee);return}if(K===de){s(V,y,E);for(let Y=0;Y<j.length;Y++)qt(j[Y],y,E,C);s(p.anchor,y,E);return}if(K===Is){w(p,y,E);return}if(C!==2&&M&1&&U)if(C===0)U.beforeEnter(V),s(V,y,E),tt(()=>U.enter(V),P);else{const{leave:Y,delayLeave:ie,afterLeave:he}=U,ge=()=>s(V,y,E),De=()=>{Y(V,()=>{ge(),he&&he()})};ie?ie(V,ge,De):De()}else s(V,y,E)},It=(p,y,E,C=!1,P=!1)=>{const{type:V,props:K,ref:U,children:j,dynamicChildren:M,shapeFlag:se,patchFlag:Y,dirs:ie}=p;if(U!=null&&la(U,null,E,p,!0),se&256){y.ctx.deactivate(p);return}const he=se&1&&ie,ge=!Ts(p);let De;if(ge&&(De=K&&K.onVnodeBeforeUnmount)&&Ct(De,y,p),se&6)N(p.component,E,C);else{if(se&128){p.suspense.unmount(E,C);return}he&&tn(p,null,y,"beforeUnmount"),se&64?p.type.remove(p,y,E,P,Ee,C):M&&(V!==de||Y>0&&Y&64)?W(M,y,E,!1,!0):(V===de&&Y&384||!P&&se&16)&&W(j,y,E),C&&Ws(p)}(ge&&(De=K&&K.onVnodeUnmounted)||he)&&tt(()=>{De&&Ct(De,y,p),he&&tn(p,null,y,"unmounted")},E)},Ws=p=>{const{type:y,el:E,anchor:C,transition:P}=p;if(y===de){Co(E,C);return}if(y===Is){S(p);return}const V=()=>{i(E),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(p.shapeFlag&1&&P&&!P.persisted){const{leave:K,delayLeave:U}=P,j=()=>K(E,V);U?U(p.el,V,j):j()}else V()},Co=(p,y)=>{let E;for(;p!==y;)E=f(p),i(p),p=E;i(y)},N=(p,y,E)=>{const{bum:C,scope:P,update:V,subTree:K,um:U}=p;C&&ai(C),P.stop(),V&&(V.active=!1,It(K,p,y,E)),U&&tt(U,y),tt(()=>{p.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},W=(p,y,E,C=!1,P=!1,V=0)=>{for(let K=V;K<p.length;K++)It(p[K],y,E,C,P)},G=p=>p.shapeFlag&6?G(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),te=(p,y,E)=>{p==null?y._vnode&&It(y._vnode,null,null,!0):b(y._vnode||null,p,y,null,null,null,E),Id(),oa(),y._vnode=p},Ee={p:b,um:It,m:qt,r:Ws,mt:z,mc:D,pc:ke,pbc:O,n:G,o:t};let Fe,me;return e&&([Fe,me]=e(Ee)),{render:te,hydrate:Fe,createApp:Xb(te,Fe)}}function cs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Uu(t,e,n=!1){const s=t.children,i=e.children;if(Q(s)&&Q(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ln(i[r]),a.el=o.el),n||Uu(o,a)),a.type===Os&&(a.el=o.el)}}function e0(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const t0=t=>t.__isTeleport,cr=t=>t&&(t.disabled||t.disabled===""),xd=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Cc=(t,e)=>{const n=t&&t.to;return Le(n)?e?e(n):null:n},n0={__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:m,querySelector:_,createText:b,createComment:R}}=c,v=cr(e.props);let{shapeFlag:g,children:w,dynamicChildren:S}=e;if(t==null){const L=e.el=b(""),B=e.anchor=b("");m(L,n,s),m(B,n,s);const q=e.target=Cc(e.props,_),D=e.targetAnchor=b("");q&&(m(D,q),o=o||xd(q));const A=(O,$)=>{g&16&&u(w,O,$,i,r,o,a,l)};v?A(n,B):q&&A(q,D)}else{e.el=t.el;const L=e.anchor=t.anchor,B=e.target=t.target,q=e.targetAnchor=t.targetAnchor,D=cr(t.props),A=D?n:B,O=D?L:q;if(o=o||xd(B),S?(f(t.dynamicChildren,S,A,i,r,o,a),Uu(t,e,!0)):l||h(t,e,A,O,i,r,o,a,!1),v)D||xo(e,n,L,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=Cc(e.props,_);$&&xo(e,$,null,c,0)}else D&&xo(e,B,q,c,1)}$m(e)},remove(t,e,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=t;if(h&&r(u),(o||!cr(f))&&(r(c),a&16))for(let m=0;m<l.length;m++){const _=l[m];i(_,e,n,!0,!!_.dynamicChildren)}},move:xo,hydrate:s0};function xo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=r===2;if(h&&s(o,e,n),(!h||cr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);h&&s(a,e,n)}function s0(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Cc(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(cr(e.props))e.anchor=c(o(t),e,a(t),n,s,i,r),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,n,s,i,r)}$m(e)}return e.anchor&&o(e.anchor)}const i0=n0;function $m(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const de=Symbol(void 0),Os=Symbol(void 0),dt=Symbol(void 0),Is=Symbol(void 0),ur=[];let kt=null;function T(t=!1){ur.push(kt=t?null:[])}function Um(){ur.pop(),kt=ur[ur.length-1]||null}let Rs=1;function Sc(t){Rs+=t}function Vm(t){return t.dynamicChildren=Rs>0?kt||ri:null,Um(),Rs>0&&kt&&kt.push(t),t}function I(t,e,n,s,i,r){return Vm(d(t,e,n,s,i,r,!0))}function yi(t,e,n,s,i){return Vm(ee(t,e,n,s,i,!0))}function Yn(t){return t?t.__v_isVNode===!0:!1}function zt(t,e){return t.type===e.type&&t.key===e.key}function r0(t){}const Xa="__vInternal",Bm=({key:t})=>t??null,zo=({ref:t,ref_key:e,ref_for:n})=>t!=null?Le(t)||Ye(t)||ce(t)?{i:it,r:t,k:e,f:!!n}:t:null;function d(t,e=null,n=null,s=0,i=null,r=t===de?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Bm(e),ref:e&&zo(e),scopeId:Ka,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:it};return a?(Vu(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Le(n)?8:16),Rs>0&&!o&&kt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&kt.push(l),l}const ee=o0;function o0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Sm)&&(t=dt),Yn(t)){const a=un(t,e,!0);return n&&Vu(a,n),Rs>0&&!r&&kt&&(a.shapeFlag&6?kt[kt.indexOf(t)]=a:kt.push(a)),a.patchFlag|=-2,a}if(f0(t)&&(t=t.__vccOpts),e){e=jm(e);let{class:a,style:l}=e;a&&!Le(a)&&(e.class=qr(a)),Oe(l)&&(Iu(l)&&!Q(l)&&(l=Ue({},l)),e.style=Hr(l))}const o=Le(t)?1:dm(t)?128:t0(t)?64:Oe(t)?4:ce(t)?2:0;return d(t,e,n,s,i,o,r,!0)}function jm(t){return t?Iu(t)||Xa in t?Ue({},t):t:null}function un(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?Hm(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Bm(a),ref:e&&e.ref?n&&i?Q(i)?i.concat(zo(e)):[i,zo(e)]:zo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==de?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&un(t.ssContent),ssFallback:t.ssFallback&&un(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function _e(t=" ",e=0){return ee(Os,null,t,e)}function Xr(t,e){const n=ee(Is,null,t);return n.staticCount=e,n}function H(t="",e=!1){return e?(T(),yi(dt,null,t)):ee(dt,null,t)}function Lt(t){return t==null||typeof t=="boolean"?ee(dt):Q(t)?ee(de,null,t.slice()):typeof t=="object"?Ln(t):ee(Os,null,String(t))}function Ln(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:un(t)}function Vu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Q(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Vu(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Xa in e)?e._ctx=it:i===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:it},n=32):(e=String(e),s&64?(n=16,e=[_e(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hm(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=qr([e.class,s.class]));else if(i==="style")e.style=Hr([e.style,s.style]);else if(Gr(i)){const r=e[i],o=s[i];o&&r!==o&&!(Q(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ct(t,e,n,s=null){$t(t,e,7,[n,s])}const a0=Mm();let l0=0;function qm(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||a0,r={uid:l0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new wu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Om(s,i),emitsOptions:hm(s,i),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:s.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=mb.bind(null,r),t.ce&&t.ce(r),r}let $e=null;const rs=()=>$e||it,Xn=t=>{$e=t,t.scope.on()},qn=()=>{$e&&$e.scope.off(),$e=null};function Gm(t){return t.vnode.shapeFlag&4}let _i=!1;function Km(t,e=!1){_i=e;const{props:n,children:s}=t.vnode,i=Gm(t);Kb(t,n,i,e),Jb(t,s);const r=i?c0(t,e):void 0;return _i=!1,r}function c0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Cu(new Proxy(t.ctx,bc));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?Wm(t):null;Xn(t),Pi();const r=vn(s,t,0,[t.props,i]);if(Mi(),qn(),_u(r)){if(r.then(qn,qn),e)return r.then(o=>{kc(t,o,e)}).catch(o=>{Us(o,t,0)});t.asyncDep=r}else kc(t,r,e)}else zm(t,e)}function kc(t,e,n){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Oe(e)&&(t.setupState=Au(e)),zm(t,n)}let ca,Ac;function u0(t){ca=t,Ac=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Vb))}}const h0=()=>!ca;function zm(t,e,n){const s=t.type;if(!t.render){if(!e&&ca&&!s.render){const i=s.template||Fu(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ue(Ue({isCustomElement:r,delimiters:a},o),l);s.render=ca(i,c)}}t.render=s.render||Jt,Ac&&Ac(t)}Xn(t),Pi(),Bb(t),Mi(),qn()}function d0(t){return new Proxy(t.attrs,{get(e,n){return Ot(t,"get","$attrs"),e[n]}})}function Wm(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=d0(t))},slots:t.slots,emit:t.emit,expose:e}}function Za(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Au(Cu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in lr)return lr[n](t)},has(e,n){return n in e||n in lr}}))}function Nc(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function f0(t){return ce(t)&&"__vccOpts"in t}const Ft=(t,e)=>lb(t,e,_i);function p0(){return null}function m0(){return null}function g0(t){}function y0(t,e){return null}function _0(){return Jm().slots}function v0(){return Jm().attrs}function Jm(){const t=rs();return t.setupContext||(t.setupContext=Wm(t))}function w0(t,e){const n=Q(t)?t.reduce((s,i)=>(s[i]={},s),{}):t;for(const s in e){const i=n[s];i?Q(i)||ce(i)?n[s]={type:i,default:e[s]}:i.default=e[s]:i===null&&(n[s]={default:e[s]})}return n}function b0(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function E0(t){const e=rs();let n=t();return qn(),_u(n)&&(n=n.catch(s=>{throw Xn(e),s})),[n,()=>Xn(e)]}function el(t,e,n){const s=arguments.length;return s===2?Oe(e)&&!Q(e)?Yn(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Yn(n)&&(n=[n]),ee(t,e,n))}const Qm=Symbol(""),Ym=()=>rn(Qm);function T0(){}function I0(t,e,n,s){const i=n[s];if(i&&Xm(i,t))return i;const r=e();return r.memo=t.slice(),n[s]=r}function Xm(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(mi(n[s],e[s]))return!1;return Rs>0&&kt&&kt.push(t),!0}const Zm="3.2.47",C0={createComponentInstance:qm,setupComponent:Km,renderComponentRoot:Ko,setCurrentRenderingInstance:Ir,isVNode:Yn,normalizeVNode:Lt},S0=C0,k0=null,A0=null,N0="http://www.w3.org/2000/svg",ms=typeof document<"u"?document:null,Ld=ms&&ms.createElement("template"),O0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?ms.createElementNS(N0,t):ms.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>ms.createTextNode(t),createComment:t=>ms.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ms.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Ld.innerHTML=s?`<svg>${t}</svg>`:t;const a=Ld.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function R0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function D0(t,e,n){const s=t.style,i=Le(n);if(n&&!i){if(e&&!Le(e))for(const r in e)n[r]==null&&Oc(s,r,"");for(const r in n)Oc(s,r,n[r])}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const Fd=/\s*!important$/;function Oc(t,e,n){if(Q(n))n.forEach(s=>Oc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=P0(t,e);Fd.test(n)?t.setProperty(Bt(s),n.replace(Fd,""),"important"):t[s]=n}}const $d=["Webkit","Moz","ms"],ql={};function P0(t,e){const n=ql[e];if(n)return n;let s=At(e);if(s!=="filter"&&s in t)return ql[e]=s;s=Kr(s);for(let i=0;i<$d.length;i++){const r=$d[i]+s;if(r in t)return ql[e]=r}return e}const Ud="http://www.w3.org/1999/xlink";function M0(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Ud,e.slice(6,e.length)):t.setAttributeNS(Ud,e,n);else{const r=hw(e);n==null||r&&!$p(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function x0(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=$p(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function mn(t,e,n,s){t.addEventListener(e,n,s)}function L0(t,e,n,s){t.removeEventListener(e,n,s)}function F0(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=$0(e);if(s){const c=r[e]=B0(s,i);mn(t,a,c,l)}else o&&(L0(t,a,o,l),r[e]=void 0)}}const Vd=/(?:Once|Passive|Capture)$/;function $0(t){let e;if(Vd.test(t)){e={};let s;for(;s=t.match(Vd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bt(t.slice(2)),e]}let Gl=0;const U0=Promise.resolve(),V0=()=>Gl||(U0.then(()=>Gl=0),Gl=Date.now());function B0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$t(j0(s,n.value),e,5,[s])};return n.value=t,n.attached=V0(),n}function j0(t,e){if(Q(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Bd=/^on[a-z]/,H0=(t,e,n,s,i=!1,r,o,a,l)=>{e==="class"?R0(t,s,i):e==="style"?D0(t,n,s):Gr(e)?gu(e)||F0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):q0(t,e,s,i))?x0(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),M0(t,e,s,i))};function q0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Bd.test(e)&&ce(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Bd.test(e)&&Le(n)?!1:e in t}function eg(t,e){const n=Jr(t);class s extends tl{constructor(r){super(n,r,e)}}return s.def=n,s}const G0=t=>eg(t,mg),K0=typeof HTMLElement<"u"?HTMLElement:class{};class tl extends K0{constructor(e,n={},s){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ha(()=>{this._connected||(Pc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(s,i=!1)=>{const{props:r,styles:o}=s;let a;if(r&&!Q(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=ia(this._props[l])),(a||(a=Object.create(null)))[At(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>e(s,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,s=Q(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(At))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r)}})}_setAttr(e){let n=this.getAttribute(e);const s=At(e);this._numberProps&&this._numberProps[s]&&(n=ia(n)),this._setProp(s,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Bt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Bt(e),n+""):n||this.removeAttribute(Bt(e))))}_update(){Pc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=ee(this._def,Ue({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};n.emit=(r,...o)=>{s(r,o),Bt(r)!==r&&s(Bt(r),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof tl){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function z0(t="$style"){{const e=rs();if(!e)return Ne;const n=e.type.__cssModules;if(!n)return Ne;const s=n[t];return s||Ne}}function W0(t){const e=rs();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Dc(r,i))},s=()=>{const i=t(e.proxy);Rc(e.subTree,i),n(i)};pm(s),Yr(()=>{const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),Ya(()=>i.disconnect())})}function Rc(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Rc(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Dc(t.el,e);else if(t.type===de)t.children.forEach(n=>Rc(n,e));else if(t.type===Is){let{el:n,anchor:s}=t;for(;n&&(Dc(n,e),n!==s);)n=n.nextSibling}}function Dc(t,e){if(t.nodeType===1){const n=t.style;for(const s in e)n.setProperty(`--${s}`,e[s])}}const Dn="transition",Ki="animation",Bu=(t,{slots:e})=>el(Mu,ng(t),e);Bu.displayName="Transition";const tg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},J0=Bu.props=Ue({},Mu.props,tg),us=(t,e=[])=>{Q(t)?t.forEach(n=>n(...e)):t&&t(...e)},jd=t=>t?Q(t)?t.some(e=>e.length>1):t.length>1:!1;function ng(t){const e={};for(const F in t)F in tg||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,_=Q0(i),b=_&&_[0],R=_&&_[1],{onBeforeEnter:v,onEnter:g,onEnterCancelled:w,onLeave:S,onLeaveCancelled:L,onBeforeAppear:B=v,onAppear:q=g,onAppearCancelled:D=w}=e,A=(F,re,z)=>{xn(F,re?u:a),xn(F,re?c:o),z&&z()},O=(F,re)=>{F._isLeaving=!1,xn(F,h),xn(F,m),xn(F,f),re&&re()},$=F=>(re,z)=>{const Je=F?q:g,be=()=>A(re,F,z);us(Je,[re,be]),Hd(()=>{xn(re,F?l:r),fn(re,F?u:a),jd(Je)||qd(re,s,b,be)})};return Ue(e,{onBeforeEnter(F){us(v,[F]),fn(F,r),fn(F,o)},onBeforeAppear(F){us(B,[F]),fn(F,l),fn(F,c)},onEnter:$(!1),onAppear:$(!0),onLeave(F,re){F._isLeaving=!0;const z=()=>O(F,re);fn(F,h),ig(),fn(F,f),Hd(()=>{F._isLeaving&&(xn(F,h),fn(F,m),jd(S)||qd(F,s,R,z))}),us(S,[F,z])},onEnterCancelled(F){A(F,!1),us(w,[F])},onAppearCancelled(F){A(F,!0),us(D,[F])},onLeaveCancelled(F){O(F),us(L,[F])}})}function Q0(t){if(t==null)return null;if(Oe(t))return[Kl(t.enter),Kl(t.leave)];{const e=Kl(t);return[e,e]}}function Kl(t){return ia(t)}function fn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function xn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Hd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Y0=0;function qd(t,e,n,s){const i=t._endId=++Y0,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=sg(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),r()},f=m=>{m.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function sg(t,e){const n=window.getComputedStyle(t),s=_=>(n[_]||"").split(", "),i=s(`${Dn}Delay`),r=s(`${Dn}Duration`),o=Gd(i,r),a=s(`${Ki}Delay`),l=s(`${Ki}Duration`),c=Gd(a,l);let u=null,h=0,f=0;e===Dn?o>0&&(u=Dn,h=o,f=r.length):e===Ki?c>0&&(u=Ki,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?Dn:Ki:null,f=u?u===Dn?r.length:l.length:0);const m=u===Dn&&/\b(transform|all)(,|$)/.test(s(`${Dn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function Gd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Kd(n)+Kd(t[s])))}function Kd(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ig(){return document.body.offsetHeight}const rg=new WeakMap,og=new WeakMap,ag={name:"TransitionGroup",props:Ue({},J0,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=rs(),s=Pu();let i,r;return Ja(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!sE(i[0].el,n.vnode.el,o))return;i.forEach(eE),i.forEach(tE);const a=i.filter(nE);ig(),a.forEach(l=>{const c=l.el,u=c.style;fn(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,xn(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=ve(t),a=ng(o);let l=o.tag||de;i=r,r=e.default?za(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Ns(u,gi(u,a,s,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Ns(u,gi(u,a,s,n)),rg.set(u,u.el.getBoundingClientRect())}return ee(l,null,r)}}},X0=t=>delete t.mode;ag.props;const Z0=ag;function eE(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function tE(t){og.set(t,t.el.getBoundingClientRect())}function nE(t){const e=rg.get(t),n=og.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function sE(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:r}=sg(s);return i.removeChild(s),r}const Zn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Q(e)?n=>ai(e,n):e};function iE(t){t.target.composing=!0}function zd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bt={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=Zn(i);const r=s||i.props&&i.props.type==="number";mn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=sa(a)),t._assign(a)}),n&&mn(t,"change",()=>{t.value=t.value.trim()}),e||(mn(t,"compositionstart",iE),mn(t,"compositionend",zd),mn(t,"change",zd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=Zn(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&sa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},ju={deep:!0,created(t,e,n){t._assign=Zn(n),mn(t,"change",()=>{const s=t._modelValue,i=vi(t),r=t.checked,o=t._assign;if(Q(s)){const a=La(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Fs(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(lg(t,r))})},mounted:Wd,beforeUpdate(t,e,n){t._assign=Zn(n),Wd(t,e,n)}};function Wd(t,{value:e,oldValue:n},s){t._modelValue=e,Q(e)?t.checked=La(e,s.props.value)>-1:Fs(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Jn(e,lg(t,!0)))}const Hu={created(t,{value:e},n){t.checked=Jn(e,n.props.value),t._assign=Zn(n),mn(t,"change",()=>{t._assign(vi(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=Zn(s),e!==n&&(t.checked=Jn(e,s.props.value))}},Sr={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Fs(e);mn(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?sa(vi(o)):vi(o));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=Zn(s)},mounted(t,{value:e}){Jd(t,e)},beforeUpdate(t,e,n){t._assign=Zn(n)},updated(t,{value:e}){Jd(t,e)}};function Jd(t,e){const n=t.multiple;if(!(n&&!Q(e)&&!Fs(e))){for(let s=0,i=t.options.length;s<i;s++){const r=t.options[s],o=vi(r);if(n)Q(e)?r.selected=La(e,o)>-1:r.selected=e.has(o);else if(Jn(vi(r),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function vi(t){return"_value"in t?t._value:t.value}function lg(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const cg={created(t,e,n){Lo(t,e,n,null,"created")},mounted(t,e,n){Lo(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Lo(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Lo(t,e,n,s,"updated")}};function ug(t,e){switch(t){case"SELECT":return Sr;case"TEXTAREA":return bt;default:switch(e){case"checkbox":return ju;case"radio":return Hu;default:return bt}}}function Lo(t,e,n,s,i){const o=ug(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,s)}function rE(){bt.getSSRProps=({value:t})=>({value:t}),Hu.getSSRProps=({value:t},e)=>{if(e.props&&Jn(e.props.value,t))return{checked:!0}},ju.getSSRProps=({value:t},e)=>{if(Q(t)){if(e.props&&La(t,e.props.value)>-1)return{checked:!0}}else if(Fs(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},cg.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=ug(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const oE=["ctrl","shift","alt","meta"],aE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>oE.some(n=>t[`${n}Key`]&&!e.includes(n))},lE=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const r=aE[e[i]];if(r&&r(n,e))return}return t(n,...s)},cE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uE=(t,e)=>n=>{if(!("key"in n))return;const s=Bt(n.key);if(e.some(i=>i===s||cE[i]===s))return t(n)},hg={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):zi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),zi(t,!0),s.enter(t)):s.leave(t,()=>{zi(t,!1)}):zi(t,e))},beforeUnmount(t,{value:e}){zi(t,e)}};function zi(t,e){t.style.display=e?t._vod:"none"}function hE(){hg.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const dg=Ue({patchProp:H0},O0);let hr,Qd=!1;function fg(){return hr||(hr=xm(dg))}function pg(){return hr=Qd?hr:Lm(dg),Qd=!0,hr}const Pc=(...t)=>{fg().render(...t)},mg=(...t)=>{pg().hydrate(...t)},gg=(...t)=>{const e=fg().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=yg(s);if(!i)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},dE=(...t)=>{const e=pg().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=yg(s);if(i)return n(i,!0,i instanceof SVGElement)},e};function yg(t){return Le(t)?document.querySelector(t):t}let Yd=!1;const fE=()=>{Yd||(Yd=!0,rE(),hE())},pE=()=>{},mE=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Mu,Comment:dt,EffectScope:wu,Fragment:de,KeepAlive:Pb,ReactiveEffect:zr,Static:Is,Suspense:Eb,Teleport:i0,Text:Os,Transition:Bu,TransitionGroup:Z0,VueElement:tl,assertNumber:ub,callWithAsyncErrorHandling:$t,callWithErrorHandling:vn,camelize:At,capitalize:Kr,cloneVNode:un,compatUtils:A0,compile:pE,computed:Ft,createApp:gg,createBlock:yi,createCommentVNode:H,createElementBlock:I,createElementVNode:d,createHydrationRenderer:Lm,createPropsRestProxy:b0,createRenderer:xm,createSSRApp:dE,createSlots:$b,createStaticVNode:Xr,createTextVNode:_e,createVNode:ee,customRef:ib,defineAsyncComponent:Rb,defineComponent:Jr,defineCustomElement:eg,defineEmits:m0,defineExpose:g0,defineProps:p0,defineSSRCustomElement:G0,get devtools(){return Zs},effect:Cw,effectScope:bw,getCurrentInstance:rs,getCurrentScope:Hp,getTransitionRawChildren:za,guardReactiveProps:jm,h:el,handleError:Us,hydrate:mg,initCustomFormatter:T0,initDirectivesForSSR:fE,inject:rn,isMemoSame:Xm,isProxy:Iu,isReactive:bs,isReadonly:As,isRef:Ye,isRuntimeOnly:h0,isShallow:wr,isVNode:Yn,markRaw:Cu,mergeDefaults:w0,mergeProps:Hm,nextTick:Ha,normalizeClass:qr,normalizeProps:cw,normalizeStyle:Hr,onActivated:ym,onBeforeMount:wm,onBeforeUnmount:Qa,onBeforeUpdate:bm,onDeactivated:_m,onErrorCaptured:Cm,onMounted:Yr,onRenderTracked:Im,onRenderTriggered:Tm,onScopeDispose:Ew,onServerPrefetch:Em,onUnmounted:Ya,onUpdated:Ja,openBlock:T,popScopeId:Dt,provide:ar,proxyRefs:Au,pushScopeId:Rt,queuePostFlushCb:Ou,reactive:$s,readonly:Tu,ref:or,registerRuntimeCompiler:u0,render:Pc,renderList:St,renderSlot:hs,resolveComponent:is,resolveDirective:Fb,resolveDynamicComponent:Lb,resolveFilter:k0,resolveTransitionHooks:gi,setBlockTracking:Sc,setDevtoolsHook:um,setTransitionHooks:Ns,shallowReactive:nm,shallowReadonly:Zw,shallowRef:sm,ssrContextKey:Qm,ssrUtils:S0,stop:Sw,toDisplayString:oe,toHandlerKey:rr,toHandlers:Ub,toRaw:ve,toRef:rm,toRefs:rb,transformVNodeArgs:r0,triggerRef:tb,unref:Es,useAttrs:v0,useCssModule:z0,useCssVars:W0,useSSRContext:Ym,useSlots:_0,useTransitionState:Pu,vModelCheckbox:ju,vModelDynamic:cg,vModelRadio:Hu,vModelSelect:Sr,vModelText:bt,vShow:hg,version:Zm,warn:cb,watch:Hn,watchEffect:kb,watchPostEffect:pm,watchSyncEffect:Ab,withAsyncContext:E0,withCtx:Et,withDefaults:y0,withDirectives:wt,withKeys:uE,withMemo:I0,withModifiers:lE,withScopeId:gb},Symbol.toStringTag,{value:"Module"}));function gE(){return _g().__VUE_DEVTOOLS_GLOBAL_HOOK__}function _g(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const yE=typeof Proxy=="function",_E="devtools-plugin:setup",vE="plugin:settings:set";let Qs,Mc;function wE(){var t;return Qs!==void 0||(typeof window<"u"&&window.performance?(Qs=!0,Mc=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Qs=!0,Mc=global.perf_hooks.performance):Qs=!1),Qs}function bE(){return wE()?Mc.now():Date.now()}class EE{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const s={};if(e.settings)for(const o in e.settings){const a=e.settings[o];s[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return bE()}},n&&n.on(vE,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function TE(t,e){const n=t,s=_g(),i=gE(),r=yE&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(_E,t,e);else{const o=r?new EE(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ei=typeof window<"u";function IE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Se=Object.assign;function zl(t,e){const n={};for(const s in e){const i=e[s];n[s]=Qt(i)?i.map(t):t(i)}return n}const dr=()=>{},Qt=Array.isArray,CE=/\/$/,SE=t=>t.replace(CE,"");function Wl(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=OE(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function kE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function AE(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&wi(e.matched[s],n.matched[i])&&vg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!NE(t[n],e[n]))return!1;return!0}function NE(t,e){return Qt(t)?Zd(t,e):Qt(e)?Zd(e,t):t===e}function Zd(t,e){return Qt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function OE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var kr;(function(t){t.pop="pop",t.push="push"})(kr||(kr={}));var fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fr||(fr={}));function RE(t){if(!t)if(ei){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),SE(t)}const DE=/^[^#]+#/;function PE(t,e){return t.replace(DE,"#")+e}function ME(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const nl=()=>({left:window.pageXOffset,top:window.pageYOffset});function xE(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=ME(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ef(t,e){return(history.state?history.state.position-e:-1)+t}const xc=new Map;function LE(t,e){xc.set(t,e)}function FE(t){const e=xc.get(t);return xc.delete(t),e}let $E=()=>location.protocol+"//"+location.host;function wg(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Xd(l,"")}return Xd(n,t)+s+i}function UE(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const m=wg(t,location),_=n.value,b=e.value;let R=0;if(f){if(n.value=m,e.value=f,o&&o===_){o=null;return}R=b?f.position-b.position:0}else s(m);i.forEach(v=>{v(n.value,_,{delta:R,type:kr.pop,direction:R?R>0?fr.forward:fr.back:fr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const m=()=>{const _=i.indexOf(f);_>-1&&i.splice(_,1)};return r.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(Se({},f.state,{scroll:nl()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function tf(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?nl():null}}function VE(t){const{history:e,location:n}=window,s={value:wg(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:$E()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(l,c){const u=Se({},e.state,tf(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Se({},i.value,e.state,{forward:l,scroll:nl()});r(u.current,u,!0);const h=Se({},tf(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function BE(t){t=RE(t);const e=VE(t),n=UE(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Se({location:"",base:t,go:s,createHref:PE.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function jE(t){return typeof t=="string"||t&&typeof t=="object"}function bg(t){return typeof t=="string"||typeof t=="symbol"}const Pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Eg=Symbol("");var nf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(nf||(nf={}));function bi(t,e){return Se(new Error,{type:t,[Eg]:!0},e)}function dn(t,e){return t instanceof Error&&Eg in t&&(e==null||!!(t.type&e))}const sf="[^/]+?",HE={sensitive:!1,strict:!1,start:!0,end:!0},qE=/[.+*?^${}()[\]/\\]/g;function GE(t,e){const n=Se({},HE,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(qE,"\\$&"),m+=40;else if(f.type===1){const{value:_,repeatable:b,optional:R,regexp:v}=f;r.push({name:_,repeatable:b,optional:R});const g=v||sf;if(g!==sf){m+=10;try{new RegExp(`(${g})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${_}" (${g}): `+S.message)}}let w=b?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;h||(w=R&&c.length<2?`(?:/${w})`:"/"+w),R&&(w+="?"),i+=w,m+=20,R&&(m+=-8),b&&(m+=-20),g===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",_=r[f-1];h[_.name]=m&&_.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:_,repeatable:b,optional:R}=m,v=_ in c?c[_]:"";if(Qt(v)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const g=Qt(v)?v.join("/"):v;if(!g)if(R)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=g}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function KE(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function zE(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=KE(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(rf(s))return 1;if(rf(i))return-1}return i.length-s.length}function rf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const WE={type:0,value:""},JE=/[a-zA-Z0-9_]/;function QE(t){if(!t)return[[]];if(t==="/")return[[WE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:JE.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function YE(t,e,n){const s=GE(QE(t.path),n),i=Se(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function XE(t,e){const n=[],s=new Map;e=lf({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,h,f){const m=!f,_=ZE(u);_.aliasOf=f&&f.record;const b=lf(e,u),R=[_];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of w)R.push(Se({},_,{components:f?f.record.components:_.components,path:S,aliasOf:f?f.record:_}))}let v,g;for(const w of R){const{path:S}=w;if(h&&S[0]!=="/"){const L=h.record.path,B=L[L.length-1]==="/"?"":"/";w.path=h.record.path+(S&&B+S)}if(v=YE(w,h,b),f?f.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),m&&u.name&&!af(v)&&o(u.name)),_.children){const L=_.children;for(let B=0;B<L.length;B++)r(L[B],v,f&&f.children[B])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return g?()=>{o(g)}:dr}function o(u){if(bg(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&zE(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Tg(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!af(u)&&s.set(u.record.name,u)}function c(u,h){let f,m={},_,b;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw bi(1,{location:u});b=f.record.name,m=Se(of(h.params,f.keys.filter(g=>!g.optional).map(g=>g.name)),u.params&&of(u.params,f.keys.map(g=>g.name))),_=f.stringify(m)}else if("path"in u)_=u.path,f=n.find(g=>g.re.test(_)),f&&(m=f.parse(_),b=f.record.name);else{if(f=h.name?s.get(h.name):n.find(g=>g.re.test(h.path)),!f)throw bi(1,{location:u,currentLocation:h});b=f.record.name,m=Se({},h.params,u.params),_=f.stringify(m)}const R=[];let v=f;for(;v;)R.unshift(v.record),v=v.parent;return{name:b,path:_,params:m,matched:R,meta:tT(R)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function of(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function ZE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:eT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function eT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function af(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function tT(t){return t.reduce((e,n)=>Se(e,n.meta),{})}function lf(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Tg(t,e){return e.children.some(n=>n===t||Tg(t,n))}const Ig=/#/g,nT=/&/g,sT=/\//g,iT=/=/g,rT=/\?/g,Cg=/\+/g,oT=/%5B/g,aT=/%5D/g,Sg=/%5E/g,lT=/%60/g,kg=/%7B/g,cT=/%7C/g,Ag=/%7D/g,uT=/%20/g;function qu(t){return encodeURI(""+t).replace(cT,"|").replace(oT,"[").replace(aT,"]")}function hT(t){return qu(t).replace(kg,"{").replace(Ag,"}").replace(Sg,"^")}function Lc(t){return qu(t).replace(Cg,"%2B").replace(uT,"+").replace(Ig,"%23").replace(nT,"%26").replace(lT,"`").replace(kg,"{").replace(Ag,"}").replace(Sg,"^")}function dT(t){return Lc(t).replace(iT,"%3D")}function fT(t){return qu(t).replace(Ig,"%23").replace(rT,"%3F")}function pT(t){return t==null?"":fT(t).replace(sT,"%2F")}function ua(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function mT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Cg," "),o=r.indexOf("="),a=ua(o<0?r:r.slice(0,o)),l=o<0?null:ua(r.slice(o+1));if(a in e){let c=e[a];Qt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function cf(t){let e="";for(let n in t){const s=t[n];if(n=dT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qt(s)?s.map(r=>r&&Lc(r)):[s&&Lc(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function gT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Qt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const yT=Symbol(""),uf=Symbol(""),Gu=Symbol(""),Ng=Symbol(""),Fc=Symbol("");function Wi(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Fn(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(bi(4,{from:n,to:e})):h instanceof Error?a(h):jE(h)?a(bi(2,{from:e,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),o())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Jl(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(_T(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Fn(c,n,s,r,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=IE(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&Fn(f,n,s,r,o)()}))}}return i}function _T(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hf(t){const e=rn(Gu),n=rn(Ng),s=Ft(()=>e.resolve(Es(t.to))),i=Ft(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(wi.bind(null,u));if(f>-1)return f;const m=df(l[c-2]);return c>1&&df(u)===m&&h[h.length-1].path!==m?h.findIndex(wi.bind(null,l[c-2])):f}),r=Ft(()=>i.value>-1&&ET(n.params,s.value.params)),o=Ft(()=>i.value>-1&&i.value===n.matched.length-1&&vg(n.params,s.value.params));function a(l={}){return bT(l)?e[Es(t.replace)?"replace":"push"](Es(t.to)).catch(dr):Promise.resolve()}return{route:s,href:Ft(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const vT=Jr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hf,setup(t,{slots:e}){const n=$s(hf(t)),{options:s}=rn(Gu),i=Ft(()=>({[ff(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ff(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:el("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),wT=vT;function bT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ET(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Qt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function df(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ff=(t,e,n)=>t??e??n,TT=Jr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=rn(Fc),i=Ft(()=>t.route||s.value),r=rn(uf,0),o=Ft(()=>{let c=Es(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ft(()=>i.value.matched[o.value]);ar(uf,Ft(()=>o.value+1)),ar(yT,a),ar(Fc,i);const l=or();return Hn(()=>[l.value,a.value,t.name],([c,u,h],[f,m,_])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!wi(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return pf(n.default,{Component:f,route:c});const m=h.props[u],_=m?m===!0?c.params:typeof m=="function"?m(c):m:null,R=el(f,Se({},_,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return pf(n.default,{Component:R,route:c})||R}}});function pf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const IT=TT;function CT(t){const e=XE(t.routes,t),n=t.parseQuery||mT,s=t.stringifyQuery||cf,i=t.history,r=Wi(),o=Wi(),a=Wi(),l=sm(Pn);let c=Pn;ei&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zl.bind(null,N=>""+N),h=zl.bind(null,pT),f=zl.bind(null,ua);function m(N,W){let G,te;return bg(N)?(G=e.getRecordMatcher(N),te=W):te=N,e.addRoute(te,G)}function _(N){const W=e.getRecordMatcher(N);W&&e.removeRoute(W)}function b(){return e.getRoutes().map(N=>N.record)}function R(N){return!!e.getRecordMatcher(N)}function v(N,W){if(W=Se({},W||l.value),typeof N=="string"){const p=Wl(n,N,W.path),y=e.resolve({path:p.path},W),E=i.createHref(p.fullPath);return Se(p,y,{params:f(y.params),hash:ua(p.hash),redirectedFrom:void 0,href:E})}let G;if("path"in N)G=Se({},N,{path:Wl(n,N.path,W.path).path});else{const p=Se({},N.params);for(const y in p)p[y]==null&&delete p[y];G=Se({},N,{params:h(N.params)}),W.params=h(W.params)}const te=e.resolve(G,W),Ee=N.hash||"";te.params=u(f(te.params));const Fe=kE(s,Se({},N,{hash:hT(Ee),path:te.path})),me=i.createHref(Fe);return Se({fullPath:Fe,hash:Ee,query:s===cf?gT(N.query):N.query||{}},te,{redirectedFrom:void 0,href:me})}function g(N){return typeof N=="string"?Wl(n,N,l.value.path):Se({},N)}function w(N,W){if(c!==N)return bi(8,{from:W,to:N})}function S(N){return q(N)}function L(N){return S(Se(g(N),{replace:!0}))}function B(N){const W=N.matched[N.matched.length-1];if(W&&W.redirect){const{redirect:G}=W;let te=typeof G=="function"?G(N):G;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=g(te):{path:te},te.params={}),Se({query:N.query,hash:N.hash,params:"path"in te?{}:N.params},te)}}function q(N,W){const G=c=v(N),te=l.value,Ee=N.state,Fe=N.force,me=N.replace===!0,p=B(G);if(p)return q(Se(g(p),{state:typeof p=="object"?Se({},Ee,p.state):Ee,force:Fe,replace:me}),W||G);const y=G;y.redirectedFrom=W;let E;return!Fe&&AE(s,te,G)&&(E=bi(16,{to:y,from:te}),ls(te,te,!0,!1)),(E?Promise.resolve(E):A(y,te)).catch(C=>dn(C)?dn(C,2)?C:Ht(C):Re(C,y,te)).then(C=>{if(C){if(dn(C,2))return q(Se({replace:me},g(C.to),{state:typeof C.to=="object"?Se({},Ee,C.to.state):Ee,force:Fe}),W||y)}else C=$(y,te,!0,me,Ee);return O(y,te,C),C})}function D(N,W){const G=w(N,W);return G?Promise.reject(G):Promise.resolve()}function A(N,W){let G;const[te,Ee,Fe]=ST(N,W);G=Jl(te.reverse(),"beforeRouteLeave",N,W);for(const p of te)p.leaveGuards.forEach(y=>{G.push(Fn(y,N,W))});const me=D.bind(null,N,W);return G.push(me),Ys(G).then(()=>{G=[];for(const p of r.list())G.push(Fn(p,N,W));return G.push(me),Ys(G)}).then(()=>{G=Jl(Ee,"beforeRouteUpdate",N,W);for(const p of Ee)p.updateGuards.forEach(y=>{G.push(Fn(y,N,W))});return G.push(me),Ys(G)}).then(()=>{G=[];for(const p of N.matched)if(p.beforeEnter&&!W.matched.includes(p))if(Qt(p.beforeEnter))for(const y of p.beforeEnter)G.push(Fn(y,N,W));else G.push(Fn(p.beforeEnter,N,W));return G.push(me),Ys(G)}).then(()=>(N.matched.forEach(p=>p.enterCallbacks={}),G=Jl(Fe,"beforeRouteEnter",N,W),G.push(me),Ys(G))).then(()=>{G=[];for(const p of o.list())G.push(Fn(p,N,W));return G.push(me),Ys(G)}).catch(p=>dn(p,8)?p:Promise.reject(p))}function O(N,W,G){for(const te of a.list())te(N,W,G)}function $(N,W,G,te,Ee){const Fe=w(N,W);if(Fe)return Fe;const me=W===Pn,p=ei?history.state:{};G&&(te||me?i.replace(N.fullPath,Se({scroll:me&&p&&p.scroll},Ee)):i.push(N.fullPath,Ee)),l.value=N,ls(N,W,G,me),Ht()}let F;function re(){F||(F=i.listen((N,W,G)=>{if(!Co.listening)return;const te=v(N),Ee=B(te);if(Ee){q(Se(Ee,{replace:!0}),te).catch(dr);return}c=te;const Fe=l.value;ei&&LE(ef(Fe.fullPath,G.delta),nl()),A(te,Fe).catch(me=>dn(me,12)?me:dn(me,2)?(q(me.to,te).then(p=>{dn(p,20)&&!G.delta&&G.type===kr.pop&&i.go(-1,!1)}).catch(dr),Promise.reject()):(G.delta&&i.go(-G.delta,!1),Re(me,te,Fe))).then(me=>{me=me||$(te,Fe,!1),me&&(G.delta&&!dn(me,8)?i.go(-G.delta,!1):G.type===kr.pop&&dn(me,20)&&i.go(-1,!1)),O(te,Fe,me)}).catch(dr)}))}let z=Wi(),Je=Wi(),be;function Re(N,W,G){Ht(N);const te=Je.list();return te.length?te.forEach(Ee=>Ee(N,W,G)):console.error(N),Promise.reject(N)}function ke(){return be&&l.value!==Pn?Promise.resolve():new Promise((N,W)=>{z.add([N,W])})}function Ht(N){return be||(be=!N,re(),z.list().forEach(([W,G])=>N?G(N):W()),z.reset()),N}function ls(N,W,G,te){const{scrollBehavior:Ee}=t;if(!ei||!Ee)return Promise.resolve();const Fe=!G&&FE(ef(N.fullPath,0))||(te||!G)&&history.state&&history.state.scroll||null;return Ha().then(()=>Ee(N,W,Fe)).then(me=>me&&xE(me)).catch(me=>Re(me,N,W))}const qt=N=>i.go(N);let It;const Ws=new Set,Co={currentRoute:l,listening:!0,addRoute:m,removeRoute:_,hasRoute:R,getRoutes:b,resolve:v,options:t,push:S,replace:L,go:qt,back:()=>qt(-1),forward:()=>qt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Je.add,isReady:ke,install(N){const W=this;N.component("RouterLink",wT),N.component("RouterView",IT),N.config.globalProperties.$router=W,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Es(l)}),ei&&!It&&l.value===Pn&&(It=!0,S(i.location).catch(Ee=>{}));const G={};for(const Ee in Pn)G[Ee]=Ft(()=>l.value[Ee]);N.provide(Gu,W),N.provide(Ng,$s(G)),N.provide(Fc,l);const te=N.unmount;Ws.add(N),N.unmount=function(){Ws.delete(N),Ws.size<1&&(c=Pn,F&&F(),F=null,l.value=Pn,It=!1,be=!1),te()}}};return Co}function Ys(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function ST(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>wi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>wi(c,l))||i.push(l))}return[n,s,i]}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var kT="store";function xi(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Og(t){return t!==null&&typeof t=="object"}function AT(t){return t&&typeof t.then=="function"}function NT(t,e){return function(){return t(e)}}function Rg(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function Dg(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;sl(t,n,[],t._modules.root,!0),Ku(t,n,e)}function Ku(t,e,n){var s=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,r={};xi(i,function(o,a){r[a]=NT(o,t),Object.defineProperty(t.getters,a,{get:function(){return r[a]()},enumerable:!0})}),t._state=$s({data:e}),t.strict&&MT(t),s&&n&&t._withCommit(function(){s.data=null})}function sl(t,e,n,s,i){var r=!n.length,o=t._modules.getNamespace(n);if(s.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=s),!r&&!i){var a=zu(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=s.state})}var c=s.context=OT(t,o,n);s.forEachMutation(function(u,h){var f=o+h;RT(t,f,u,c)}),s.forEachAction(function(u,h){var f=u.root?h:o+h,m=u.handler||u;DT(t,f,m,c)}),s.forEachGetter(function(u,h){var f=o+h;PT(t,f,u,c)}),s.forEachChild(function(u,h){sl(t,e,n.concat(h),u,i)})}function OT(t,e,n){var s=e==="",i={dispatch:s?t.dispatch:function(r,o,a){var l=ha(r,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=e+h),t.dispatch(h,c)},commit:s?t.commit:function(r,o,a){var l=ha(r,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=e+h),t.commit(h,c,u)}};return Object.defineProperties(i,{getters:{get:s?function(){return t.getters}:function(){return Pg(t,e)}},state:{get:function(){return zu(t.state,n)}}}),i}function Pg(t,e){if(!t._makeLocalGettersCache[e]){var n={},s=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,s)===e){var r=i.slice(s);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function RT(t,e,n,s){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,s.state,o)})}function DT(t,e,n,s){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},o);return AT(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function PT(t,e,n,s){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(r){return n(s.state,s.getters,r.state,r.getters)})}function MT(t){Hn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function zu(t,e){return e.reduce(function(n,s){return n[s]},t)}function ha(t,e,n){return Og(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var xT="vuex bindings",mf="vuex:mutations",Ql="vuex:actions",Xs="vuex",LT=0;function FT(t,e){TE({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[xT]},function(n){n.addTimelineLayer({id:mf,label:"Vuex Mutations",color:gf}),n.addTimelineLayer({id:Ql,label:"Vuex Actions",color:gf}),n.addInspector({id:Xs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(s){if(s.app===t&&s.inspectorId===Xs)if(s.filter){var i=[];Fg(i,e._modules.root,s.filter,""),s.rootNodes=i}else s.rootNodes=[Lg(e._modules.root,"")]}),n.on.getInspectorState(function(s){if(s.app===t&&s.inspectorId===Xs){var i=s.nodeId;Pg(e,i),s.state=VT(jT(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(s){if(s.app===t&&s.inspectorId===Xs){var i=s.nodeId,r=s.path;i!=="root"&&(r=i.split("/").filter(Boolean).concat(r)),e._withCommit(function(){s.set(e._state.data,r,s.state.value)})}}),e.subscribe(function(s,i){var r={};s.payload&&(r.payload=s.payload),r.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Xs),n.sendInspectorState(Xs),n.addTimelineEvent({layerId:mf,event:{time:Date.now(),title:s.type,data:r}})}),e.subscribeAction({before:function(s,i){var r={};s.payload&&(r.payload=s.payload),s._id=LT++,s._time=Date.now(),r.state=i,n.addTimelineEvent({layerId:Ql,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:r}})},after:function(s,i){var r={},o=Date.now()-s._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},s.payload&&(r.payload=s.payload),r.state=i,n.addTimelineEvent({layerId:Ql,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:r}})}})})}var gf=8702998,$T=6710886,UT=16777215,Mg={label:"namespaced",textColor:UT,backgroundColor:$T};function xg(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Lg(t,e){return{id:e||"root",label:xg(e),tags:t.namespaced?[Mg]:[],children:Object.keys(t._children).map(function(n){return Lg(t._children[n],e+n+"/")})}}function Fg(t,e,n,s){s.includes(n)&&t.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[Mg]:[]}),Object.keys(e._children).forEach(function(i){Fg(t,e._children[i],n,s+i+"/")})}function VT(t,e,n){e=n==="root"?e:e[n];var s=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(s.length){var r=BT(e);i.getters=Object.keys(r).map(function(o){return{key:o.endsWith("/")?xg(o):o,editable:!1,value:$c(function(){return r[o]})}})}return i}function BT(t){var e={};return Object.keys(t).forEach(function(n){var s=n.split("/");if(s.length>1){var i=e,r=s.pop();s.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[r]=$c(function(){return t[n]})}else e[n]=$c(function(){return t[n]})}),e}function jT(t,e){var n=e.split("/").filter(function(s){return s});return n.reduce(function(s,i,r){var o=s[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return r===n.length-1?o:o._children},e==="root"?t:t.root._children)}function $c(t){try{return t()}catch(e){return e}}var Zt=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var s=e.state;this.state=(typeof s=="function"?s():s)||{}},$g={namespaced:{configurable:!0}};$g.namespaced.get=function(){return!!this._rawModule.namespaced};Zt.prototype.addChild=function(e,n){this._children[e]=n};Zt.prototype.removeChild=function(e){delete this._children[e]};Zt.prototype.getChild=function(e){return this._children[e]};Zt.prototype.hasChild=function(e){return e in this._children};Zt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Zt.prototype.forEachChild=function(e){xi(this._children,e)};Zt.prototype.forEachGetter=function(e){this._rawModule.getters&&xi(this._rawModule.getters,e)};Zt.prototype.forEachAction=function(e){this._rawModule.actions&&xi(this._rawModule.actions,e)};Zt.prototype.forEachMutation=function(e){this._rawModule.mutations&&xi(this._rawModule.mutations,e)};Object.defineProperties(Zt.prototype,$g);var Vs=function(e){this.register([],e,!1)};Vs.prototype.get=function(e){return e.reduce(function(n,s){return n.getChild(s)},this.root)};Vs.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(s,i){return n=n.getChild(i),s+(n.namespaced?i+"/":"")},"")};Vs.prototype.update=function(e){Ug([],this.root,e)};Vs.prototype.register=function(e,n,s){var i=this;s===void 0&&(s=!0);var r=new Zt(n,s);if(e.length===0)this.root=r;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],r)}n.modules&&xi(n.modules,function(a,l){i.register(e.concat(l),a,s)})};Vs.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1],i=n.getChild(s);i&&i.runtime&&n.removeChild(s)};Vs.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1];return n?n.hasChild(s):!1};function Ug(t,e,n){if(e.update(n),n.modules)for(var s in n.modules){if(!e.getChild(s))return;Ug(t.concat(s),e.getChild(s),n.modules[s])}}function HT(t){return new Pt(t)}var Pt=function(e){var n=this;e===void 0&&(e={});var s=e.plugins;s===void 0&&(s=[]);var i=e.strict;i===void 0&&(i=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Vs(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,m){return l.call(o,f,m)},this.commit=function(f,m,_){return c.call(o,f,m,_)},this.strict=i;var u=this._modules.root.state;sl(this,u,[],this._modules.root),Ku(this,u),s.forEach(function(h){return h(n)})},Wu={state:{configurable:!0}};Pt.prototype.install=function(e,n){e.provide(n||kT,this),e.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&FT(e,this)};Wu.state.get=function(){return this._state.data};Wu.state.set=function(t){};Pt.prototype.commit=function(e,n,s){var i=this,r=ha(e,n,s),o=r.type,a=r.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Pt.prototype.dispatch=function(e,n){var s=this,i=ha(e,n),r=i.type,o=i.payload,a={type:r,payload:o},l=this._actions[r];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,s.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{s._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(a,s.state)})}catch{}u(f)},function(f){try{s._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(a,s.state,f)})}catch{}h(f)})})}};Pt.prototype.subscribe=function(e,n){return Rg(e,this._subscribers,n)};Pt.prototype.subscribeAction=function(e,n){var s=typeof e=="function"?{before:e}:e;return Rg(s,this._actionSubscribers,n)};Pt.prototype.watch=function(e,n,s){var i=this;return Hn(function(){return e(i.state,i.getters)},n,Object.assign({},s))};Pt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Pt.prototype.registerModule=function(e,n,s){s===void 0&&(s={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),sl(this,this.state,e,this._modules.get(e),s.preserveState),Ku(this,this.state)};Pt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var s=zu(n.state,e.slice(0,-1));delete s[e[e.length-1]]}),Dg(this)};Pt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Pt.prototype.hotUpdate=function(e){this._modules.update(e),Dg(this,!0)};Pt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Pt.prototype,Wu);var qT=zT(function(t,e){var n={};return GT(e).forEach(function(s){var i=s.key,r=s.val;n[i]=function(){var a=this.$store.state,l=this.$store.getters;if(t){var c=WT(this.$store,"mapState",t);if(!c)return;a=c.context.state,l=c.context.getters}return typeof r=="function"?r.call(this,a,l):a[r]},n[i].vuex=!0}),n});function GT(t){return KT(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function KT(t){return Array.isArray(t)||Og(t)}function zT(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function WT(t,e,n){var s=t._modulesNamespaceMap[n];return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JT=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),s.push(n[u],n[h],n[f],n[m])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new QT;const f=r<<2|a>>4;if(s.push(f),c!==64){const m=a<<4&240|c>>2;if(s.push(m),h!==64){const _=c<<6&192|h;s.push(_)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(t){const e=Vg(t);return Bg.encodeByteArray(e,!0)},da=function(t){return YT(t).replace(/\./g,"")},jg=function(t){try{return Bg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=()=>XT().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jg(t[1]);return e&&JSON.parse(e)},Ju=()=>{try{return ZT()||eI()||tI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hg=t=>{var e,n;return(n=(e=Ju())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nI=t=>{const e=Hg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sI=()=>{var t;return(t=Ju())===null||t===void 0?void 0:t.config},qg=t=>{var e;return(e=Ju())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[da(JSON.stringify(n)),da(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function aI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cI(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uI(){try{return typeof indexedDB=="object"}catch{return!1}}function hI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="FirebaseError";class An extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dI,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zr.prototype.create)}}class Zr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?fI(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new An(i,a,s)}}function fI(t,e){return t.replace(pI,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const pI=/\{\$([^}]+)}/g;function mI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(yf(r)&&yf(o)){if(!fa(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function yf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Zi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gI(t,e){const n=new yI(t,e);return n.subscribe.bind(n)}class yI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Yl),i.error===void 0&&(i.error=Yl),i.complete===void 0&&(i.complete=Yl);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wI(t){return t===fs?void 0:t}function bI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const TI={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},II=Ie.INFO,CI={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},SI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=CI[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qu{constructor(e){this.name=e,this._logLevel=II,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const kI=(t,e)=>e.some(n=>t instanceof n);let _f,vf;function AI(){return _f||(_f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NI(){return vf||(vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gg=new WeakMap,Uc=new WeakMap,Kg=new WeakMap,Xl=new WeakMap,Yu=new WeakMap;function OI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Gn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gg.set(n,t)}).catch(()=>{}),Yu.set(e,t),e}function RI(t){if(Uc.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Uc.set(t,e)}let Vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DI(t){Vc=t(Vc)}function PI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Zl(this),e,...n);return Kg.set(s,e.sort?e.sort():[e]),Gn(s)}:NI().includes(t)?function(...e){return t.apply(Zl(this),e),Gn(Gg.get(this))}:function(...e){return Gn(t.apply(Zl(this),e))}}function MI(t){return typeof t=="function"?PI(t):(t instanceof IDBTransaction&&RI(t),kI(t,AI())?new Proxy(t,Vc):t)}function Gn(t){if(t instanceof IDBRequest)return OI(t);if(Xl.has(t))return Xl.get(t);const e=MI(t);return e!==t&&(Xl.set(t,e),Yu.set(e,t)),e}const Zl=t=>Yu.get(t);function xI(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Gn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Gn(o.result),l.oldVersion,l.newVersion,Gn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const LI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],ec=new Map;function wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ec.get(e))return ec.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=FI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||LI.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ec.set(e,r),r}DI(t=>({...t,get:(e,n,s)=>wf(e,n)||t.get(e,n,s),has:(e,n)=>!!wf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bc="@firebase/app",bf="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Qu("@firebase/app"),VI="@firebase/app-compat",BI="@firebase/analytics-compat",jI="@firebase/analytics",HI="@firebase/app-check-compat",qI="@firebase/app-check",GI="@firebase/auth",KI="@firebase/auth-compat",zI="@firebase/database",WI="@firebase/database-compat",JI="@firebase/functions",QI="@firebase/functions-compat",YI="@firebase/installations",XI="@firebase/installations-compat",ZI="@firebase/messaging",e1="@firebase/messaging-compat",t1="@firebase/performance",n1="@firebase/performance-compat",s1="@firebase/remote-config",i1="@firebase/remote-config-compat",r1="@firebase/storage",o1="@firebase/storage-compat",a1="@firebase/firestore",l1="@firebase/firestore-compat",c1="firebase",u1="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="[DEFAULT]",h1={[Bc]:"fire-core",[VI]:"fire-core-compat",[jI]:"fire-analytics",[BI]:"fire-analytics-compat",[qI]:"fire-app-check",[HI]:"fire-app-check-compat",[GI]:"fire-auth",[KI]:"fire-auth-compat",[zI]:"fire-rtdb",[WI]:"fire-rtdb-compat",[JI]:"fire-fn",[QI]:"fire-fn-compat",[YI]:"fire-iid",[XI]:"fire-iid-compat",[ZI]:"fire-fcm",[e1]:"fire-fcm-compat",[t1]:"fire-perf",[n1]:"fire-perf-compat",[s1]:"fire-rc",[i1]:"fire-rc-compat",[r1]:"fire-gcs",[o1]:"fire-gcs-compat",[a1]:"fire-fst",[l1]:"fire-fst-compat","fire-js":"fire-js",[c1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map,Hc=new Map;function d1(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ei(t){const e=t.name;if(Hc.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Hc.set(e,t);for(const n of pa.values())d1(n,t);return!0}function Xu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kn=new Zr("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=u1;function zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jc,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=sI()),!n)throw Kn.create("no-options");const r=pa.get(i);if(r){if(fa(n,r.options)&&fa(s,r.config))return r;throw Kn.create("duplicate-app",{appName:i})}const o=new EI(i);for(const l of Hc.values())o.addComponent(l);const a=new p1(n,s,o);return pa.set(i,a),a}function Wg(t=jc){const e=pa.get(t);if(!e&&t===jc)return zg();if(!e)throw Kn.create("no-app",{appName:t});return e}function zn(t,e,n){var s;let i=(s=h1[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}Ei(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",g1=1,Ar="firebase-heartbeat-store";let tc=null;function Jg(){return tc||(tc=xI(m1,g1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ar)}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),tc}async function y1(t){try{return(await Jg()).transaction(Ar).objectStore(Ar).get(Qg(t))}catch(e){if(e instanceof An)Ps.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function Ef(t,e){try{const s=(await Jg()).transaction(Ar,"readwrite");return await s.objectStore(Ar).put(e,Qg(t)),s.done}catch(n){if(n instanceof An)Ps.warn(n.message);else{const s=Kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(s.message)}}}function Qg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=1024,v1=30*24*60*60*1e3;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=v1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tf(),{heartbeatsToSend:n,unsentEntries:s}=b1(this._heartbeatsCache.heartbeats),i=da(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Tf(){return new Date().toISOString().substring(0,10)}function b1(t,e=_1){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),If(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),If(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uI()?hI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await y1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ef(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ef(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function If(t){return da(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){Ei(new Ds("platform-logger",e=>new $I(e),"PRIVATE")),Ei(new Ds("heartbeat",e=>new w1(e),"PRIVATE")),zn(Bc,bf,t),zn(Bc,bf,"esm2017"),zn("fire-js","")}T1("");var I1="firebase",C1="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(I1,C1,"app");function Zu(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Yg(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S1=Yg,Xg=new Zr("auth","Firebase",Yg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Qu("@firebase/auth");function Wo(t,...e){Cf.logLevel<=Ie.ERROR&&Cf.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,...e){throw eh(t,...e)}function on(t,...e){return eh(t,...e)}function k1(t,e,n){const s=Object.assign(Object.assign({},S1()),{[e]:n});return new Zr("auth","Firebase",s).create(e,{appName:t.name})}function eh(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Xg.create(t,...e)}function ae(t,e,...n){if(!t)throw eh(e,...n)}function gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wo(e),new Error(e)}function En(t,e){t||gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map;function yn(t){En(t instanceof Function,"Expected a class definition");let e=Sf.get(t);return e?(En(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sf.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){const n=Xu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(fa(r,e??{}))return i;Yt(i,"already-initialized")}return n.initialize({options:e})}function N1(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O1(){return kf()==="http:"||kf()==="https:"}function kf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||aI()||"connection"in navigator)?navigator.onLine:!0}function D1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.shortDelay=e,this.longDelay=n,En(n>e,"Short delay should be less than long delay!"),this.isMobile=oI()||lI()}get(){return R1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e){En(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new no(3e4,6e4);function il(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,n,s,i={}){return ey(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=eo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Zg.fetch()(ty(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function ey(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},P1),e);try{const i=new x1(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Fo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw k1(t,u,c);Yt(t,u)}}catch(i){if(i instanceof An)throw i;Yt(t,"network-request-failed",{message:String(i)})}}async function rl(t,e,n,s,i={}){const r=await so(t,e,n,s,i);return"mfaPendingCredential"in r&&Yt(t,"multi-factor-auth-required",{_serverResponse:r}),r}function ty(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?th(t.config,i):`${t.config.apiScheme}://${i}`}class x1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(on(this.auth,"network-request-failed")),M1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=on(t,e,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function F1(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $1(t,e=!1){const n=gt(t),s=await n.getIdToken(e),i=nh(s);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:pr(nc(i.auth_time)),issuedAtTime:pr(nc(i.iat)),expirationTime:pr(nc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function nc(t){return Number(t)*1e3}function nh(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Wo("JWT malformed, contained fewer than 3 sections"),null;try{const i=jg(n);return i?JSON.parse(i):(Wo("Failed to decode base64 JWT payload"),null)}catch(i){return Wo("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function U1(t){const e=nh(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof An&&V1(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function V1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Nr(t,F1(n,{idToken:s}));ae(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?q1(r.providerUserInfo):[],a=H1(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ny(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function j1(t){const e=gt(t);await ma(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H1(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function q1(t){return t.map(e=>{var{providerId:n}=e,s=Zu(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t,e){const n=await ey(t,{},async()=>{const s=eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=ty(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zg.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await G1(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Or;return s&&(ae(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ae(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Or,this.toJSON())}_performRefresh(){return gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ny(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Nr(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $1(this,e)}reload(){return j1(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ma(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nr(this,L1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:S,isAnonymous:L,providerData:B,stsTokenManager:q}=n;ae(w&&q,e,"internal-error");const D=Or.fromJSON(this.name,q);ae(typeof w=="string",e,"internal-error"),Mn(h,e.name),Mn(f,e.name),ae(typeof S=="boolean",e,"internal-error"),ae(typeof L=="boolean",e,"internal-error"),Mn(m,e.name),Mn(_,e.name),Mn(b,e.name),Mn(R,e.name),Mn(v,e.name),Mn(g,e.name);const A=new Cs({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:L,photoURL:_,phoneNumber:m,tenantId:b,stsTokenManager:D,createdAt:v,lastLoginAt:g});return B&&Array.isArray(B)&&(A.providerData=B.map(O=>Object.assign({},O))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,n,s=!1){const i=new Or;i.updateFromServerResponse(n);const r=new Cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await ma(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sy.type="NONE";const Af=sy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e,n){return`firebase:${t}:${e}:${n}`}class ui{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Jo(this.userKey,i.apiKey,r),this.fullPersistenceKey=Jo("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ui(yn(Af),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||yn(Af);const o=Jo(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Cs._fromJSON(e,u);c!==r&&(a=h),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new ui(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new ui(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ly(e))return"Blackberry";if(cy(e))return"Webos";if(sh(e))return"Safari";if((e.includes("chrome/")||ry(e))&&!e.includes("edge/"))return"Chrome";if(ay(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iy(t=mt()){return/firefox\//i.test(t)}function sh(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ry(t=mt()){return/crios\//i.test(t)}function oy(t=mt()){return/iemobile/i.test(t)}function ay(t=mt()){return/android/i.test(t)}function ly(t=mt()){return/blackberry/i.test(t)}function cy(t=mt()){return/webos/i.test(t)}function ol(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K1(t=mt()){var e;return ol(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z1(){return cI()&&document.documentMode===10}function uy(t=mt()){return ol(t)||ay(t)||cy(t)||ly(t)||/windows phone/i.test(t)||oy(t)}function W1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e=[]){let n;switch(t){case"Browser":n=Nf(mt());break;case"Worker":n=`${Nf(mt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Of(this),this.idTokenSubscription=new Of(this),this.beforeStateQueue=new J1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await ui.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ma(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yn(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await ui.create(this,[yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,s,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function al(t){return gt(t)}class Of{constructor(e){this.auth=e,this.observer=null,this.addObserver=gI(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Y1(t,e,n){const s=al(t);ae(s._canInitEmulator,s,"emulator-config-failed"),ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=dy(e),{host:o,port:a}=X1(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z1()}function dy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X1(t){const e=dy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Rf(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Rf(o)}}}function Rf(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gn("not implemented")}_getIdTokenResponse(e){return gn("not implemented")}_linkToIdToken(e,n){return gn("not implemented")}_getReauthenticationResolver(e){return gn("not implemented")}}async function eC(t,e){return so(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(t,e){return rl(t,"POST","/v1/accounts:signInWithPassword",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}async function sC(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ih{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rr(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rr(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return tC(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return nC(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return eC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return sC(e,{idToken:n,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(t,e){return rl(t,"POST","/v1/accounts:signInWithIdp",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="http://localhost";class Ms extends ih{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Zu(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Ms(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,hi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}buildRequest(){const e={requestUri:iC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oC(t){const e=Xi(Zi(t)).link,n=e?Xi(Zi(e)).deep_link_id:null,s=Xi(Zi(t)).deep_link_id;return(s?Xi(Zi(s)).link:null)||s||n||e||t}class rh{constructor(e){var n,s,i,r,o,a;const l=Xi(Zi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,h=rC((i=l.mode)!==null&&i!==void 0?i:null);ae(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oC(e);try{return new rh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.providerId=Li.PROVIDER_ID}static credential(e,n){return Rr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rh.parseLink(n);return ae(s,"argument-error"),Rr._fromEmailAndCode(e,s.code,s.tenantId)}}Li.PROVIDER_ID="password";Li.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Li.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends io{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.FACEBOOK_SIGN_IN_METHOD="facebook.com";$n.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Un.credential(n,s)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends io{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vn.credential(e.oauthAccessToken)}catch{return null}}}Vn.GITHUB_SIGN_IN_METHOD="github.com";Vn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends io{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bn.credential(n,s)}catch{return null}}}Bn.TWITTER_SIGN_IN_METHOD="twitter.com";Bn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Cs._fromIdTokenResponse(e,s,i),o=Df(s);return new Ti({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Df(s);return new Ti({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Df(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends An{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new ga(e,n,s,i)}}function py(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?ga._fromErrorAndOperation(t,r,e,s):r})}async function aC(t,e,n=!1){const s=await Nr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ti._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await Nr(t,py(s,i,e,t),n);ae(r.idToken,s,"internal-error");const o=nh(r.idToken);ae(o,s,"internal-error");const{sub:a}=o;return ae(t.uid===a,s,"user-mismatch"),Ti._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Yt(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function my(t,e,n=!1){const s="signIn",i=await py(t,s,e),r=await Ti._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function cC(t,e){return my(al(t),e)}function uC(t,e,n){return cC(gt(t),Li.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e){return gt(t).setPersistence(e)}function dC(t,e,n,s){return gt(t).onIdTokenChanged(e,n,s)}function fC(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function pC(t,e,n,s){return gt(t).onAuthStateChanged(e,n,s)}function mC(t){return gt(t).signOut()}const ya="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){const t=mt();return sh(t)||ol(t)}const yC=1e3,_C=10;class yy extends gy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gC()&&W1(),this.fallbackToPolling=uy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);z1()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_C):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yy.type="LOCAL";const vC=yy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends gy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_y.type="SESSION";const oh=_y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new ll(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await wC(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=ah("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function EC(t){an().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function TC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CC(){return vy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="firebaseLocalStorageDb",SC=1,_a="firebaseLocalStorage",by="fbase_key";class ro{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cl(t,e){return t.transaction([_a],e?"readwrite":"readonly").objectStore(_a)}function kC(){const t=indexedDB.deleteDatabase(wy);return new ro(t).toPromise()}function Gc(){const t=indexedDB.open(wy,SC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_a,{keyPath:by})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_a)?e(s):(s.close(),await kC(),e(await Gc()))})})}async function Pf(t,e,n){const s=cl(t,!0).put({[by]:e,value:n});return new ro(s).toPromise()}async function AC(t,e){const n=cl(t,!1).get(e),s=await new ro(n).toPromise();return s===void 0?null:s.value}function Mf(t,e){const n=cl(t,!0).delete(e);return new ro(n).toPromise()}const NC=800,OC=3;class Ey{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>OC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ll._getInstance(CC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gc();return await Pf(e,ya,"1"),await Mf(e,ya),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pf(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mf(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=cl(i,!1).getAll();return new ro(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ey.type="LOCAL";const RC=Ey;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function PC(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=on("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",DC().appendChild(s)})}function MC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new no(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){return e?yn(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends ih{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LC(t){return my(t.auth,new lh(t),t.bypassAuthState)}function FC(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),lC(n,new lh(t),t.bypassAuthState)}async function $C(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),aC(n,new lh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:Yt(this.auth,"internal-error")}}resolve(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new no(2e3,1e4);class si extends Ty{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,si.currentPopupAction&&si.currentPopupAction.cancel(),si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){En(this.filter.length===1,"Popup operations only handle one event");const e=ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,UC.get())};e()}}si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="pendingRedirect",Qo=new Map;class BC extends Ty{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Qo.get(this.auth._key());if(!e){try{const s=await jC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Qo.set(this.auth._key(),e)}return this.bypassAuthState||Qo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(t,e){const n=GC(e),s=qC(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function HC(t,e){Qo.set(t._key(),e)}function qC(t){return yn(t._redirectPersistence)}function GC(t){return Jo(VC,t.config.apiKey,t.name)}async function KC(t,e,n=!1){const s=al(t),i=xC(s,e),o=await new BC(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=10*60*1e3;class WC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Iy(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xf(e))}saveEventToCache(e){this.cachedEventUids.add(xf(e)),this.lastProcessedEventTime=Date.now()}}function xf(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Iy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function ZC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QC(t);for(const n of e)try{if(eS(n))return}catch{}Yt(t,"unauthorized-domain")}function eS(t){const e=qc(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!XC.test(n))return!1;if(YC.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new no(3e4,6e4);function Lf(){const t=an().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nS(t){return new Promise((e,n)=>{var s,i,r;function o(){Lf(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lf(),n(on(t,"network-request-failed"))},timeout:tS.get()})}if(!((i=(s=an().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=an().gapi)===null||r===void 0)&&r.load)o();else{const a=MC("iframefcb");return an()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},PC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yo=null,e})}let Yo=null;function sS(t){return Yo=Yo||nS(t),Yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new no(5e3,15e3),rS="__/auth/iframe",oS="emulator/auth/iframe",aS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cS(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?th(e,oS):`https://${t.config.authDomain}/${rS}`,s={apiKey:e.apiKey,appName:t.name,v:to},i=lS.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${eo(s).slice(1)}`}async function uS(t){const e=await sS(t),n=an().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:cS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aS,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=on(t,"network-request-failed"),a=an().setTimeout(()=>{r(o)},iS.get());function l(){an().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dS=500,fS=600,pS="_blank",mS="http://localhost";class Ff{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gS(t,e,n,s=dS,i=fS){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hS),{width:s.toString(),height:i.toString(),top:r,left:o}),c=mt().toLowerCase();n&&(a=ry(c)?pS:n),iy(c)&&(e=e||mS,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(K1(c)&&a!=="_self")return yS(e||"",a),new Ff(null);const h=window.open(e||"",a,u);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new Ff(h)}function yS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="__/auth/handler",vS="emulator/auth/handler";function $f(t,e,n,s,i,r){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:to,eventId:i};if(e instanceof fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(r||{}))o[l]=c}if(e instanceof io){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${wS(t)}?${eo(a).slice(1)}`}function wS({config:t}){return t.emulator?th(t,vS):`https://${t.authDomain}/${_S}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="webStorageSupport";class bS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oh,this._completeRedirectFn=KC,this._overrideRedirectResult=HC}async _openPopup(e,n,s,i){var r;En((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=$f(e,n,s,qc(),i);return gS(e,o,ah())}async _openRedirect(e,n,s,i){return await this._originValidation(e),EC($f(e,n,s,qc(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(En(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uS(e),s=new WC(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sc,{type:sc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[sc];o!==void 0&&n(!!o),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uy()||sh()||ol()}}const ES=bS;var Uf="@firebase/auth",Vf="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function CS(t){Ei(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=s.options;return((a,l)=>{ae(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),ae(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hy(t)},u=new Q1(a,l,c);return N1(u,n),u})(s,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ei(new Ds("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(s=>new TS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Uf,Vf,IS(t)),zn(Uf,Vf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=5*60,kS=qg("authIdTokenMaxAge")||SS;let Bf=null;const AS=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kS)return;const i=n==null?void 0:n.token;Bf!==i&&(Bf=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oo(t=Wg()){const e=Xu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A1(t,{popupRedirectResolver:ES,persistence:[RC,vC,oh]}),s=qg("authTokenSyncURL");if(s){const r=AS(s);fC(n,r,()=>r(n.currentUser)),dC(n,o=>r(o))}const i=Hg("auth");return i&&Y1(n,`http://${i}`),n}CS("Browser");var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,ch=ch||{},ue=NS||self;function va(){}function ul(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ao(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function OS(t){return Object.prototype.hasOwnProperty.call(t,ic)&&t[ic]||(t[ic]=++RS)}var ic="closure_uid_"+(1e9*Math.random()>>>0),RS=0;function DS(t,e,n){return t.call.apply(t.bind,arguments)}function PS(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=DS:ft=PS,ft.apply(null,arguments)}function $o(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(s,o)}}function os(){this.s=this.s,this.o=this.o}var MS=0;os.prototype.s=!1;os.prototype.na=function(){!this.s&&(this.s=!0,this.M(),MS!=0)&&OS(this)};os.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uh(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function jf(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ul(s)){const i=t.length||0,r=s.length||0;t.length=i+r;for(let o=0;o<r;o++)t[i+o]=s[o]}else t.push(s)}}function pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var xS=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",va,e),ue.removeEventListener("test",va,e)}catch{}return t}();function wa(t){return/^[\s\xa0]*$/.test(t)}var Hf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rc(t,e){return t<e?-1:t>e?1:0}function hl(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function sn(t){return hl().indexOf(t)!=-1}function hh(t){return hh[" "](t),t}hh[" "]=va;function LS(t){var e=US;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var FS=sn("Opera"),Ii=sn("Trident")||sn("MSIE"),Sy=sn("Edge"),Kc=Sy||Ii,ky=sn("Gecko")&&!(hl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge"))&&!(sn("Trident")||sn("MSIE"))&&!sn("Edge"),$S=hl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge");function Ay(){var t=ue.document;return t?t.documentMode:void 0}var ba;e:{var oc="",ac=function(){var t=hl();if(ky)return/rv:([^\);]+)(\)|;)/.exec(t);if(Sy)return/Edge\/([\d\.]+)/.exec(t);if(Ii)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($S)return/WebKit\/(\S+)/.exec(t);if(FS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ac&&(oc=ac?ac[1]:""),Ii){var lc=Ay();if(lc!=null&&lc>parseFloat(oc)){ba=String(lc);break e}}ba=oc}var US={};function VS(){return LS(function(){let t=0;const e=Hf(String(ba)).split("."),n=Hf("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var i=e[o]||"",r=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i[0].length==0&&r[0].length==0)break;t=rc(i[1].length==0?0:parseInt(i[1],10),r[1].length==0?0:parseInt(r[1],10))||rc(i[2].length==0,r[2].length==0)||rc(i[2],r[2]),i=i[3],r=r[3]}while(t==0)}return 0<=t})}var zc;if(ue.document&&Ii){var qf=Ay();zc=qf||parseInt(ba,10)||void 0}else zc=void 0;var BS=zc;function Dr(t,e){if(pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ky){e:{try{hh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dr.X.h.call(this)}}ot(Dr,pt);var jS={2:"touch",3:"pen",4:"mouse"};Dr.prototype.h=function(){Dr.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lo="closure_listenable_"+(1e6*Math.random()|0),HS=0;function qS(t,e,n,s,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=i,this.key=++HS,this.ba=this.ea=!1}function dl(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function dh(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Ny(t){const e={};for(const n in t)e[n]=t[n];return e}const Gf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oy(t,e){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)t[n]=s[n];for(let r=0;r<Gf.length;r++)n=Gf[r],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function fl(t){this.src=t,this.g={},this.h=0}fl.prototype.add=function(t,e,n,s,i){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=Jc(t,e,s,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new qS(e,this.src,r,!!s,i),e.ea=n,t.push(e)),e};function Wc(t,e){var n=e.type;if(n in t.g){var s=t.g[n],i=Cy(s,e),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(dl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jc(t,e,n,s){for(var i=0;i<t.length;++i){var r=t[i];if(!r.ba&&r.listener==e&&r.capture==!!n&&r.ha==s)return i}return-1}var fh="closure_lm_"+(1e6*Math.random()|0),cc={};function Ry(t,e,n,s,i){if(s&&s.once)return Py(t,e,n,s,i);if(Array.isArray(e)){for(var r=0;r<e.length;r++)Ry(t,e[r],n,s,i);return null}return n=gh(n),t&&t[lo]?t.N(e,n,ao(s)?!!s.capture:!!s,i):Dy(t,e,n,!1,s,i)}function Dy(t,e,n,s,i,r){if(!e)throw Error("Invalid event type");var o=ao(i)?!!i.capture:!!i,a=mh(t);if(a||(t[fh]=a=new fl(t)),n=a.add(e,n,s,o,r),n.proxy)return n;if(s=GS(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)xS||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),s,i);else if(t.attachEvent)t.attachEvent(xy(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GS(){function t(n){return e.call(t.src,t.listener,n)}const e=KS;return t}function Py(t,e,n,s,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)Py(t,e[r],n,s,i);return null}return n=gh(n),t&&t[lo]?t.O(e,n,ao(s)?!!s.capture:!!s,i):Dy(t,e,n,!0,s,i)}function My(t,e,n,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)My(t,e[r],n,s,i);else s=ao(s)?!!s.capture:!!s,n=gh(n),t&&t[lo]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Jc(r,n,s,i),-1<n&&(dl(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=mh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jc(e,n,s,i)),(n=-1<t?e[t]:null)&&ph(n))}function ph(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[lo])Wc(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(xy(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=mh(e))?(Wc(n,t),n.h==0&&(n.src=null,e[fh]=null)):dl(t)}}}function xy(t){return t in cc?cc[t]:cc[t]="on"+t}function KS(t,e){if(t.ba)t=!0;else{e=new Dr(e,this);var n=t.listener,s=t.ha||t.src;t.ea&&ph(t),t=n.call(s,e)}return t}function mh(t){return t=t[fh],t instanceof fl?t:null}var uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function gh(t){return typeof t=="function"?t:(t[uc]||(t[uc]=function(e){return t.handleEvent(e)}),t[uc])}function Xe(){os.call(this),this.i=new fl(this),this.P=this,this.I=null}ot(Xe,os);Xe.prototype[lo]=!0;Xe.prototype.removeEventListener=function(t,e,n,s){My(this,t,e,n,s)};function rt(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new pt(e,t);else if(e instanceof pt)e.target=e.target||t;else{var i=e;e=new pt(s,t),Oy(e,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];i=Uo(o,s,!0,e)&&i}if(o=e.g=t,i=Uo(o,s,!0,e)&&i,i=Uo(o,s,!1,e)&&i,n)for(r=0;r<n.length;r++)o=e.g=n[r],i=Uo(o,s,!1,e)&&i}Xe.prototype.M=function(){if(Xe.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)dl(n[s]);delete t.g[e],t.h--}}this.I=null};Xe.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Xe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Uo(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Wc(t.i,o),i=a.call(l,s)!==!1&&i}}return i&&!s.defaultPrevented}var yh=ue.JSON.stringify;function zS(){var t=$y;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class WS{constructor(){this.h=this.g=null}add(e,n){const s=Ly.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Ly=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new JS,t=>t.reset());class JS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QS(t){ue.setTimeout(()=>{throw t},0)}function Fy(t,e){Qc||YS(),Yc||(Qc(),Yc=!0),$y.add(t,e)}var Qc;function YS(){var t=ue.Promise.resolve(void 0);Qc=function(){t.then(XS)}}var Yc=!1,$y=new WS;function XS(){for(var t;t=zS();){try{t.h.call(t.g)}catch(n){QS(n)}var e=Ly;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yc=!1}function pl(t,e){Xe.call(this),this.h=t||1,this.g=e||ue,this.j=ft(this.lb,this),this.l=Date.now()}ot(pl,Xe);X=pl.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rt(this,"tick"),this.ca&&(_h(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _h(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){pl.X.M.call(this),_h(this),delete this.g};function vh(t,e,n){if(typeof t=="function")n&&(t=ft(t,n));else if(t&&typeof t.handleEvent=="function")t=ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function Uy(t){t.g=vh(()=>{t.g=null,t.i&&(t.i=!1,Uy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ZS extends os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Uy(this)}M(){super.M(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(t){os.call(this),this.h=t,this.g={}}ot(Pr,os);var Kf=[];function Vy(t,e,n,s){Array.isArray(n)||(n&&(Kf[0]=n.toString()),n=Kf);for(var i=0;i<n.length;i++){var r=Ry(e,n[i],s||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function By(t){dh(t.g,function(e,n){this.g.hasOwnProperty(n)&&ph(e)},t),t.g={}}Pr.prototype.M=function(){Pr.X.M.call(this),By(this)};Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ml(){this.g=!0}ml.prototype.Aa=function(){this.g=!1};function ek(t,e,n,s,i,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function tk(t,e,n,s,i,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+e+`
`+n+`
`+r+" "+o})}function ii(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sk(t,n)+(s?" "+s:"")})}function nk(t,e){t.info(function(){return"TIMEOUT: "+e})}ml.prototype.info=function(){};function sk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return yh(n)}catch{return e}}var Bs={},zf=null;function gl(){return zf=zf||new Xe}Bs.Pa="serverreachability";function jy(t){pt.call(this,Bs.Pa,t)}ot(jy,pt);function Mr(t){const e=gl();rt(e,new jy(e))}Bs.STAT_EVENT="statevent";function Hy(t,e){pt.call(this,Bs.STAT_EVENT,t),this.stat=e}ot(Hy,pt);function Tt(t){const e=gl();rt(e,new Hy(e,t))}Bs.Qa="timingevent";function qy(t,e){pt.call(this,Bs.Qa,t),this.size=e}ot(qy,pt);function co(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var yl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Gy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function wh(){}wh.prototype.h=null;function Wf(t){return t.h||(t.h=t.i())}function Ky(){}var uo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bh(){pt.call(this,"d")}ot(bh,pt);function Eh(){pt.call(this,"c")}ot(Eh,pt);var Xc;function _l(){}ot(_l,wh);_l.prototype.g=function(){return new XMLHttpRequest};_l.prototype.i=function(){return{}};Xc=new _l;function ho(t,e,n,s){this.l=t,this.j=e,this.m=n,this.U=s||1,this.S=new Pr(this),this.O=ik,t=Kc?125:void 0,this.T=new pl(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zy}function zy(){this.i=null,this.g="",this.h=!1}var ik=45e3,Zc={},Ea={};X=ho.prototype;X.setTimeout=function(t){this.O=t};function eu(t,e,n){t.K=1,t.v=wl(Tn(e)),t.s=n,t.P=!0,Wy(t,null)}function Wy(t,e){t.F=Date.now(),fo(t),t.A=Tn(t.v);var n=t.A,s=t.U;Array.isArray(s)||(s=[String(s)]),n_(n.i,"t",s),t.C=0,n=t.l.H,t.h=new zy,t.g=T_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new ZS(ft(t.La,t,t.g),t.N)),Vy(t.S,t.g,"readystatechange",t.ib),e=t.H?Ny(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Mr(),ek(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&_n(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const u=_n(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Kc||this.g&&(this.h.h||this.g.fa()||Xf(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Mr(3):Mr(2)),vl(this);var n=this.g.aa();this.Y=n;t:if(Jy(this)){var s=Xf(this.g);t="";var i=s.length,r=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),mr(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:r&&e==i-1});s.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,tk(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wa(a)){var c=a;break t}}c=null}if(n=c)ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tu(this,n);else{this.i=!1,this.o=3,Tt(12),ys(this),mr(this);break e}}this.P?(Qy(this,u,o),Kc&&this.i&&u==3&&(Vy(this.S,this.T,"tick",this.hb),this.T.start())):(ii(this.j,this.m,o,null),tu(this,o)),u==4&&ys(this),this.i&&!this.I&&(u==4?v_(this.l,this):(this.i=!1,fo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Tt(12)):(this.o=0,Tt(13)),ys(this),mr(this)}}}catch{}finally{}};function Jy(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Qy(t,e,n){let s=!0,i;for(;!t.I&&t.C<n.length;)if(i=rk(t,n),i==Ea){e==4&&(t.o=4,Tt(14),s=!1),ii(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Zc){t.o=4,Tt(15),ii(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else ii(t.j,t.m,i,null),tu(t,i);Jy(t)&&i!=Ea&&i!=Zc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Tt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nh(e),e.K=!0,Tt(11))):(ii(t.j,t.m,n,"[Invalid Chunked Response]"),ys(t),mr(t))}X.hb=function(){if(this.g){var t=_n(this.g),e=this.g.fa();this.C<e.length&&(vl(this),Qy(this,t,e),this.i&&t!=4&&fo(this))}};function rk(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ea:(n=Number(e.substring(n,s)),isNaN(n)?Zc:(s+=1,s+n>e.length?Ea:(e=e.substr(s,n),t.C=s+n,e)))}X.cancel=function(){this.I=!0,ys(this)};function fo(t){t.V=Date.now()+t.O,Yy(t,t.O)}function Yy(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=co(ft(t.gb,t),e)}function vl(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(nk(this.j,this.A),this.K!=2&&(Mr(),Tt(17)),ys(this),this.o=2,mr(this)):Yy(this,this.V-t)};function mr(t){t.l.G==0||t.I||v_(t.l,t)}function ys(t){vl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,_h(t.T),By(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function tu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||nu(n.h,t))){if(!t.J&&nu(n.h,t)&&n.G==3){try{var s=n.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ca(n),Tl(n);else break e;Ah(n),Tt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=co(ft(n.cb,n),6e3));if(1>=r_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else _s(n,11)}else if((t.J||n.g==t)&&Ca(n),!wa(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var r=s.h;r.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Th(r,r.h),r.h=null))}if(s.D){const b=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(s.za=b,xe(s.F,s.D,b))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=t;if(s.sa=E_(s,s.H?s.ka:null,s.V),o.J){o_(s.h,o);var a=o,l=s.J;l&&a.setTimeout(l),a.B&&(vl(a),fo(a)),s.g=o}else y_(s);0<n.i.length&&Il(n)}else c[0]!="stop"&&c[0]!="close"||_s(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?_s(n,7):kh(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Mr(4)}catch{}}function ok(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ul(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function ak(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ul(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Xy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ul(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ak(t),s=ok(t),i=s.length,r=0;r<i;r++)e.call(void 0,s[r],n&&n[r],t)}var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),i=null;if(0<=s){var r=t[n].substring(0,s);i=t[n].substring(s+1)}else r=t[n];e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ss(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ss){this.h=e!==void 0?e:t.h,Ta(this,t.j),this.s=t.s,this.g=t.g,Ia(this,t.m),this.l=t.l,e=t.i;var n=new xr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jf(this,n),this.o=t.o}else t&&(n=String(t).match(Zy))?(this.h=!!e,Ta(this,n[1]||"",!0),this.s=er(n[2]||""),this.g=er(n[3]||"",!0),Ia(this,n[4]),this.l=er(n[5]||"",!0),Jf(this,n[6]||"",!0),this.o=er(n[7]||"")):(this.h=!!e,this.i=new xr(null,this.h))}Ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tr(e,Qf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(tr(e,Qf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(tr(n,n.charAt(0)=="/"?hk:uk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tr(n,fk)),t.join("")};function Tn(t){return new Ss(t)}function Ta(t,e,n){t.j=n?er(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ia(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Jf(t,e,n){e instanceof xr?(t.i=e,pk(t.i,t.h)):(n||(e=tr(e,dk)),t.i=new xr(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function wl(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function er(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ck),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ck(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Qf=/[#\/\?@]/g,uk=/[#\?:]/g,hk=/[#\?]/g,dk=/[#\?@]/g,fk=/#/g;function xr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function as(t){t.g||(t.g=new Map,t.h=0,t.i&&lk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=xr.prototype;X.add=function(t,e){as(this),this.i=null,t=Fi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function e_(t,e){as(t),e=Fi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function t_(t,e){return as(t),e=Fi(t,e),t.g.has(e)}X.forEach=function(t,e){as(this),this.g.forEach(function(n,s){n.forEach(function(i){t.call(e,i,s,this)},this)},this)};X.oa=function(){as(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const i=t[s];for(let r=0;r<i.length;r++)n.push(e[s])}return n};X.W=function(t){as(this);let e=[];if(typeof t=="string")t_(this,t)&&(e=e.concat(this.g.get(Fi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return as(this),this.i=null,t=Fi(this,t),t_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function n_(t,e,n){e_(t,e),0<n.length&&(t.i=null,t.g.set(Fi(t,e),uh(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const r=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),t.push(i)}}return this.i=t.join("&")};function Fi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pk(t,e){e&&!t.j&&(as(t),t.i=null,t.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(e_(this,s),n_(this,i,n))},t)),t.j=e}var mk=class{constructor(e,n){this.h=e,this.g=n}};function s_(t){this.l=t||gk,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ga&&ue.g.Ga()&&ue.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gk=10;function i_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function r_(t){return t.h?1:t.g?t.g.size:0}function nu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Th(t,e){t.g?t.g.add(e):t.h=e}function o_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}s_.prototype.cancel=function(){if(this.i=a_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function a_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return uh(t.i)}function Ih(){}Ih.prototype.stringify=function(t){return ue.JSON.stringify(t,void 0)};Ih.prototype.parse=function(t){return ue.JSON.parse(t,void 0)};function yk(){this.g=new Ih}function _k(t,e,n){const s=n||"";try{Xy(t,function(i,r){let o=i;ao(i)&&(o=yh(i)),e.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw e.push(s+"type="+encodeURIComponent("_badmap")),i}}function vk(t,e){const n=new ml;if(ue.Image){const s=new Image;s.onload=$o(Vo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=$o(Vo,n,s,"TestLoadImage: error",!1,e),s.onabort=$o(Vo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=$o(Vo,n,s,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Vo(t,e,n,s,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(s)}catch{}}function po(t){this.l=t.ac||null,this.j=t.jb||!1}ot(po,wh);po.prototype.g=function(){return new bl(this.l,this.j)};po.prototype.i=function(t){return function(){return t}}({});function bl(t,e){Xe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ch,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(bl,Xe);var Ch=0;X=bl.prototype;X.open=function(t,e){if(this.readyState!=Ch)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lr(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ue).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=Ch};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function l_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mo(this):Lr(this),this.readyState==3&&l_(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,mo(this))};X.Ua=function(t){this.g&&(this.response=t,mo(this))};X.ga=function(){this.g&&mo(this)};function mo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lr(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Lr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wk=ue.JSON.parse;function Ve(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=c_,this.K=this.L=!1}ot(Ve,Xe);var c_="",bk=/^https?$/i,Ek=["POST","PUT"];X=Ve.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xc.g(),this.C=this.u?Wf(this.u):Wf(Xc),this.g.onreadystatechange=ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){Yf(this,r);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=Cy(Ek,e))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{d_(this),0<this.B&&((this.K=Tk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.qa,this)):this.A=vh(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Yf(this,r)}};function Tk(t){return Ii&&VS()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof ch<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function Yf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,u_(t),El(t)}function u_(t){t.D||(t.D=!0,rt(t,"complete"),rt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),El(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),El(this,!0)),Ve.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?h_(this):this.fb())};X.fb=function(){h_(this)};function h_(t){if(t.h&&typeof ch<"u"&&(!t.C[1]||_n(t)!=4||t.aa()!=2)){if(t.v&&_n(t)==4)vh(t.Ha,0,t);else if(rt(t,"readystatechange"),_n(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var i=String(t.H).match(Zy)[1]||null;if(!i&&ue.self&&ue.self.location){var r=ue.self.location.protocol;i=r.substr(0,r.length-1)}s=!bk.test(i?i.toLowerCase():"")}n=s}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var o=2<_n(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",u_(t)}}finally{El(t)}}}}function El(t,e){if(t.g){d_(t);const n=t.g,s=t.C[0]?va:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=s}catch{}}}function d_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}function _n(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wk(e)}};function Xf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case c_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function f_(t){let e="";return dh(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Sh(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=f_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Ji(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function p_(t){this.Ca=0,this.i=[],this.j=new ml,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ji("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ji("baseRetryDelayMs",5e3,t),this.bb=Ji("retryDelaySeedMs",1e4,t),this.$a=Ji("forwardChannelMaxRetries",2,t),this.ta=Ji("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new s_(t&&t.concurrentRequestLimit),this.Fa=new yk,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=p_.prototype;X.ma=8;X.G=1;function kh(t){if(m_(t),t.G==3){var e=t.U++,n=Tn(t.F);xe(n,"SID",t.I),xe(n,"RID",e),xe(n,"TYPE","terminate"),go(t,n),e=new ho(t,t.j,e,void 0),e.K=2,e.v=wl(Tn(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(e.v.toString(),"")),!n&&ue.Image&&(new Image().src=e.v,n=!0),n||(e.g=T_(e.l,null),e.g.da(e.v)),e.F=Date.now(),fo(e)}b_(t)}function Tl(t){t.g&&(Nh(t),t.g.cancel(),t.g=null)}function m_(t){Tl(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Ca(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Il(t){i_(t.h)||t.m||(t.m=!0,Fy(t.Ja,t),t.C=0)}function Ik(t,e){return r_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=co(ft(t.Ja,t,e),w_(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ho(this,this.j,t,void 0);let r=this.s;if(this.S&&(r?(r=Ny(r),Oy(r,this.S)):r=this.S),this.o!==null||this.N||(i.H=r,r=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=g_(this,i,e),n=Tn(this.F),xe(n,"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),go(this,n),r&&(this.N?e="headers="+encodeURIComponent(String(f_(r)))+"&"+e:this.o&&Sh(n,this.o,r)),Th(this.h,i),this.Ya&&xe(n,"TYPE","init"),this.O?(xe(n,"$req",e),xe(n,"SID","null"),i.Z=!0,eu(i,n,null)):eu(i,n,e),this.G=2}}else this.G==3&&(t?Zf(this,t):this.i.length==0||i_(this.h)||Zf(this))};function Zf(t,e){var n;e?n=e.m:n=t.U++;const s=Tn(t.F);xe(s,"SID",t.I),xe(s,"RID",n),xe(s,"AID",t.T),go(t,s),t.o&&t.s&&Sh(s,t.o,t.s),n=new ho(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=g_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Th(t.h,n),eu(n,s,e)}function go(t,e){t.ia&&dh(t.ia,function(n,s){xe(e,s,n)}),t.l&&Xy({},function(n,s){xe(e,s,n)})}function g_(t,e,n){n=Math.min(t.i.length,n);var s=t.l?ft(t.l.Ra,t.l,t):null;e:{var i=t.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=i[l].h;const u=i[l].g;if(c-=r,0>c)r=Math.max(0,i[l].h-100),a=!1;else try{_k(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,s}function y_(t){t.g||t.u||(t.Z=1,Fy(t.Ia,t),t.A=0)}function Ah(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=co(ft(t.Ia,t),w_(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,__(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=co(ft(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Tt(10),Tl(this),__(this))};function Nh(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function __(t){t.g=new ho(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Tn(t.sa);xe(e,"RID","rpc"),xe(e,"SID",t.I),xe(e,"CI",t.L?"0":"1"),xe(e,"AID",t.T),xe(e,"TYPE","xmlhttp"),go(t,e),t.o&&t.s&&Sh(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=wl(Tn(e)),n.s=null,n.P=!0,Wy(n,t)}X.cb=function(){this.v!=null&&(this.v=null,Tl(this),Ah(this),Tt(19))};function Ca(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function v_(t,e){var n=null;if(t.g==e){Ca(t),Nh(t),t.g=null;var s=2}else if(nu(t.h,e))n=e.D,o_(t.h,e),s=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;s=gl(),rt(s,new qy(s,n)),Il(t)}else y_(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(s==1&&Ik(t,e)||s==2&&Ah(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:_s(t,5);break;case 4:_s(t,10);break;case 3:_s(t,6);break;default:_s(t,2)}}}function w_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function _s(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=ft(t.kb,t);n||(n=new Ss("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||Ta(n,"https"),wl(n)),vk(n.toString(),s)}else Tt(2);t.G=0,t.l&&t.l.va(e),b_(t),m_(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function b_(t){if(t.G=0,t.la=[],t.l){const e=a_(t.h);(e.length!=0||t.i.length!=0)&&(jf(t.la,e),jf(t.la,t.i),t.h.i.length=0,uh(t.i),t.i.length=0),t.l.ua()}}function E_(t,e,n){var s=n instanceof Ss?Tn(n):new Ss(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),Ia(s,s.m);else{var i=ue.location;s=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var r=new Ss(null,void 0);s&&Ta(r,s),e&&(r.g=e),i&&Ia(r,i),n&&(r.l=n),s=r}return n=t.D,e=t.za,n&&e&&xe(s,n,e),xe(s,"VER",t.ma),go(t,s),s}function T_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ve(new po({jb:!0})):new Ve(t.ra),e.Ka(t.H),e}function I_(){}X=I_.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Sa(){if(Ii&&!(10<=Number(BS)))throw Error("Environmental error: no available transport.")}Sa.prototype.g=function(t,e){return new Ut(t,e)};function Ut(t,e){Xe.call(this),this.g=new p_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!wa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $i(this)}ot(Ut,Xe);Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Tt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=E_(t,null,t.V),Il(t)};Ut.prototype.close=function(){kh(this.g)};Ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=yh(t),t=n);e.i.push(new mk(e.ab++,t)),e.G==3&&Il(e)};Ut.prototype.M=function(){this.g.l=null,delete this.j,kh(this.g),delete this.g,Ut.X.M.call(this)};function C_(t){bh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(C_,bh);function S_(){Eh.call(this),this.status=1}ot(S_,Eh);function $i(t){this.g=t}ot($i,I_);$i.prototype.xa=function(){rt(this.g,"a")};$i.prototype.wa=function(t){rt(this.g,new C_(t))};$i.prototype.va=function(t){rt(this.g,new S_)};$i.prototype.ua=function(){rt(this.g,"b")};Sa.prototype.createWebChannel=Sa.prototype.g;Ut.prototype.send=Ut.prototype.u;Ut.prototype.open=Ut.prototype.m;Ut.prototype.close=Ut.prototype.close;yl.NO_ERROR=0;yl.TIMEOUT=8;yl.HTTP_ERROR=6;Gy.COMPLETE="complete";Ky.EventType=uo;uo.OPEN="a";uo.CLOSE="b";uo.ERROR="c";uo.MESSAGE="d";Xe.prototype.listen=Xe.prototype.N;Ve.prototype.listenOnce=Ve.prototype.O;Ve.prototype.getLastError=Ve.prototype.Oa;Ve.prototype.getLastErrorCode=Ve.prototype.Ea;Ve.prototype.getStatus=Ve.prototype.aa;Ve.prototype.getResponseJson=Ve.prototype.Sa;Ve.prototype.getResponseText=Ve.prototype.fa;Ve.prototype.send=Ve.prototype.da;Ve.prototype.setWithCredentials=Ve.prototype.Ka;var Ck=function(){return new Sa},Sk=function(){return gl()},hc=yl,kk=Gy,Ak=Bs,ep={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Nk=po,Bo=Ky,Ok=Ve;const tp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Qu("@firebase/firestore");function np(){return xs.logLevel}function Z(t,...e){if(xs.logLevel<=Ie.DEBUG){const n=e.map(Oh);xs.debug(`Firestore (${Ui}): ${t}`,...n)}}function In(t,...e){if(xs.logLevel<=Ie.ERROR){const n=e.map(Oh);xs.error(`Firestore (${Ui}): ${t}`,...n)}}function ka(t,...e){if(xs.logLevel<=Ie.WARN){const n=e.map(Oh);xs.warn(`Firestore (${Ui}): ${t}`,...n)}}function Oh(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+t;throw In(e),new Error(e)}function Me(t,e){t||le()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends An{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Me(typeof s.accessToken=="string"),new k_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new lt(e)}}class Mk{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xk{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Mk(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fk{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=r=>{r.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?i(r):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.T=n.token,new Lk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=$k(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%e.length))}return s}}function Ce(t,e){return t<e?-1:t>e?1:0}function Ci(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ge(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ge(0,0))}static max(){return new fe(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s){n===void 0?n=0:n>e.length&&le(),s===void 0?s=e.length-n:s>e.length-n&&le(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=e.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Fr{construct(e,n,s){return new Pe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(k.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const Uk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Fr{construct(e,n,s){return new ht(e,n,s)}static isValidIdentifier(e){return Uk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new J(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new J(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Pe.fromString(e))}static fromName(e){return new ne(Pe.fromString(e).popFirst(5))}static empty(){return new ne(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Pe(e.slice()))}}function Vk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(s===1e9?new Ge(n+1,0):new Ge(n,s));return new es(i,ne.empty(),e)}function Bk(t){return new es(t.readTime,t.key,-1)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(fe.min(),ne.empty(),-1)}static max(){return new es(fe.max(),ne.empty(),-1)}}function jk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==Hk)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,s)=>{n(e)})}static reject(e){return new x((n,s)=>{s(e)})}static waitFor(e){return new x((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(e){let n=x.resolve(!1);for(const s of e)n=n.next(i=>i?x.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new x((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&s(o)},u=>i(u))}})}static doWhile(e,n){return new x((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function _o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Rh.ct=-1;function Cl(t){return t==null}function Aa(t){return t===0&&1/t==-1/0}function Gk(t){return typeof t=="number"&&Number.isInteger(t)&&!Aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jo(this.root,e,this.comparator,!0)}}class jo{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??nt.RED,this.left=i??nt.EMPTY,this.right=r??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new nt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,s,i){return this}insert(t,e,n){return new nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ip(this.data.getIterator())}getIteratorFrom(e){return new ip(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class ip{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new Ke(ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ci(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Kk("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let r=0;r<s.length;++r)i+=String.fromCharCode(s[r]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const zk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Me(!!t),typeof t=="string"){let e=0;const n=zk.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return O_(e)?R_(e):e}function $r(t){const e=ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,s,i,r,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ur{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ur("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ur&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O_(t)?4:Jk(t)?9007199254740991:10:le()}function hn(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $r(t).isEqual($r(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const r=ts(s.timestampValue),o=ts(i.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Si(s.bytesValue).isEqual(Si(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return He(s.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return He(s.integerValue)===He(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const r=He(s.doubleValue),o=He(i.doubleValue);return r===o?Aa(r)===Aa(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return Ci(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(s,i){const r=s.mapValue.fields||{},o=i.mapValue.fields||{};if(sp(r)!==sp(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!hn(r[a],o[a])))return!1;return!0}(t,e);default:return le()}}function Vr(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function ki(t,e){if(t===e)return 0;const n=Ls(t),s=Ls(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,r){const o=He(i.integerValue||i.doubleValue),a=He(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return rp(t.timestampValue,e.timestampValue);case 4:return rp($r(t),$r(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,r){const o=Si(i),a=Si(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,r){const o=i.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Ce(o[l],a[l]);if(c!==0)return c}return Ce(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,r){const o=Ce(He(i.latitude),He(r.latitude));return o!==0?o:Ce(He(i.longitude),He(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,r){const o=i.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ki(o[l],a[l]);if(c)return c}return Ce(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,r){if(i===Ho.mapValue&&r===Ho.mapValue)return 0;if(i===Ho.mapValue)return 1;if(r===Ho.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=Ce(a[u],c[u]);if(h!==0)return h;const f=ki(o[a[u]],l[c[u]]);if(f!==0)return f}return Ce(a.length,c.length)}(t.mapValue,e.mapValue);default:throw le()}}function rp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=ts(t),s=ts(e),i=Ce(n.seconds,s.seconds);return i!==0?i:Ce(n.nanos,s.nanos)}function Ai(t){return su(t)}function su(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const i=ts(s);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Si(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ne.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let i="[",r=!0;for(const o of s.values||[])r?r=!1:i+=",",i+=su(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(s){const i=Object.keys(s.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${su(s.fields[a])}`;return r+"}"}(t.mapValue):le();var e,n}function op(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iu(t){return!!t&&"integerValue"in t}function Dh(t){return!!t&&"arrayValue"in t}function ap(t){return!!t&&"nullValue"in t}function lp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xo(t){return!!t&&"mapValue"in t}function gr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=gr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Jk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gr(n)}setAll(e){let n=ht.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=gr(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Xo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Vi(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new jt(gr(this.value))}}function D_(t){const e=[];return Vi(t.fields,(n,s)=>{const i=new ht([n]);if(Xo(s)){const r=D_(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,fe.min(),fe.min(),fe.min(),jt.empty(),0)}static newFoundDocument(e,n,s,i){return new ct(e,1,n,fe.min(),s,i,0)}static newNoDocument(e,n){return new ct(e,2,n,fe.min(),fe.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,fe.min(),fe.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.position=e,this.inclusive=n}}function cp(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=ne.comparator(ne.fromName(o.referenceValue),n.key):s=ki(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function up(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{}class qe extends P_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Xk(e,n,s):n==="array-contains"?new tA(e,s):n==="in"?new nA(e,s):n==="not-in"?new sA(e,s):n==="array-contains-any"?new iA(e,s):new qe(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Zk(e,s):new eA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ki(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xt extends P_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Xt(e,n)}matches(e){return M_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function M_(t){return t.op==="and"}function x_(t){return Yk(t)&&M_(t)}function Yk(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}function ru(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Ai(t.value);if(x_(t))return t.filters.map(e=>ru(e)).join(",");{const e=t.filters.map(n=>ru(n)).join(",");return`${t.op}(${e})`}}function L_(t,e){return t instanceof qe?function(n,s){return s instanceof qe&&n.op===s.op&&n.field.isEqual(s.field)&&hn(n.value,s.value)}(t,e):t instanceof Xt?function(n,s){return s instanceof Xt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,r,o)=>i&&L_(r,s.filters[o]),!0):!1}(t,e):void le()}function F_(t){return t instanceof qe?function(e){return`${e.field.canonicalString()} ${e.op} ${Ai(e.value)}`}(t):t instanceof Xt?function(e){return e.op.toString()+" {"+e.getFilters().map(F_).join(" ,")+"}"}(t):"Filter"}class Xk extends qe{constructor(e,n,s){super(e,n,s),this.key=ne.fromName(s.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Zk extends qe{constructor(e,n){super(e,"in",n),this.keys=$_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eA extends qe{constructor(e,n){super(e,"not-in",n),this.keys=$_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ne.fromName(s.referenceValue))}class tA extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dh(n)&&Vr(n.arrayValue,this.value)}}class nA extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vr(this.value.arrayValue,n)}}class sA extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vr(this.value.arrayValue,n)}}class iA extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Vr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.ft=null}}function hp(t,e=null,n=[],s=[],i=null,r=null,o=null){return new rA(t,e,n,s,i,r,o)}function Ph(t){const e=pe(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ru(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Cl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ai(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ai(s)).join(",")),e.ft=n}return e.ft}function Mh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!L_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!up(t.startAt,e.startAt)&&up(t.endAt,e.endAt)}function ou(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function oA(t,e,n,s,i,r,o,a){return new Bi(t,e,n,s,i,r,o,a)}function xh(t){return new Bi(t)}function dp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function U_(t){return t.collectionGroup!==null}function fi(t){const e=pe(t);if(e.dt===null){e.dt=[];const n=Sl(e),s=Lh(e);if(n!==null&&s===null)n.isKeyField()||e.dt.push(new di(n)),e.dt.push(new di(ht.keyField(),"asc"));else{let i=!1;for(const r of e.explicitOrderBy)e.dt.push(r),r.field.isKeyField()&&(i=!0);if(!i){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new di(ht.keyField(),r))}}}return e.dt}function Cn(t){const e=pe(t);if(!e.wt)if(e.limitType==="F")e.wt=hp(e.path,e.collectionGroup,fi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of fi(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new di(r.field,o))}const s=e.endAt?new Na(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Na(e.startAt.position,e.startAt.inclusive):null;e.wt=hp(e.path,e.collectionGroup,n,e.filters,e.limit,s,i)}return e.wt}function au(t,e){e.getFirstInequalityField(),Sl(t);const n=t.filters.concat([e]);return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lu(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kl(t,e){return Mh(Cn(t),Cn(e))&&t.limitType===e.limitType}function V_(t){return`${Ph(Cn(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>F_(s)).join(", ")}]`),Cl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ai(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ai(s)).join(",")),`Target(${n})`}(Cn(t))}; limitType=${t.limitType})`}function Al(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of fi(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(i,r,o){const a=cp(i,r,o);return i.inclusive?a<=0:a<0}(n.startAt,fi(n),s)||n.endAt&&!function(i,r,o){const a=cp(i,r,o);return i.inclusive?a>=0:a>0}(n.endAt,fi(n),s))}(t,e)}function aA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B_(t){return(e,n)=>{let s=!1;for(const i of fi(t)){const r=lA(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function lA(t,e,n){const s=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,r,o){const a=r.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ki(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new ze(ne.comparator);function Sn(){return cA}const j_=new ze(ne.comparator);function nr(...t){let e=j_;for(const n of t)e=e.insert(n.key,n);return e}function H_(t){let e=j_;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function vs(){return yr()}function q_(){return yr()}function yr(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const uA=new ze(ne.comparator),hA=new Ke(ne.comparator);function ye(...t){let e=hA;for(const n of t)e=e.add(n);return e}const dA=new Ke(Ce);function G_(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(e)?"-0":e}}function z_(t){return{integerValue:""+t}}function fA(t,e){return Gk(e)?z_(e):K_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this._=void 0}}function pA(t,e,n){return t instanceof Oa?function(s,i){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&(r.fields.__previous_value__=i),{mapValue:r}}(n,e):t instanceof Br?J_(t,e):t instanceof jr?Q_(t,e):function(s,i){const r=W_(s,i),o=fp(r)+fp(s._t);return iu(r)&&iu(s._t)?z_(o):K_(s.serializer,o)}(t,e)}function mA(t,e,n){return t instanceof Br?J_(t,e):t instanceof jr?Q_(t,e):n}function W_(t,e){return t instanceof Ra?iu(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Oa extends Nl{}class Br extends Nl{constructor(e){super(),this.elements=e}}function J_(t,e){const n=Y_(e);for(const s of t.elements)n.some(i=>hn(i,s))||n.push(s);return{arrayValue:{values:n}}}class jr extends Nl{constructor(e){super(),this.elements=e}}function Q_(t,e){let n=Y_(e);for(const s of t.elements)n=n.filter(i=>!hn(i,s));return{arrayValue:{values:n}}}class Ra extends Nl{constructor(e,n){super(),this.serializer=e,this._t=n}}function fp(t){return He(t.integerValue||t.doubleValue)}function Y_(t){return Dh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gA(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Br&&s instanceof Br||n instanceof jr&&s instanceof jr?Ci(n.elements,s.elements,hn):n instanceof Ra&&s instanceof Ra?hn(n._t,s._t):n instanceof Oa&&s instanceof Oa}(t.transform,e.transform)}class yA{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ol{}function X_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fh(t.key,ln.none()):new vo(t.key,t.data,ln.none());{const n=t.data,s=jt.empty();let i=new Ke(ht.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new js(t.key,s,new Wt(i.toArray()),ln.none())}}function _A(t,e,n){t instanceof vo?function(s,i,r){const o=s.value.clone(),a=mp(s.fieldTransforms,i,r.transformResults);o.setAll(a),i.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof js?function(s,i,r){if(!Zo(s.precondition,i))return void i.convertToUnknownDocument(r.version);const o=mp(s.fieldTransforms,i,r.transformResults),a=i.data;a.setAll(Z_(s)),a.setAll(o),i.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,r){i.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function _r(t,e,n,s){return t instanceof vo?function(i,r,o,a){if(!Zo(i.precondition,r))return o;const l=i.value.clone(),c=gp(i.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof js?function(i,r,o,a){if(!Zo(i.precondition,r))return o;const l=gp(i.fieldTransforms,a,r),c=r.data;return c.setAll(Z_(i)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(i,r,o){return Zo(i.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function vA(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=W_(s.transform,i||null);r!=null&&(n===null&&(n=jt.empty()),n.set(s.field,r))}return n||null}function pp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ci(n,s,(i,r)=>gA(i,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vo extends Ol{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Ol{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function mp(t,e,n){const s=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,mA(o,a,n[i]))}return s}function gp(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,pA(r,o,e))}return s}class Fh extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&_A(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_r(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_r(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=q_();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=X_(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,(n,s)=>pp(n,s))&&Ci(this.baseMutations,e.baseMutations,(n,s)=>pp(n,s))}}class $h{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Me(e.mutations.length===s.length);let i=uA;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new $h(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,we;function IA(t){switch(t){default:return le();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function ev(t){if(t===void 0)return In("GRPC error has no .code"),k.UNKNOWN;switch(t){case je.OK:return k.OK;case je.CANCELLED:return k.CANCELLED;case je.UNKNOWN:return k.UNKNOWN;case je.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case je.INTERNAL:return k.INTERNAL;case je.UNAVAILABLE:return k.UNAVAILABLE;case je.UNAUTHENTICATED:return k.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case je.NOT_FOUND:return k.NOT_FOUND;case je.ALREADY_EXISTS:return k.ALREADY_EXISTS;case je.PERMISSION_DENIED:return k.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case je.ABORTED:return k.ABORTED;case je.OUT_OF_RANGE:return k.OUT_OF_RANGE;case je.UNIMPLEMENTED:return k.UNIMPLEMENTED;case je.DATA_LOSS:return k.DATA_LOSS;default:return le()}}(we=je||(je={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qo}static getOrCreateInstance(){return qo===null&&(qo=new Uh),qo}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qo=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rl(fe.min(),i,G_(),Sn(),ye())}}class wo{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wo(s,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s,i){this.It=e,this.removedTargetIds=n,this.key=s,this.Tt=i}}class tv{constructor(e,n){this.targetId=e,this.Et=n}}class nv{constructor(e,n,s=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class yp{constructor(){this.At=0,this.Rt=vp(),this.vt=yt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ye(),n=ye(),s=ye();return this.Rt.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:le()}}),new wo(this.vt,this.bt,e,n,s)}xt(){this.Pt=!1,this.Rt=vp()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class CA{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Sn(),this.qt=_p(),this.Ut=new Ke(Ce)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const s=this.jt(n);switch(e.state){case 0:this.Wt(n)&&s.Dt(e.resumeToken);break;case 1:s.$t(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.$t(),s.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(s.Mt(),s.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),s.Dt(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((s,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const s=e.targetId,i=e.Et.count,r=this.Yt(s);if(r){const o=r.target;if(ou(o))if(i===0){const a=new ne(o.path);this.Qt(s,a,ct.newNoDocument(a,fe.min()))}else Me(i===1);else{const a=this.Zt(s);a!==i&&(this.Ht(s),this.Ut=this.Ut.add(s),(n=Uh.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((r,o)=>{const a=this.Yt(o);if(a){if(r.current&&ou(a.target)){const l=new ne(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,ct.newNoDocument(l,e))}r.St&&(n.set(o,r.Ct()),r.xt())}});let s=ye();this.qt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(s=s.add(r))}),this.Lt.forEach((r,o)=>o.setReadTime(e));const i=new Rl(e,n,this.Ut,this.Lt,s);return this.Lt=Sn(),this.qt=_p(),this.Ut=new Ke(Ce),i}Gt(e,n){if(!this.Wt(e))return;const s=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,s),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,s){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),s&&(this.Lt=this.Lt.insert(n,s))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new yp,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ke(Ce),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new yp),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function _p(){return new ze(ne.comparator)}function vp(){return new ze(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kA=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AA=(()=>({and:"AND",or:"OR"}))();class NA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Da(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OA(t,e){return Da(t,e.toTimestamp())}function cn(t){return Me(!!t),fe.fromTimestamp(function(e){const n=ts(e);return new Ge(n.seconds,n.nanos)}(t))}function Vh(t,e){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function iv(t){const e=Pe.fromString(t);return Me(lv(e)),e}function uu(t,e){return Vh(t.databaseId,e.path)}function dc(t,e){const n=iv(e);if(n.get(1)!==t.databaseId.projectId)throw new J(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(rv(n))}function hu(t,e){return Vh(t.databaseId,e)}function RA(t){const e=iv(t);return e.length===4?Pe.emptyPath():rv(e)}function du(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rv(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wp(t,e,n){return{name:uu(t,e),fields:n.value.mapValue.fields}}function DA(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(l,c){return l.useProto3Json?(Me(c===void 0||typeof c=="string"),yt.fromBase64String(c||"")):(Me(c===void 0||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?k.UNKNOWN:ev(l.code);return new J(c,l.message||"")}(o);n=new nv(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=dc(t,s.document.name),r=cn(s.document.updateTime),o=s.document.createTime?cn(s.document.createTime):fe.min(),a=new jt({mapValue:{fields:s.document.fields}}),l=ct.newFoundDocument(i,r,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new ea(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=dc(t,s.document),r=s.readTime?cn(s.readTime):fe.min(),o=ct.newNoDocument(i,r),a=s.removedTargetIds||[];n=new ea([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=dc(t,s.document),r=s.removedTargetIds||[];n=new ea([],r,i,null)}else{if(!("filter"in e))return le();{e.filter;const s=e.filter;s.targetId;const i=s.count||0,r=new TA(i),o=s.targetId;n=new tv(o,r)}}return n}function PA(t,e){let n;if(e instanceof vo)n={update:wp(t,e.key,e.value)};else if(e instanceof Fh)n={delete:uu(t,e.key)};else if(e instanceof js)n={update:wp(t,e.key,e.data),updateMask:jA(e.fieldMask)};else{if(!(e instanceof wA))return le();n={verify:uu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,r){const o=r.transform;if(o instanceof Oa)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Br)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jr)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ra)return{fieldPath:r.field.canonicalString(),increment:o._t};throw le()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:OA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function MA(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(s,i){let r=s.updateTime?cn(s.updateTime):cn(i);return r.isEqual(fe.min())&&(r=cn(i)),new yA(r,s.transformResults||[])}(n,e))):[]}function xA(t,e){return{documents:[hu(t,e.path)]}}function LA(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=hu(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hu(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(l){if(l.length!==0)return av(Xt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const r=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:ti(u.field),direction:UA(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,c){return l.useProto3Json||Cl(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function FA(t){let e=RA(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Me(s===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(u){const h=ov(u);return h instanceof Xt&&x_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new di(ni(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Cl(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Na(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Na(f,h)}(n.endAt)),oA(e,i,o,r,a,"F",l,c)}function $A(t,e){const n=function(s,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return le()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function ov(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ni(e.unaryFilter.field);return qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ni(e.unaryFilter.field);return qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ni(e.unaryFilter.field);return qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ni(e.unaryFilter.field);return qe.create(r,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(e){return qe.create(ni(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Xt.create(e.compositeFilter.filters.map(n=>ov(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(t):le()}function UA(t){return SA[t]}function VA(t){return kA[t]}function BA(t){return AA[t]}function ti(t){return{fieldPath:t.canonicalString()}}function ni(t){return ht.fromServerFormat(t.fieldPath)}function av(t){return t instanceof qe?function(e){if(e.op==="=="){if(lp(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NAN"}};if(ap(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lp(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NOT_NAN"}};if(ap(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(e.field),op:VA(e.op),value:e.value}}}(t):t instanceof Xt?function(e){const n=e.getFilters().map(s=>av(s));return n.length===1?n[0]:{compositeFilter:{op:BA(e.op),filters:n}}}(t):le()}function jA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,s,i,r=fe.min(),o=fe.min(),a=yt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.se=e}}function qA(t){const e=FA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.He=new KA}addToCollectionParentIndex(e,n){return this.He.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(es.min())}updateCollectionGroup(e,n,s){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class KA{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Ke(Pe.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ke(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ni(0)}static bn(){return new Ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?x.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&_r(s.mutation,i,Wt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ye()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ye()){const i=vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=nr();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=vs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ye()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=Sn();const o=yr(),a=yr();return n.forEach((l,c)=>{const u=s.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof js)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),_r(u.mutation,c,u.mutation.getFieldMask(),Ge.now())):o.set(c.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new WA(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=yr();let i=new ze((o,a)=>o-a),r=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Wt.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=q_();u.forEach(f=>{if(!r.has(f)){const m=X_(n.get(f),s.get(f));m!==null&&h.set(f,m),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return x.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):x.resolve(vs());let a=-1,l=r;return o.next(c=>x.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?x.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,ye())).next(u=>({batchId:a,changes:H_(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(s=>{let i=nr();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const i=n.collectionGroup;let r=nr();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(c,u){return new Bi(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i))).next(r=>{i.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,ct.newInvalidDocument(c)))});let o=nr();return r.forEach((a,l)=>{const c=i.get(a);c!==void 0&&_r(c.mutation,l,Wt.empty(),Ge.now()),Al(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:cn(s.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(s){return{name:s.name,query:qA(s.bundledQuery),readTime:cn(s.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.overlays=new ze(ne.comparator),this.ts=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const s=vs();return x.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.re(e,n,r)}),x.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.ts.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.ts.delete(s)),x.resolve()}getOverlaysForCollection(e,n,s){const i=vs(),r=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new ze((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=r.get(c.largestBatchId);u===null&&(u=vs(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vs(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return x.resolve(a)}re(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(s.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new EA(n,s));let r=this.ts.get(n);r===void 0&&(r=ye(),this.ts.set(n,r)),this.ts.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.es=new Ke(Qe.ns),this.ss=new Ke(Qe.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const s=new Qe(e,n);this.es=this.es.add(s),this.ss=this.ss.add(s)}os(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.us(new Qe(e,n))}cs(e,n){e.forEach(s=>this.removeReference(s,n))}hs(e){const n=new ne(new Pe([])),s=new Qe(n,e),i=new Qe(n,e+1),r=[];return this.ss.forEachInRange([s,i],o=>{this.us(o),r.push(o.key)}),r}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new ne(new Pe([])),s=new Qe(n,e),i=new Qe(n,e+1);let r=ye();return this.ss.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Qe(e,0),s=this.es.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qe{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return ne.comparator(e.key,n.key)||Ce(e.ds,n.ds)}static rs(e,n){return Ce(e.ds,n.ds)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ke(Qe.ns)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bA(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Qe(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ys(s),r=i<0?0:i;return x.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),r=[];return this._s.forEachInRange([s,i],o=>{const a=this.gs(o.ds);r.push(a)}),x.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ke(Ce);return n.forEach(i=>{const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([r,o],a=>{s=s.add(a.ds)})}),x.resolve(this.ps(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;ne.isDocumentKey(r)||(r=r.child(""));const o=new Qe(new ne(r),0);let a=new Ke(Ce);return this._s.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.ds)),!0)},o),x.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(s=>{const i=this.gs(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this._s;return x.forEach(n.mutations,i=>{const r=new Qe(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=s})}En(e){}containsKey(e,n){const s=new Qe(n,0),i=this._s.firstAfterOrEqual(s);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.Ts=e,this.docs=new ze(ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return x.resolve(s?s.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let s=Sn();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():ct.newInvalidDocument(i))}),x.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Sn();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jk(Bk(u),s)<=0||(i.has(u.key)||Al(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return x.resolve(r)}getAllFromCollectionGroup(e,n,s,i){le()}Es(e,n){return x.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new eN(this)}getSize(e){return x.resolve(this.size)}}class eN extends zA{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(s)}),x.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.persistence=e,this.As=new ji(n=>Ph(n),Mh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Bh,this.targetCount=0,this.bs=Ni.vn()}forEachTarget(e,n){return this.As.forEach((s,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Rs&&(this.Rs=n),x.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Ni(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Sn(n),x.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.As.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(r).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const s=this.As.get(n)||null;return x.resolve(s)}addMatchingKeys(e,n,s){return this.vs.os(n,s),x.resolve()}removeMatchingKeys(e,n,s){this.vs.cs(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),x.resolve()}getMatchingKeysForTargetId(e,n){const s=this.vs.fs(n);return x.resolve(s)}containsKey(e,n){return x.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Rh(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new tN(this),this.indexManager=new GA,this.remoteDocumentCache=function(s){return new ZA(s)}(s=>this.referenceDelegate.Cs(s)),this.serializer=new HA(n),this.xs=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Ps[e.toKey()];return s||(s=new XA(n,this.referenceDelegate),this.Ps[e.toKey()]=s),s}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,s){Z("MemoryPersistence","Starting transaction:",e);const i=new sN(this.Vs.next());return this.referenceDelegate.Ns(),s(i).next(r=>this.referenceDelegate.ks(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Os(e,n){return x.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,n)))}}class sN extends qk{constructor(e){super(),this.currentSequenceNumber=e}}class jh{constructor(e){this.persistence=e,this.$s=new Bh,this.Ms=null}static Fs(e){return new jh(e)}get Bs(){if(this.Ms)return this.Ms;throw le()}addReference(e,n,s){return this.$s.addReference(s,n),this.Bs.delete(s.toString()),x.resolve()}removeReference(e,n,s){return this.$s.removeReference(s,n),this.Bs.add(s.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),x.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.Bs.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Bs,s=>{const i=ne.fromPath(s);return this.Ls(e,i).next(r=>{r||n.removeEntry(i,fe.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(s=>{s?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return x.or([()=>x.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Vi=s,this.Si=i}static Di(e,n){let s=ye(),i=ye();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Hh(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,s,i){return this.Ni(e,n).next(r=>r||this.ki(e,n,i,s)).next(r=>r||this.Oi(e,n))}Ni(e,n){if(dp(n))return x.resolve(null);let s=Cn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lu(n,null,"F"),s=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=ye(...r);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.$i(n,a);return this.Mi(n,c,o,l.readTime)?this.Ni(e,lu(n,null,"F")):this.Fi(e,c,n,l)}))})))}ki(e,n,s,i){return dp(n)||i.isEqual(fe.min())?this.Oi(e,n):this.xi.getDocuments(e,s).next(r=>{const o=this.$i(n,r);return this.Mi(n,o,s,i)?this.Oi(e,n):(np()<=Ie.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.Fi(e,o,n,Vk(i,-1)))})}$i(e,n){let s=new Ke(B_(e));return n.forEach((i,r)=>{Al(e,r)&&(s=s.add(r))}),s}Mi(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Oi(e,n){return np()<=Ie.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",cu(n)),this.xi.getDocumentsMatchingQuery(e,n,es.min())}Fi(e,n,s,i){return this.xi.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new ze(Ce),this.qi=new ji(r=>Ph(r),Mh),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(s)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function oN(t,e,n,s){return new rN(t,e,n,s)}async function cv(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Gi(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=ye();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:a}))})})}function aN(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=x.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(_=>{const b=l.docVersions.get(m);Me(b!==null),_.version.compareTo(b)<0&&(u.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),c.addEntry(_)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=ye();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function uv(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function lN(t,e){const n=pe(t),s=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ds.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(r,u.addedDocuments,h)));let m=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.has(h)?m=m.withResumeToken(yt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,s)),i=i.insert(h,m),function(_,b,R){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,m,u)&&a.push(n.Ds.updateTargetData(r,m))});let l=Sn(),c=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(cN(r,o,e.documentUpdates).next(u=>{l=u.zi,c=u.ji})),!s.isEqual(fe.min())){const u=n.Ds.getLastRemoteSnapshotVersion(r).next(h=>n.Ds.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(u)}return x.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Li=i,r))}function cN(t,e,n){let s=ye(),i=ye();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Sn();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:i}})}function uN(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hN(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ds.getTargetData(s,e).next(r=>r?(i=r,x.resolve(i)):n.Ds.allocateTargetId(s).next(o=>(i=new ks(e,o,0,s.currentSequenceNumber),n.Ds.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Li.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(s.targetId,s),n.qi.set(e,s.targetId)),s})}async function fu(t,e,n){const s=pe(t),i=s.Li.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_o(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Li=s.Li.remove(e),s.qi.delete(i.target)}function bp(t,e,n){const s=pe(t);let i=fe.min(),r=ye();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=pe(a),h=u.qi.get(c);return h!==void 0?x.resolve(u.Li.get(h)):u.Ds.getTargetData(l,c)}(s,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.Bi.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?r:ye())).next(a=>(dN(s,aA(e),a),{documents:a,Wi:r})))}function dN(t,e,n){let s=t.Ui.get(e)||fe.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ui.set(e,s)}class Ep{constructor(){this.activeTargetIds=G_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.Br=new Ep,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,s){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Ep,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=null;function fc(){return Go===null?Go=268435456+Math.round(2147483648*Math.random()):Go++,"0x"+Go.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class yN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,s,i,r){const o=fc(),a=this.ao(e,n);Z("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.ho(l,i,r),this.lo(e,a,l,s).then(c=>(Z("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ka("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}fo(e,n,s,i,r,o){return this.co(e,n,s,i,r)}ho(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ui,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}ao(e,n){const s=mN[e];return`${this.ro}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,s,i){const r=fc();return new Promise((o,a)=>{const l=new Ok;l.setWithCredentials(!0),l.listenOnce(kk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hc.NO_ERROR:const u=l.getResponseJson();Z(at,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case hc.TIMEOUT:Z(at,`RPC '${e}' ${r} timed out`),a(new J(k.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const h=l.getStatus();if(Z(at,`RPC '${e}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(b){const R=b.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(R)>=0?R:k.UNKNOWN}(m.status);a(new J(_,m.message))}else a(new J(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(k.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(at,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(i);Z(at,`RPC '${e}' ${r} sending request:`,i),l.send(n,"POST",c,s,15)})}wo(e,n,s){const i=fc(),r=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ck(),a=Sk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Nk({})),this.ho(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const c=r.join("");Z(at,`Creating RPC '${e}' stream ${i}: ${c}`,l);const u=o.createWebChannel(c,l);let h=!1,f=!1;const m=new gN({Wr:b=>{f?Z(at,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(Z(at,`Opening RPC '${e}' stream ${i} transport.`),u.open(),h=!0),Z(at,`RPC '${e}' stream ${i} sending:`,b),u.send(b))},Hr:()=>u.close()}),_=(b,R,v)=>{b.listen(R,g=>{try{v(g)}catch(w){setTimeout(()=>{throw w},0)}})};return _(u,Bo.EventType.OPEN,()=>{f||Z(at,`RPC '${e}' stream ${i} transport opened.`)}),_(u,Bo.EventType.CLOSE,()=>{f||(f=!0,Z(at,`RPC '${e}' stream ${i} transport closed`),m.so())}),_(u,Bo.EventType.ERROR,b=>{f||(f=!0,ka(at,`RPC '${e}' stream ${i} transport errored:`,b),m.so(new J(k.UNAVAILABLE,"The operation could not be completed")))}),_(u,Bo.EventType.MESSAGE,b=>{var R;if(!f){const v=b.data[0];Me(!!v);const g=v,w=g.error||((R=g[0])===null||R===void 0?void 0:R.error);if(w){Z(at,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let L=function(q){const D=je[q];if(D!==void 0)return ev(D)}(S),B=w.message;L===void 0&&(L=k.INTERNAL,B="Unknown error status: "+S+" with message "+w.message),f=!0,m.so(new J(L,B)),u.close()}else Z(at,`RPC '${e}' stream ${i} received:`,v),m.io(v)}}),_(a,Ak.STAT_EVENT,b=>{b.stat===ep.PROXY?Z(at,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ep.NOPROXY&&Z(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}function pc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){return new NA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Ws=e,this.timerId=n,this._o=s,this.mo=i,this.yo=r,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),i=Math.max(0,n-s);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,s,i,r,o,a,l){this.Ws=e,this.bo=s,this.Po=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new hv(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Vo===n&&this.Ko(s,i)},s=>{e(()=>{const i=new J(k.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Go(i)})})}Ko(e,n){const s=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{s(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{s(()=>this.Go(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends dv{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=DA(this.serializer,e),s=function(i){if(!("targetChange"in i))return fe.min();const r=i.targetChange;return r.targetIds&&r.targetIds.length?fe.min():r.readTime?cn(r.readTime):fe.min()}(e);return this.listener.zo(n,s)}jo(e){const n={};n.database=du(this.serializer),n.addTarget=function(i,r){let o;const a=r.target;return o=ou(a)?{documents:xA(i,a)}:{query:LA(i,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=sv(i,r.resumeToken):r.snapshotVersion.compareTo(fe.min())>0&&(o.readTime=Da(i,r.snapshotVersion.toTimestamp())),o}(this.serializer,e);const s=$A(this.serializer,e);s&&(n.labels=s),this.Fo(n)}Wo(e){const n={};n.database=du(this.serializer),n.removeTarget=e,this.Fo(n)}}class vN extends dv{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=MA(e.writeResults,e.commitTime),s=cn(e.commitTime);return this.listener.Zo(s,n)}return Me(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=du(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>PA(this.serializer,s))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new J(k.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.co(e,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(k.UNKNOWN,i.toString())})}fo(e,n,s,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.fo(e,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(k.UNKNOWN,r.toString())})}terminate(){this.eu=!0}}class bN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(In(n),this.ru=!1):Z("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=r,this._u.qr(o=>{s.enqueueAndForget(async()=>{Hs(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.du.add(4),await bo(l),l.mu.set("Unknown"),l.du.delete(4),await Pl(l)}(this))})}),this.mu=new bN(s,i)}}async function Pl(t){if(Hs(t))for(const e of t.wu)await e(!0)}async function bo(t){for(const e of t.wu)await e(!1)}function fv(t,e){const n=pe(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Kh(n)?Gh(n):Hi(n).No()&&qh(n,e))}function pv(t,e){const n=pe(t),s=Hi(n);n.fu.delete(e),s.No()&&mv(n,e),n.fu.size===0&&(s.No()?s.$o():Hs(n)&&n.mu.set("Unknown"))}function qh(t,e){t.gu.Ot(e.targetId),Hi(t).jo(e)}function mv(t,e){t.gu.Ot(e),Hi(t).Wo(e)}function Gh(t){t.gu=new CA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Hi(t).start(),t.mu.ou()}function Kh(t){return Hs(t)&&!Hi(t).xo()&&t.fu.size>0}function Hs(t){return pe(t).du.size===0}function gv(t){t.gu=void 0}async function TN(t){t.fu.forEach((e,n)=>{qh(t,e)})}async function IN(t,e){gv(t),Kh(t)?(t.mu.au(e),Gh(t)):t.mu.set("Unknown")}async function CN(t,e,n){if(t.mu.set("Online"),e instanceof nv&&e.state===2&&e.cause)try{await async function(s,i){const r=i.cause;for(const o of i.targetIds)s.fu.has(o)&&(await s.remoteSyncer.rejectListen(o,r),s.fu.delete(o),s.gu.removeTarget(o))}(t,e)}catch(s){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pa(t,s)}else if(e instanceof ea?t.gu.Kt(e):e instanceof tv?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(fe.min()))try{const s=await uv(t.localStore);n.compareTo(s)>=0&&await function(i,r){const o=i.gu.Xt(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.fu.get(l);c&&i.fu.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),mv(i,a);const c=new ks(l.target,a,1,l.sequenceNumber);qh(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){Z("RemoteStore","Failed to raise snapshot:",s),await Pa(t,s)}}async function Pa(t,e,n){if(!_o(e))throw e;t.du.add(1),await bo(t),t.mu.set("Offline"),n||(n=()=>uv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Pl(t)})}function yv(t,e){return e().catch(n=>Pa(t,n,e))}async function Ml(t){const e=pe(t),n=ns(e);let s=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;SN(e);)try{const i=await uN(e.localStore,s);if(i===null){e.lu.length===0&&n.$o();break}s=i.batchId,kN(e,i)}catch(i){await Pa(e,i)}_v(e)&&vv(e)}function SN(t){return Hs(t)&&t.lu.length<10}function kN(t,e){t.lu.push(e);const n=ns(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function _v(t){return Hs(t)&&!ns(t).xo()&&t.lu.length>0}function vv(t){ns(t).start()}async function AN(t){ns(t).tu()}async function NN(t){const e=ns(t);for(const n of t.lu)e.Yo(n.mutations)}async function ON(t,e,n){const s=t.lu.shift(),i=$h.from(s,e,n);await yv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ml(t)}async function RN(t,e){e&&ns(t).Jo&&await async function(n,s){if(i=s.code,IA(i)&&i!==k.ABORTED){const r=n.lu.shift();ns(n).Oo(),await yv(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ml(n)}var i}(t,e),_v(t)&&vv(t)}async function Ip(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const s=Hs(n);n.du.add(3),await bo(n),s&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Pl(n)}async function DN(t,e){const n=pe(t);e?(n.du.delete(2),await Pl(n)):e||(n.du.add(2),await bo(n),n.mu.set("Unknown"))}function Hi(t){return t.yu||(t.yu=function(e,n,s){const i=pe(e);return i.nu(),new _N(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Jr:TN.bind(null,t),Zr:IN.bind(null,t),zo:CN.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Kh(t)?Gh(t):t.mu.set("Unknown")):(await t.yu.stop(),gv(t))})),t.yu}function ns(t){return t.pu||(t.pu=function(e,n,s){const i=pe(e);return i.nu(),new vN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Jr:AN.bind(null,t),Zr:RN.bind(null,t),Xo:NN.bind(null,t),Zo:ON.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Ml(t)):(await t.pu.stop(),t.lu.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new zh(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wh(t,e){if(In("AsyncQueue",`${e}: ${t}`),_o(t))return new J(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ne.comparator(n.key,s.key):(n,s)=>ne.comparator(n.key,s.key),this.keyedMap=nr(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new pi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new pi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Iu=new ze(ne.comparator)}track(e){const n=e.doc.key,s=this.Iu.get(n);s?e.type!==0&&s.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&s.type!==1?this.Iu=this.Iu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Iu=this.Iu.remove(n):e.type===1&&s.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):le():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Oi{constructor(e,n,s,i,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oi(e,n,pi.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Eu=void 0,this.listeners=[]}}class MN{constructor(){this.queries=new ji(e=>V_(e),kl),this.onlineState="Unknown",this.Au=new Set}}async function wv(t,e){const n=pe(t),s=e.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new PN),i)try{r.Eu=await n.onListen(s)}catch(o){const a=Wh(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.listeners.push(e),e.Ru(n.onlineState),r.Eu&&e.vu(r.Eu)&&Jh(n)}async function bv(t,e){const n=pe(t),s=e.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function xN(t,e){const n=pe(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.vu(i)&&(s=!0);o.Eu=i}}s&&Jh(n)}function LN(t,e,n){const s=pe(t),i=s.queries.get(e);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(e)}function Jh(t){t.Au.forEach(e=>{e.next()})}class Ev{constructor(e,n,s){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=s||{}}vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Oi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.xu||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class FN{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ye(),this.mutatedKeys=ye(),this.Ku=B_(e),this.Gu=new pi(this.Ku)}get Qu(){return this.Lu}zu(e,n){const s=n?n.ju:new Cp,i=n?n.Gu:this.Gu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),m=Al(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let R=!1;f&&m?f.data.isEqual(m.data)?_!==b&&(s.track({type:3,doc:m}),R=!0):this.Wu(f,m)||(s.track({type:2,doc:m}),R=!0,(l&&this.Ku(m,l)>0||c&&this.Ku(m,c)<0)&&(a=!0)):!f&&m?(s.track({type:0,doc:m}),R=!0):f&&!m&&(s.track({type:1,doc:f}),R=!0,(l||c)&&(a=!0)),R&&(m?(o=o.add(m),r=b?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),s.track({type:1,doc:u})}return{Gu:o,ju:s,Mi:a,mutatedKeys:r}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const r=e.ju.Tu();r.sort((c,u)=>function(h,f){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(h)-m(f)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(s);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,r.length!==0||l?{snapshot:new Oi(this.query,e.Gu,i,r,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Cp,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ye(),this.Gu.forEach(s=>{this.Zu(s.key)&&(this.Uu=this.Uu.add(s.key))});const n=[];return e.forEach(s=>{this.Uu.has(s)||n.push(new Iv(s))}),this.Uu.forEach(s=>{e.has(s)||n.push(new Tv(s))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ye();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Oi.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class $N{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UN{constructor(e){this.key=e,this.ec=!1}}class VN{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new ji(a=>V_(a),kl),this.ic=new Map,this.rc=new Set,this.oc=new ze(ne.comparator),this.uc=new Map,this.cc=new Bh,this.ac={},this.hc=new Map,this.lc=Ni.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function BN(t,e){const n=YN(t);let s,i;const r=n.sc.get(e);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.tc();else{const o=await hN(n.localStore,Cn(e));n.isPrimaryClient&&fv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await jN(n,e,s,a==="current",o.resumeToken)}return i}async function jN(t,e,n,s,i){t.dc=(h,f,m)=>async function(_,b,R,v){let g=b.view.zu(R);g.Mi&&(g=await bp(_.localStore,b.query,!1).then(({documents:L})=>b.view.zu(L,g)));const w=v&&v.targetChanges.get(b.targetId),S=b.view.applyChanges(g,_.isPrimaryClient,w);return kp(_,b.targetId,S.Yu),S.snapshot}(t,h,f,m);const r=await bp(t.localStore,e,!0),o=new FN(e,r.Wi),a=o.zu(r.documents),l=wo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);kp(t,n,c.Yu);const u=new $N(e,n,o);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function HN(t,e){const n=pe(t),s=n.sc.get(e),i=n.ic.get(s.targetId);if(i.length>1)return n.ic.set(s.targetId,i.filter(r=>!kl(r,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await fu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),pv(n.remoteStore,s.targetId),pu(n,s.targetId)}).catch(yo)):(pu(n,s.targetId),await fu(n.localStore,s.targetId,!0))}async function qN(t,e,n){const s=XN(t);try{const i=await function(r,o){const a=pe(r),l=Ge.now(),c=o.reduce((f,m)=>f.add(m.key),ye());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Sn(),_=ye();return a.Ki.getEntries(f,c).next(b=>{m=b,m.forEach((R,v)=>{v.isValidDocument()||(_=_.add(R))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(b=>{u=b;const R=[];for(const v of o){const g=vA(v,u.get(v.key).overlayedDocument);g!=null&&R.push(new js(v.key,g,D_(g.value.mapValue),ln.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,R,o)}).next(b=>{h=b;const R=b.applyToLocalDocumentSet(u,_);return a.documentOverlayCache.saveOverlays(f,b.batchId,R)})}).then(()=>({batchId:h.batchId,changes:H_(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(r,o,a){let l=r.ac[r.currentUser.toKey()];l||(l=new ze(Ce)),l=l.insert(o,a),r.ac[r.currentUser.toKey()]=l}(s,i.batchId,n),await Eo(s,i.changes),await Ml(s.remoteStore)}catch(i){const r=Wh(i,"Failed to persist write");n.reject(r)}}async function Cv(t,e){const n=pe(t);try{const s=await lN(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.uc.get(r);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Me(o.ec):i.removedDocuments.size>0&&(Me(o.ec),o.ec=!1))}),await Eo(n,s,e)}catch(s){await yo(s)}}function Sp(t,e,n){const s=pe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.sc.forEach((r,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(r,o){const a=pe(r);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Ru(o)&&(l=!0)}),l&&Jh(a)}(s.eventManager,e),i.length&&s.nc.zo(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GN(t,e,n){const s=pe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.uc.get(e),r=i&&i.key;if(r){let o=new ze(ne.comparator);o=o.insert(r,ct.newNoDocument(r,fe.min()));const a=ye().add(r),l=new Rl(fe.min(),new Map,new Ke(Ce),o,a);await Cv(s,l),s.oc=s.oc.remove(r),s.uc.delete(e),Qh(s)}else await fu(s.localStore,e,!1).then(()=>pu(s,e,n)).catch(yo)}async function KN(t,e){const n=pe(t),s=e.batch.batchId;try{const i=await aN(n.localStore,e);kv(n,s,null),Sv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eo(n,i)}catch(i){await yo(i)}}async function zN(t,e,n){const s=pe(t);try{const i=await function(r,o){const a=pe(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Me(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);kv(s,e,n),Sv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eo(s,i)}catch(i){await yo(i)}}function Sv(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function kv(t,e,n){const s=pe(t);let i=s.ac[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.ac[s.currentUser.toKey()]=i}}function pu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ic.get(e))t.sc.delete(s),n&&t.nc.wc(s,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(s=>{t.cc.containsKey(s)||Av(t,s)})}function Av(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(pv(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Qh(t))}function kp(t,e,n){for(const s of n)s instanceof Tv?(t.cc.addReference(s.key,e),WN(t,s)):s instanceof Iv?(Z("SyncEngine","Document no longer in limbo: "+s.key),t.cc.removeReference(s.key,e),t.cc.containsKey(s.key)||Av(t,s.key)):le()}function WN(t,e){const n=e.key,s=n.path.canonicalString();t.oc.get(n)||t.rc.has(s)||(Z("SyncEngine","New document in limbo: "+n),t.rc.add(s),Qh(t))}function Qh(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ne(Pe.fromString(e)),s=t.lc.next();t.uc.set(s,new UN(n)),t.oc=t.oc.insert(n,s),fv(t.remoteStore,new ks(Cn(xh(n.path)),s,2,Rh.ct))}}async function Eo(t,e,n){const s=pe(t),i=[],r=[],o=[];s.sc.isEmpty()||(s.sc.forEach((a,l)=>{o.push(s.dc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Hh.Di(l.targetId,c);r.push(u)}}))}),await Promise.all(o),s.nc.zo(i),await async function(a,l){const c=pe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>x.forEach(l,h=>x.forEach(h.Vi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>x.forEach(h.Si,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!_o(u))throw u;Z("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Li.get(h),m=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(m);c.Li=c.Li.insert(h,_)}}}(s.localStore,r))}async function JN(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const s=await cv(n.localStore,e);n.currentUser=e,function(i,r){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new J(k.CANCELLED,r))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eo(n,s.Qi)}}function QN(t,e){const n=pe(t),s=n.uc.get(e);if(s&&s.ec)return ye().add(s.key);{let i=ye();const r=n.ic.get(e);if(!r)return i;for(const o of r){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function YN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GN.bind(null,e),e.nc.zo=xN.bind(null,e.eventManager),e.nc.wc=LN.bind(null,e.eventManager),e}function XN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,e),e}class Ap{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oN(this.persistence,new iN,e.initialUser,this.serializer)}createPersistence(e){return new nN(jh.Fs,this.serializer)}createSharedClientState(e){return new fN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ZN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JN.bind(null,this.syncEngine),await DN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new MN}createDatastore(e){const n=Dl(e.databaseInfo.databaseId),s=(i=e.databaseInfo,new yN(i));var i;return function(r,o,a,l){return new wN(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,i=e.asyncQueue,r=a=>Sp(this.syncEngine,a,0),o=Tp.D()?new Tp:new pN,new EN(n,s,i,r,o);var n,s,i,r,o}createSyncEngine(e,n){return function(s,i,r,o,a,l,c){const u=new VN(s,i,r,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);Z("RemoteStore","RemoteStore shutting down."),n.du.add(5),await bo(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=A_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{Z("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(Z("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mc(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await cv(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Np(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nO(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(i=>Ip(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Ip(e.remoteStore,r)),t._onlineComponents=e}function tO(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await mc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tO(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await mc(t,new Ap)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await mc(t,new Ap);return t._offlineComponents}async function Ov(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Np(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Np(t,new ZN))),t._onlineComponents}function sO(t){return Ov(t).then(e=>e.syncEngine)}async function Rv(t){const e=await Ov(t),n=e.eventManager;return n.onListen=BN.bind(null,e.syncEngine),n.onUnlisten=HN.bind(null,e.syncEngine),n}function iO(t,e,n={}){const s=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(i,r,o,a,l){const c=new Nv({next:h=>{r.enqueueAndForget(()=>bv(i,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new J(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new J(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new Ev(xh(o.path),c,{includeMetadataChanges:!0,xu:!0});return wv(i,u)}(await Rv(t),t.asyncQueue,e,n,s)),s.promise}function rO(t,e,n={}){const s=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(i,r,o,a,l){const c=new Nv({next:h=>{r.enqueueAndForget(()=>bv(i,u)),h.fromCache&&a.source==="server"?l.reject(new J(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new Ev(o,c,{includeMetadataChanges:!0,xu:!0});return wv(i,u)}(await Rv(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e,n){if(!n)throw new J(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oO(t,e,n,s){if(e===!0&&s===!0)throw new J(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rp(t){if(!ne.isDocumentKey(t))throw new J(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dp(t){if(ne.isDocumentKey(t))throw new J(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xl(t);throw new J(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new J(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Rk;switch(n.type){case"firstParty":return new xk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Op.get(e);n&&(Z("ComponentProvider","Removing Datastore"),Op.delete(e),n.terminate())}(this),Promise.resolve()}}function aO(t,e,n,s={}){var i;const r=(t=ss(t,Ll))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==e&&ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=lt.MOCK_USER;else{o=rI(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new J(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new lt(l)}t._authCredentials=new Dk(new k_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class qs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Wn extends qs{constructor(e,n,s){super(e,n,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ne(e))}withConverter(e){return new Wn(this.firestore,e,this._path)}}function lO(t,e,...n){if(t=gt(t),Dv("collection","path",e),t instanceof Ll){const s=Pe.fromString(e,...n);return Dp(s),new Wn(t,null,s)}{if(!(t instanceof Nt||t instanceof Wn))throw new J(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pe.fromString(e,...n));return Dp(s),new Wn(t.firestore,null,s)}}function Yh(t,e,...n){if(t=gt(t),arguments.length===1&&(e=A_.A()),Dv("doc","path",e),t instanceof Ll){const s=Pe.fromString(e,...n);return Rp(s),new Nt(t,null,new ne(s))}{if(!(t instanceof Nt||t instanceof Wn))throw new J(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pe.fromString(e,...n));return Rp(s),new Nt(t.firestore,t instanceof Wn?t.converter:null,new ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new hv(this,"async_queue_retry"),this.qc=()=>{const n=pc();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=pc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=pc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new wn;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!_o(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(s=>{this.Mc=s,this.Fc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw In("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Fc=!1,s))));return this.Nc=n,n}enqueueAfterDelay(e,n,s){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=zh.createAndSchedule(this,e,n,s,r=>this.Qc(r));return this.$c.push(i),i}Uc(){this.Mc&&le()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class To extends Ll{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new cO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pv(this),this._firestoreClient.terminate()}}function uO(t,e){const n=typeof t=="object"?t:Wg(),s=typeof t=="string"?t:e||"(default)",i=Xu(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=nI("firestore");r&&aO(i,...r)}return i}function Xh(t){return t._firestoreClient||Pv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Pv(t){var e,n,s;const i=t._freezeSettings(),r=function(o,a,l,c){return new Wk(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eO(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(yt.fromBase64String(e))}catch(n){throw new J(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class dO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new vo(e,this.data,n,this.fieldTransforms)}}function xv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class td{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Jc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new td(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:s,ta:!1});return i.ea(e),i}na(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:s,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Ma(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(xv(this.Yc)&&hO.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class fO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Dl(e)}ua(e,n,s,i=!1){return new td({Yc:e,methodName:n,oa:s,path:ht.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(t){const e=t._freezeSettings(),n=Dl(t._databaseId);return new fO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pO(t,e,n,s,i,r={}){const o=t.ua(r.merge||r.mergeFields?2:0,e,n,i);Uv("Data must be an object, but it was:",o,s);const a=Fv(s,o);let l,c;if(r.merge)l=new Wt(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=gO(e,h,n);if(!o.contains(f))throw new J(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);_O(u,f)||u.push(f)}l=new Wt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new dO(new jt(a),l,c)}function mO(t,e,n,s=!1){return nd(n,t.ua(s?4:3,e))}function nd(t,e){if($v(t=gt(t)))return Uv("Unsupported field value:",e,t),Fv(t,e);if(t instanceof Mv)return function(n,s){if(!xv(s.Yc))throw s.ia(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,s){const i=[];let r=0;for(const o of n){let a=nd(o,s.sa(r));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fA(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ge.fromDate(n);return{timestampValue:Da(s.serializer,i)}}if(n instanceof Ge){const i=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Da(s.serializer,i)}}if(n instanceof ed)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ri)return{bytesValue:sv(s.serializer,n._byteString)};if(n instanceof Nt){const i=s.databaseId,r=n.firestore._databaseId;if(!r.isEqual(i))throw s.ia(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vh(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.ia(`Unsupported field value: ${xl(n)}`)}(t,e)}function Fv(t,e){const n={};return N_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(s,i)=>{const r=nd(i,e.Xc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function $v(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ed||t instanceof Ri||t instanceof Nt||t instanceof Mv)}function Uv(t,e,n){if(!$v(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=xl(n);throw s==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+s)}}function gO(t,e,n){if((e=gt(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw Ma("Field path arguments must be of type string or ",t,!1,void 0,n)}const yO=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(yO)>=0)throw Ma(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Ma(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ma(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new J(k.INVALID_ARGUMENT,a+t+l)}function _O(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vO extends Bv{data(){return super.data()}}function sd(t,e){return typeof e=="string"?Vv(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class id{}class jv extends id{}function bO(t,e,...n){let s=[];e instanceof id&&s.push(e),s=s.concat(n),function(i){const r=i.filter(a=>a instanceof od).length,o=i.filter(a=>a instanceof rd).length;if(r>1||r>0&&o>0)throw new J(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class rd extends jv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rd(e,n,s)}_apply(e){const n=this._parse(e);return Hv(e._query,n),new qs(e.firestore,e.converter,au(e._query,n))}_parse(e){const n=Lv(e.firestore);return function(i,r,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){xp(u,c);const f=[];for(const m of u)f.push(Mp(a,i,m));h={arrayValue:{values:f}}}else h=Mp(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||xp(u,c),h=mO(o,r,u,c==="in"||c==="not-in");return qe.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class od extends id{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new od(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let r=s;const o=i.getFlattenedFilters();for(const a of o)Hv(r,a),r=au(r,a)}(e._query,n),new qs(e.firestore,e.converter,au(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ad extends jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ad(e,n)}_apply(e){const n=function(s,i,r){if(s.startAt!==null)throw new J(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new di(i,r);return function(a,l){if(Lh(a)===null){const c=Sl(a);c!==null&&qv(a,c,l.field)}}(s,o),o}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(s,i){const r=s.explicitOrderBy.concat([i]);return new Bi(s.path,s.collectionGroup,r,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function EO(t,e="asc"){const n=e,s=sd("orderBy",t);return ad._create(s,n)}function Mp(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new J(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U_(e)&&n.indexOf("/")!==-1)throw new J(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pe.fromString(n));if(!ne.isDocumentKey(s))throw new J(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return op(t,new ne(s))}if(n instanceof Nt)return op(t,n._key);throw new J(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xl(n)}.`)}function xp(t,e){if(!Array.isArray(t)||t.length===0)throw new J(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hv(t,e){if(e.isInequality()){const s=Sl(t),i=e.field;if(s!==null&&!s.isEqual(i))throw new J(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${i.toString()}'`);const r=Lh(t);r!==null&&qv(t,i,r)}const n=function(s,i){for(const r of s)for(const o of r.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qv(t,e,n){if(!n.isEqual(e))throw new J(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class TO{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){const s={};return Vi(e.fields,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(e){return new ed(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=R_(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($r(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pe.fromString(e);Me(lv(s));const i=new Ur(s.get(1),s.get(3)),r=new ne(s.popFirst(5));return i.isEqual(n)||In(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gv extends Bv{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ta extends Gv{data(e={}){return super.data(e)}}class CO{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sr(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ta(this._firestore,this._userDataWriter,s.key,s,new sr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let r=0;return s._snapshot.docChanges.map(o=>{const a=new ta(s._firestore,s._userDataWriter,o.doc.key,o.doc,new sr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ta(s._firestore,s._userDataWriter,o.doc.key,o.doc,new sr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:SO(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){t=ss(t,Nt);const e=ss(t.firestore,To);return iO(Xh(e),t._key).then(n=>RO(e,t,n))}class Kv extends TO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function AO(t){t=ss(t,qs);const e=ss(t.firestore,To),n=Xh(e),s=new Kv(e);return wO(t._query),rO(n,t._query).then(i=>new CO(e,s,t,i))}function NO(t,e,n){t=ss(t,Nt);const s=ss(t.firestore,To),i=IO(t.converter,e,n);return zv(s,[pO(Lv(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ln.none())])}function OO(t){return zv(ss(t.firestore,To),[new Fh(t._key,ln.none())])}function zv(t,e){return function(n,s){const i=new wn;return n.asyncQueue.enqueueAndForget(async()=>qN(await sO(n),s,i)),i.promise}(Xh(t),e)}function RO(t,e,n){const s=n.docs.get(e._key),i=new Kv(t);return new Gv(t,i,e._key,s,new sr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ui=n})(to),Ei(new Ds("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new To(new Pk(n.getProvider("auth-internal")),new Fk(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ur(a.options.projectId,l)}(r,s),r);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zn(tp,"3.10.0",t),zn(tp,"3.10.0","esm2017")})();const DO={apiKey:"AIzaSyA1edFnLIXTMe98ey2m1XnS3de0xTzX17E",authDomain:"pja-golf-tournament.firebaseapp.com",projectId:"pja-golf-tournament",storageBucket:"pja-golf-tournament.appspot.com",messagingSenderId:"191775654052",appId:"1:191775654052:web:4d08bdb790677759ad2631"},ld=zg(DO),Io=uO(ld),PO=oo();async function Wv(t,e){const n=Yh(t,"admins",e),s=await kO(n),i={permissionLevel:null,displayName:null};return s.exists()?(i.permissionLevel="admin",i.displayName=s.data().displayName):i.permissionLevel="user",i}async function Lp(t){return new Promise(async e=>{const n=lO(Io,t),s=bO(n,EO("teamName","asc"));await AO(s).then(i=>{let r=[];i.forEach(o=>{const a={};a[o.id]=o.data(),r.push(a)}),e({data:r,error:null})}).catch(i=>{e({data:null,error:i})})})}async function mu(t,e=null){return new Promise((n,s)=>{e.hasOwnProperty("id")||(e.id=self.crypto.randomUUID());const i=Yh(Io,t,e.id),r={error:null,value:null};NO(i,e,{merge:!0}).then(()=>{r.value=!0,n(r)}).catch(o=>{r.error=o,r.value=!1,n(r)})})}async function Fp(t,e){return new Promise((n,s)=>{const i=Yh(Io,t,e),r={error:null,value:null};OO(i).then(()=>{r.value=!0,n(r)}).catch(o=>{r.error=o,r.value=!1,n(r)})})}const MO=oo(ld),st=HT({state:{user:{userData:{},userLoggedIn:!1},loading:!1,team:null},mutations:{setUser(t,e){if(e)for(const[n,s]of Object.entries(e))t.user.userData[n]=s;else t.user.userData={},t.user.userLoggedIn=!1;console.log(t.user)},setUserLoggedIn(t,e){t.user.userLoggedIn=e},setPermissionLevel(t,e){t.user.userData.permissionLevel=e},setUserDisplayName(t,e){t.user.userData.displayName=e},setLoadingState(t,e){t.loading=e},setTeam(t,e){t.team=e,console.log(t.team)}},actions:{logOut(t){mC(MO)},async fetchUser(t,e){t.commit("setUserLoggedIn",e!==null),e?t.commit("setUser",e):t.commit("setUser",null)}},getters:{checkAdmin(t){return t.user.userData.permissionLevel==="admin"},getUserDisplayName(t){const e=t.user.userData.displayName;return e!==null?e:"Admin"},getUser(t){return t.user.userData},getLoginState(t){return t.user.userLoggedIn},getLoadingState(t){return t.loading},getTeam(t){return t.team}}}),xO={name:"vuex3",computed:qT(["user"])},LO=Object.assign(xO,{setup(t){return(e,n)=>{const s=is("router-view");return T(),yi(s)}}});var FO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $O(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){if(this instanceof s){var i=[null];i.push.apply(i,arguments);var r=Function.bind.apply(e,i);return new r}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var Jv={exports:{}};const VO=UO(mE);(function(t,e){(function(s,i){t.exports=i(VO)})(FO,n=>(()=>{var s={661:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=(c,u)=>{const h=c.__vccOpts||c;for(const[f,m]of u)h[f]=m;return h}},976:a=>{a.exports=n}},i={};function r(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return s[a](c,c.exports,r),c.exports}r.d=(a,l)=>{for(var c in l)r.o(l,c)&&!r.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},r.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{ToastComponent:()=>L,ToastPlugin:()=>q,ToastPositions:()=>_,default:()=>D,useToast:()=>B});var a=r(976);const l=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1),c=["innerHTML"];function u(A,O,$,F,re,z){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":A.transition.enter,"leave-active-class":A.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${A.type}`,`v-toast__item--${A.position}`]]),onMouseover:O[0]||(O[0]=Je=>A.toggleTimer(!0)),onMouseleave:O[1]||(O[1]=Je=>A.toggleTimer(!1)),onClick:O[2]||(O[2]=function(){return A.whenClicked&&A.whenClicked(...arguments)})},[l,(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:A.message},null,8,c)],34),[[a.vShow,A.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function h(A){var O;typeof A.remove<"u"?A.remove():(O=A.parentNode)==null||O.removeChild(A)}function f(A,O,$){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const re=(0,a.h)(A,O,F),z=document.createElement("div");return z.classList.add("v-toast--pending"),$.appendChild(z),(0,a.render)(re,z),re.component}class m{constructor(O,$){this.startedAt=Date.now(),this.callback=O,this.delay=$,this.timer=setTimeout(O,$)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const _=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function b(A){return{all:A=A||new Map,on:function(O,$){var F=A.get(O);F?F.push($):A.set(O,[$])},off:function(O,$){var F=A.get(O);F&&($?F.splice(F.indexOf($)>>>0,1):A.set(O,[]))},emit:function(O,$){var F=A.get(O);F&&F.slice().map(function(re){re($)}),(F=A.get("*"))&&F.slice().map(function(re){re(O,$)})}}}const v=b(),g=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:_.BOTTOM_RIGHT,validator(A){return Object.values(_).includes(A)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),v.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const A=document.body;A.appendChild(this.parentTop),A.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const A=this.$refs.root;(0,a.render)(null,A),h(A)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const A=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),h(A),this.isActive=!0,this.duration&&(this.timer=new m(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(A){!this.pauseOnHover||!this.timer||(A?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case _.TOP:case _.TOP_RIGHT:case _.TOP_LEFT:return this.parentTop;case _.BOTTOM:case _.BOTTOM_RIGHT:case _.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case _.TOP:case _.TOP_RIGHT:case _.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case _.BOTTOM:case _.BOTTOM_RIGHT:case _.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){v.off("toast-clear",this.dismiss)}});var w=r(661);const L=(0,w.default)(g,[["render",u]]),B=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(O){let $=null;typeof O=="string"&&($=O);const re=Object.assign({},{message:$},A,O);return{dismiss:f(L,re,document.body).ctx.dismiss}},clear(){v.emit("toast-clear")},success(O){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:O,type:"success"},$))},error(O){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:O,type:"error"},$))},info(O){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:O,type:"info"},$))},warning(O){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:O,type:"warning"},$))},default(O){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:O,type:"default"},$))}}},q={install:function(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=B(O);A.config.globalProperties.$toast=$,A.provide("$toast",$)}},D=q})(),o})())})(Jv);var BO=Jv.exports;const jO=$O(BO),HO="/assets/logo-c8d0607d.svg",cd="/assets/player-icons-a9dfec05.png",qO="/assets/home-a27523c9.svg",GO="/assets/signUp-8a741f4b.svg",KO="/assets/info-61919730.svg",zO="/assets/trophy-8d875605.svg",WO="/assets/admin-d05c0f9a.svg",JO="/assets/sign-in-a5139f8b.svg";const We=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},QO={data(){return{userInfo:{userSignedIn:st.getters.getLoginState,isAdmin:st.getters.checkAdmin}}},methods:{openMenuHandler:function(){document.querySelector(".menu--list").classList.add("menu--open"),document.querySelector(".ui--backdrop").classList.add("backdrop--open")},menuItemSelectHandler:function(t){document.querySelector(".menu--item.selected").classList.remove("selected"),console.log(t)},closeMenuHandler:function(){document.querySelector(".menu--open").classList.remove("menu--open"),document.querySelector(".ui--backdrop").classList.remove("backdrop--open")},signOutHandler:async function(){await st.dispatch("logOut"),this.$toast.success("Signed out successfully",{duration:3e3}),this.closeMenuHandler(),this.$router.push("/")}}},Gs=t=>(Rt("data-v-1425cd12"),t=t(),Dt(),t),YO={id:"menu",class:"menu--list"},XO={key:0,class:"w-100 text-center"},ZO={class:"menu--row"},eR={class:"menu--item"},tR=Gs(()=>d("img",{src:qO,alt:"Home"},null,-1)),nR={class:"menu--item"},sR=Gs(()=>d("img",{src:GO,alt:"Sign up"},null,-1)),iR={class:"menu--row"},rR={class:"menu--item"},oR=Gs(()=>d("img",{src:KO,alt:"About"},null,-1)),aR={class:"menu--item"},lR=Gs(()=>d("img",{src:zO,alt:"Winner's Circle"},null,-1)),cR={class:"menu--row"},uR={key:0,class:"menu--item"},hR=Gs(()=>d("img",{src:WO,alt:"admin page"},null,-1)),dR={key:1,class:"menu--item"},fR=Gs(()=>d("img",{src:JO,alt:"sign-in page"},null,-1)),pR={key:2,class:"menu--item"},mR=Gs(()=>d("div",{id:"menu--bg",class:"ui--backdrop"},null,-1));function gR(t,e,n,s,i,r){const o=is("router-link");return T(),I(de,null,[d("div",{id:"open-menu",class:"menu--toggle",onClick:e[0]||(e[0]=(...a)=>r.openMenuHandler&&r.openMenuHandler(...a))}),d("div",YO,[this.$store.getters.checkAdmin?(T(),I("h3",XO," Hello, "+oe(this.$store.getters.getUserDisplayName),1)):H("",!0),d("div",ZO,[d("div",eR,[ee(o,{to:"/"},{default:Et(()=>[tR,hs(t.$slots,"navItemText",{},()=>[_e("Home")],!0)]),_:3})]),d("div",nR,[ee(o,{to:"/sign-up"},{default:Et(()=>[sR,hs(t.$slots,"navItemText",{},()=>[_e("Sign Up")],!0)]),_:3})])]),d("div",iR,[d("div",rR,[ee(o,{to:"/about"},{default:Et(()=>[oR,hs(t.$slots,"navItemText",{},()=>[_e("About")],!0)]),_:3})]),d("div",aR,[ee(o,{to:"/winners-circle"},{default:Et(()=>[lR,hs(t.$slots,"navItemText",{},()=>[_e("Winner's Circle")],!0)]),_:3})])]),d("div",cR,[this.$store.getters.checkAdmin?(T(),I("div",uR,[ee(o,{to:"/admin"},{default:Et(()=>[hR,hs(t.$slots,"navItemText",{},()=>[_e("Admin")],!0)]),_:3})])):H("",!0),this.$store.getters.getLoginState?H("",!0):(T(),I("div",dR,[ee(o,{to:"/sign-in"},{default:Et(()=>[fR,hs(t.$slots,"navItemText",{},()=>[_e("Sign In")],!0)]),_:3})])),this.$store.getters.getLoginState?(T(),I("div",pR,[d("button",{id:"menu-sign-out",class:"sign-out",onClick:e[1]||(e[1]=(...a)=>r.signOutHandler&&r.signOutHandler(...a))}," Sign Out ")])):H("",!0)]),d("span",{class:"delete",onClick:e[2]||(e[2]=(...a)=>r.closeMenuHandler&&r.closeMenuHandler(...a))})]),mR],64)}const Qv=We(QO,[["render",gR],["__scopeId","data-v-1425cd12"]]);const yR={class:"nav-container"},_R={__name:"mainNav",setup(t){return(e,n)=>(T(),I("div",yR,[ee(Qv)]))}},vR=We(_R,[["__scopeId","data-v-abf67b92"]]),wR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAAVCAYAAAB17tGhAAAABHNCSVQICAgIfAhkiAAACllJREFUaEOtmgvwp1MZx/evKAm5RVFtlOR+D5vGErEsuURLJWkUkhnXyGXccqtMbZRb04VNSSokKaEoRMu4M1rrXlKoEPr3+bxzzuv8zj7nt7/Z8cw88/7e9/2e59ye89ze39j4+PjSEyZMWDDxG7jKS8DLwdeOjY3dxrUn8K/jZnF4Sfit8Prw++E14S3A31riq7aLcr8qvA38AXh5eCH4GfhO+MfwFch4sJZBv4vw7AtpfOXrF7j5SpKxItet4A/BK8FvhJ+C/wifidzfBnJts09jzF/k+ctpzFOSXPGvhWfBP4RnIHe27RnjmxJ2KtdN4XfAr4f/Cl8Lfxu+Dvx4o7/uMXLenOQ4j43gd8Gu03/hh+A/wD+Hb0LW37OsMRrexI0b5ybJC8CvgcfgowEfW3YM/kTud4PdGBdrvuL9leC3qAdKG2XtACtrhdRPNJ//8fAJeG/k/Kzq142/B3YhS3qem93hvWAVyzHZX03/5sGRyD2tkrsH9y5yRI55f3jthlw35VF4W9gD8GVYJXINaxL7L/gQxvCtRn9u5Kd5dxjsnszfmIuyXoTvh/dA3o3KczOv4DrHBqTOLgS4c9kx+M9w3xrMY7xblTaeho7Ae9I9UYfAKsso9DdAmyDH05rlbM+PnwSNnZhcKlWrD0/Z8vkkpfGdnMYWtfEkRBtTY1VAT1OkRDX2bh5MZgyPly9YJ62cFmaXEeXk5p767ZF3vZt5AjeHN2Z/F6CVq04nc39VA++RX582D6SFciEusLPW6g55fgdyNMkdMc5TuBw8D3LqJtsi95IkUwv0A/gjr4LcUUV4Ot3MP1Xreh33mtR5IU/oJDdzR35cCEdapWYuTMde86Kux4/uWAdUb6YmSs2PTqRm7/ewGrlaIMtJr07ff/Ed49TnbDwvM63aTEOmCqZM/dDlr5LcUYfmWrqZ16cxqPBnwHuOKiDAKXOam+nmGBg4sYg0S92Cps5dUBc2Is3NGuCfQO47+a1JicyUz7cuTrBBVr2hz/FsIzAzkaUJfRbWZNekiTUI0rT/E14KNjhrmbwdkHlxmot+zkU1qIlIf6yCGqAtAy/WwOUxiP0H/BZY2RH9h4duZncgmJuB4KXwwg387Tx3s9eA9adak4jOcjONlK6Gl22A7Nj3HYH/BJfvNrB38Xx1YfDZsMFFTQY5G2fNTDKdmEpVkidzNXCz6NOgSVMSkQv9KdgxuqGbwW6WgVBE/XyQ65z1y0bK0Tg35+HNsH342/giIhXNCF2lfBo2cDIyj+hJHjoGN8n1PJ/LNDhSPqP6DcE+Bs5N1D0YrUd0o5upFnsye/9UIT+JsH7zwH+N959vCDwF7KFpkTy9RqA1XQpmKhij0rfDB8J7B5PRh7jpQMdNCy5r9KnVcMJaBRdnEpdfwq3NXAmsUbHY93ExzI8WcjY4U4uOkgVruZfavxtQtjbeeMLNnI1MrYipRuSGDNa0Xr0c8K676x/RQ66UO25A43GPaCA9AW8e6emr6SUerJAG6elwEJFJuJLnTshw382MokC1dx1lpYU8gKuRXkR/5qGbrg920T/MxfyvlR4YA2TssMW5BJwpR0fI1aed0xjDL8BuXWCHRfy3gHMzn0Gm+e3pDZn38XytPNY0Bs2sFi+ixzuNROg3uXy2AToXgQoRZ7T1OzhKAy4Dp6kRdyqXgxry5vbYkH0vZHUR5wjj+xWYLT3BCfs5rl+Ho9N2L7j3FHJn8FsTF9HxYI8ssPotLUhEZ4Ddt8AOS3e0GlOSxbmI35rkiPSj+nfzybwOh/LjpAb+/ryZw7TOSkPu8A5+94tRCDWa2oWOf+ozNtOgYsNGp8MeG2V+DDmamDwBTZCT7jW/EvBV8JrqjB+26FaBeqVlnJroiY0B7Qi2z2vB3gDOokREFgJUYOeuNToP/mgDm12RbsZTGkXyNjWX3ycraZKtZWhFvdfkzVwrCY7613dZmjIAcHKR+dKZa+qMJp3QI1xMOVrkKVIBdPBOyD6ugW8vB59kGZz8Bl63IWx32nwvv6NvsY43ojItsYJlwBRZmTritHxpSfDdDbkq8o/SeFW+X8OWOCPaDewMxqlPN9eMDoftTgQ3kP/TxgDTClNE0/NmqiVGj5EjNo1YB/bUWHOsSV+5TeWojeiiCNG2mmwX/JHShDQGmOuURpSWtyLSr8zML5iwAUWEVYGWA2v5Tbn6bOVGZCXLCtS9CesmXg23FHQDsJ7cnLuq3BMbslcBeyf9uz6WUltp0VHgjivmZd8ekojMEHbt/QrCFRxpv+Wio+DpsLXCklygi+nUwkNPyHLBzLUiOgD8QH20BtF+ATBdoYLfw/JV88tFwXoV6wmyFBidtifBGT12BNYypYFSRJ6AyeBzhKzL0Ne1FHSZAusYnH90MMydHe+L9G/O7Ml8b2MMJ4GzRpvHO8wVukeblZt5Jg8sVtek/5Ij82pU6JeSrppRdGyQ1DIzdmxJ0FJhDlqcuAut/9Cn+SWiW2gmbUQ5UHQvuroNnMl0nrBRtCYuopvB9sqKXBfqSw2s6cqm4C0aOIbtuOi3o+jcIsESxVyGlTtngtOlKdO113S3/LBz3gn8S2D98mJ20Mo4nPOUcjOHhdONOU84mhdGfR7znuj8GG48zS1yQ02w1WCrKqYo5rtuqErjQnafq5A1rHb8fXAWMToCazHfSDKii8DulHDO2wAjUl4hF4Dto1zkWhO2NhzR5WDNg/MYjuBHbx6rBueB/XiBHZaze4rNMnQFpjAbwJEy6ebWRe6t5WZapjPfrD8xNebQnQBP5Rzf5pi83zYtGrRKVC2Z+XmZ2NuPJy6ig+i/zz/p1yCkVTTvo15wugsj734TKuGHIbdPAcB/h/d+ZovIz2rHFxtkrXfLBraWa9VLqzbqmtditZiaYxXolVyMAft1xKjSD6yj0EDgUTbQ53FvSa21WHOTb2JvQOZp8xrVjVUilakzq6lPfVAr1N8P7DcS1o/xmrio+CFkK7D6yI6Q7ekwYIrIQMlIPGMt7UXVJ62Xn6pM9XpCtutkoWNeyMBvEjKNvgc202jJCb5tLlINTEzqW/XZPCkDF+1+a3Fb3TyI7Im+ZKKOpasCBWTEPBmsFSCxBlwqo/1GNBWsibhYLcYs2GClJpVkWbBGtGI9NaZckULpU42Qu6/9YI2ijaYjsr5rcUN/3BNtXB9LlXNb97KZptXsYn/k9d+OSzOrtqrZA98vg1ENJN6NgXePGagKYiHZGqhOvPUlQ7iaq1brB/dL7YcFE26ypyJ/InNRTHn6iLUam0X7XNw2HTDlisZTR72rgOvaBWTfys3lwU24n+OvKandQLpTymKdrItr9ifCra8iNtGsGq37b4/T6bcvrvhyYDIINSAwGBlG0xHSheyjEDJVEqNI/YgRrl9ADPHdPCPBWbD1Xn2Hi3Y38ruAirZGqi0f6KTOKRbScevXWv8M0LfkRVdhd22M/1FwVpE6Su6nhTXvOxu8J0WsZrs1Xud6VnYfdd+09b9YH4Sttlk29ROaVsHT72nX6niCb0DGw9HY/w/B8gh2E2+szgAAAABJRU5ErkJggg==",bR="/assets/IMG_EB839AD4BA01-1-6b48747f.jpeg";const ER={},ud=t=>(Rt("data-v-24fbbab8"),t=t(),Dt(),t),TR=ud(()=>d("img",{src:wR,alt:"Venmo Logo"},null,-1)),IR=ud(()=>d("p",{class:"mt-4 text-center"},"@Anthony-Lowell",-1)),CR=ud(()=>d("div",{class:"venmo mx-auto"},[d("img",{src:bR})],-1)),SR=[TR,IR,CR];function kR(t,e){return T(),I("div",null,SR)}const Yv=We(ER,[["render",kR],["__scopeId","data-v-24fbbab8"]]),AR={},NR=d("h5",null,"Check payable to:",-1),OR=d("ul",null,[d("li",null,"John Vitello"),d("li",null,"P.O Box 7009"),d("li",null,"Meriden, CT, 06450"),d("li",null,[d("a",{href:"mailto:pjatournament@gmail.com"},"pjatournament@gmail.com")])],-1);function RR(t,e){return T(),I(de,null,[NR,OR],64)}const Xv=We(AR,[["render",RR]]);const Ze=t=>(Rt("data-v-d3d26cbd"),t=t(),Dt(),t),DR={class:"top-content"},PR=Ze(()=>d("div",{class:"logo py-3"},[d("img",{src:HO,alt:"PJA logo"})],-1)),MR={class:"top-info row py-3"},xR={class:"col-md-6 col-12 info--item"},LR=Ze(()=>d("div",{class:"col-md-6 col-12 info--item"},[d("p",null,"100+ Players")],-1)),FR=Ze(()=>d("div",{class:"col-md-6 col-12 info--item"},[d("p",null,"Trophies Awarded")],-1)),$R=Ze(()=>d("div",{class:"col-md-6 col-12 info--item"},[d("p",null,"Charitable Donations")],-1)),UR=Ze(()=>d("p",{class:"pt-3 mb-0"}," The PJA Tournament is organized by the Vitello family, and growing annually thanks to participation of amazing family and friends. ",-1)),VR={class:"home"},BR={class:"container info-container"},jR={class:"card"},HR=Ze(()=>d("div",{class:"ball-icons"},[d("img",{src:cd})],-1)),qR=Ze(()=>d("h1",{class:"text-center"},"Come alone, or bring help!",-1)),GR={class:"button-container mb-4"},KR=Ze(()=>d("small",{class:"text-center d-block w-100"},"(max 4 players)",-1)),zR={class:"card sub--card entry--info"},WR={class:"row"},JR=Ze(()=>d("div",{class:"col-md-6 col-12"},[d("h1",null,"Entry Deadline:"),d("h2",null," September 30th, 2023 ")],-1)),QR={class:"col-md-6 col-12"},YR=Ze(()=>d("h2",null,"When & where?",-1)),XR=Ze(()=>d("p",null,"SHOTGUN START @ 9AM",-1)),ZR={class:"card pricing"},eD={class:"card sub--card"},tD={class:"row"},nD={class:"col-md-6 col-12"},sD=Ze(()=>d("h1",null,"Pricing",-1)),iD={class:"col-md-6 col-12"},rD=Ze(()=>d("h2",null,"What's included:",-1)),oD=Ze(()=>d("li",null,[_e(" All proceeds after operational expenses will be donated to The Vitello Family Fund, a charity within the "),d("a",{href:"https://www.valleyfoundation.org/",target:"_blank"},"Valley Community Foundation"),_e(". ")],-1)),aD=Ze(()=>d("h2",{class:"text-center"},"Payment Methods",-1)),lD={class:"row pricing--payment"},cD={class:"col-md-6 col-12"},uD={class:"col-md-6 col-12"},hD=Xr('<div class="card rules" data-v-d3d26cbd><div class="card sub--card" data-v-d3d26cbd><div class="row" data-v-d3d26cbd><div class="col-md-6 col-12" data-v-d3d26cbd><h2 data-v-d3d26cbd>Format</h2><ul data-v-d3d26cbd><li data-v-d3d26cbd>Teams of four.</li><li data-v-d3d26cbd>Scramble (best ball) format.</li><li data-v-d3d26cbd>Men&#39;s and Co-ed divisions available.</li><li data-v-d3d26cbd>Fun first!</li></ul></div><div class="col-md-6 col-12" data-v-d3d26cbd><h2 data-v-d3d26cbd>Questions?</h2><p data-v-d3d26cbd>Reach out to any of the tournament admins!</p><ul data-v-d3d26cbd><li data-v-d3d26cbd>John Vitello</li><li data-v-d3d26cbd>Al Vitello</li><li data-v-d3d26cbd>Paul Vitello</li><li data-v-d3d26cbd>Janice Vitello</li><li data-v-d3d26cbd>Matt Vitello</li><li data-v-d3d26cbd>Nicole Vitello</li><li data-v-d3d26cbd>Anthony Lowell</li></ul></div></div></div></div>',1),dD={class:"wrap-up"},fD={class:"wrap-up--text text-center"},pD=Ze(()=>d("h2",null,"Ready to have some fun?",-1)),mD=Ze(()=>d("h5",{class:"my-4"},"Sign up and get started",-1)),gD={class:"button-container my-4"},yD=Ze(()=>d("p",{class:"text-center d-block w-100"},"(max 4 players)",-1)),_D={data(){return{date:"October 7th, 2023",time:"10:00am",golfCourse:"East Mountain Golf Course",golfCourseAddress:"171 E Mountain Rd, Waterbury, CT 06706",charity:"Valley Community Foundation",addOns:["$10 Pro Shop credit","Coffee & at check-in","Golf Cart","Snacks and drinks","Trophies (1st, 2nd, 3rd place per division, plus longest drive and closest to pin for both front and back 9)"],pricing:{ticketPrice:"$95.00",trophies:["First Place","Second Place","Third Place","longest drive (front 9)","longest drive (back 9)","closest to pin (front 9)","closest to pin  (back 9)"]}}},computed:{outputDate(){return this.date},outputTime(){return this.time},outputGolfCourse(){return this.golfCourse},outputGolfCourseAddress(){return this.golfCourseAddress},outputPrice(){return this.pricing.ticketPrice},outputCharity(){return this.charity}}},vD=Object.assign(_D,{__name:"Home",setup(t){return(e,n)=>{const s=is("router-link");return T(),I(de,null,[ee(vR),d("header",DR,[PR,d("div",MR,[d("div",xR,[d("p",null,oe(e.outputDate),1)]),LR,FR,$R,UR,ee(s,{to:"/about"},{default:Et(()=>[_e("Learn More")]),_:1})])]),d("div",VR,[d("div",BR,[d("div",jR,[HR,qR,d("div",GR,[d("button",null,[ee(s,{to:"/sign-up"},{default:Et(()=>[_e("SIGN UP")]),_:1})]),KR]),d("div",zR,[d("div",WR,[JR,d("div",QR,[YR,d("p",null,oe(e.outputDate),1),XR,d("p",null,oe(e.outputGolfCourse)+",",1),d("p",null,oe(e.outputGolfCourseAddress),1)])])])]),d("div",ZR,[d("div",eD,[d("div",tD,[d("div",nD,[sD,d("h2",null,"Entry fee: "+oe(e.outputPrice)+" per player",1)]),d("div",iD,[rD,d("ul",null,[(T(!0),I(de,null,St(e.addOns,i=>(T(),I("li",null,oe(i),1))),256)),oD])])]),aD,d("div",lD,[d("div",cD,[ee(Xv)]),d("div",uD,[ee(Yv)])])])]),hD,d("div",dD,[d("div",fD,[pD,mD,d("div",gD,[d("button",null,[ee(s,{to:"/sign-up"},{default:Et(()=>[_e("SIGN UP")]),_:1})]),yD])])])])])],64)}}}),wD=We(vD,[["__scopeId","data-v-d3d26cbd"]]),bD="/assets/logo-secondary-979fcede.svg";const ED=t=>(Rt("data-v-fca71428"),t=t(),Dt(),t),TD={class:"nav-container"},ID=ED(()=>d("img",{src:bD,alt:"PJA Tournament logo"},null,-1)),CD={__name:"secondaryNav",setup(t){return(e,n)=>{const s=is("router-link");return T(),I("nav",TD,[ee(s,{to:"/"},{default:Et(()=>[ID]),_:1}),ee(Qv)])}}},Ks=We(CD,[["__scopeId","data-v-fca71428"]]);const zs=t=>(Rt("data-v-35bd46d3"),t=t(),Dt(),t),SD={class:"about"},kD=zs(()=>d("div",{class:"top-content"},[d("h1",null,[_e("A VITELLO FAMILY "),d("span",null,"TRADITION")])],-1)),AD={class:"container"},ND=zs(()=>d("h2",null,"34 Years and counting",-1)),OD={class:"mt-4"},RD=zs(()=>d("h3",null,"We are fun",-1)),DD=zs(()=>d("p",null,[_e(" The PJA Scramble Tournament is a fun golf competition held for a worthy cause. After all expenses are paid, the remaining proceeds are donated to the Alphonso and Eulalia Vitello Family Fund/Valley Community Foundation for the benefit of the residents of Derby and the Valley, especially disadvantaged youth. To learn more about the mission and impact of this charitable endeavor please visit the "),d("a",{href:"https://www.valleyfoundation.org/articles/alphonso-and-eulalia-vitello-family-fund",target:"_blank"},"website"),_e(". ")],-1)),PD=zs(()=>d("h3",null,"We are inclusive",-1)),MD=zs(()=>d("p",null," We encourage men and women to join the tournament. We offer both a Men's division and a Co-Ed division. All skill levels are welcome to join us. Our highest priority is camaraderie and fun! ",-1)),xD=zs(()=>d("h3",null,"We are family",-1)),LD=Xr('<div class="gallery" data-v-35bd46d3><h2 class="my-4 text-center" data-v-35bd46d3>A Look Through the Years</h2><div class="grid" data-v-35bd46d3><div class="grid-sizer" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width1 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width3 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width2 grid-item--height3" data-v-35bd46d3></div><div class="grid-item lazy-background grid-item--width1 grid-item--height3" data-v-35bd46d3></div></div></div>',1),FD={mounted(){const t=[].slice.call(document.querySelectorAll(".lazy-background"));if("IntersectionObserver"in window){let e=new IntersectionObserver(function(n,s){n.forEach(function(i){i.isIntersecting&&(setTimeout(()=>{i.target.classList.add("visible")},500),e.unobserve(i.target))})});t.forEach(function(n){e.observe(n)})}}},$D=Object.assign(FD,{__name:"About",setup(t){return(e,n)=>{const s=is("router-link");return T(),I(de,null,[ee(Ks),d("div",SD,[kD,d("div",AD,[ND,d("div",OD,[RD,DD,PD,MD,xD,d("p",null,[_e(" For 30+ years this tournament has grown to be a can't-miss for our family and friends. In 2022, we had a record number of golfers attend, with over 100 players joining and playing for both fun and philanthropy. We plan to continue to keep the tradition alive and well for years to come. If you are a long time participant, or are just seeing what we're about, we encourage you to "),ee(s,{to:"/sign-up"},{default:Et(()=>[_e("sign up")]),_:1}),_e(" and join us on the day of the tournament. ")])])]),LD])],64)}}}),UD=We($D,[["__scopeId","data-v-35bd46d3"]]);const VD={data(){return{sitekey:"6LcYsrwnAAAAACCnpsHRl2PN7xuS3oflmQarPjM5",widgetId:0}},methods:{execute(){window.grecaptcha.execute(this.widgetId)},reset(){window.grecaptcha.reset(this.widgetId)},render(){window.grecaptcha&&(this.widgetId=window.grecaptcha.render("g-recaptcha",{sitekey:this.sitekey,callback:t=>{this.$emit("verify",t)}}))}},mounted(){this.render()}},BD=["data-sitekey"];function jD(t,e,n,s,i,r){return T(),I("div",{id:"g-recaptcha",class:"g-recaptcha","data-sitekey":i.sitekey},null,8,BD)}const HD=We(VD,[["render",jD],["__scopeId","data-v-dbb60914"]]);const qD={components:{Recaptcha:HD},mounted(){},data(){return{errors:[],numOfPlayers:1,players:{player1__firstName:null,player1__lastName:null,player2__firstName:null,player2__lastName:null,player3__firstName:null,player3__lastName:null,player4__firstName:null,player4__lastName:null},playersAdded:!1,teamName:null,division:"mens",needsGrouping:!1,isRecaptchaVerified:!1}},watch:{player1__firstName(t){this.player1__firstName=t,this.checkPlayerName(t)},player1__lastName(t){this.player1__lastName=t,this.checkPlayerName(t)},player2__firstName(t){this.player2__firstName=t,this.checkPlayerName(t)},player2__lastName(t){this.player2__lastName=t,this.checkPlayerName(t)},player3__firstName(t){this.player3__firstName=t,this.checkPlayerName(t)},player3__lastName(t){this.player3__lastName=t,this.checkPlayerName(t)},player4__firstName(t){this.player4__firstName=t,this.checkPlayerName(t)},player4__lastName(t){this.player4__lastName=t,this.checkPlayerName(t)}},methods:{goBack(t){t&&t.preventDefault(),this.playersAdded=!1},verifyRecaptcha(t){t&&(this.isRecaptchaVerified=!0)},loadingScreenHandler(t){this.$emit("loading-screen")},checkPlayerName:function(t){return!(t===null||t.length==0||t.match(/\d+/g))},checkPlayerForm:function(t){t.preventDefault();for(let e=0;e<=this.numOfPlayers-1;e++){const n=this.checkPlayerName(this.players[`player${e+1}__firstName`]),s=this.checkPlayerName(this.players[`player${e+1}__lastName`]);!n||!s?(this.addError("Please enter a first and last name for each player."),this.$toast.error("Please enter a first and last name for each player",{duration:3e3})):this.errors=[]}if(this.numOfPlayers===1&&this.$toast.open({message:`If you are part of a team, we encourage you to sign up your entire team at once.
              If you have more players, go back and sign them up.`,type:"warning",duration:1e4}),!this.errors.length)return this.playersAdded=!0,console.log(this),!0},checkForm:function(t){this.numOfPlayers&&this.players.player1__firstName&&this.players.player1__lastName&&this.division&&(t.preventDefault(),this.removeErrors(),this.preProcessData()),this.division||this.$toast.error("Please select a division",{duration:3e3}),t.preventDefault()},addError:function(t){if(this.errors.length>0)for(const e of this.errors){if(e&&e===t)return;this.errors.push(t)}else this.errors.push(t)},removeErrors:function(t){this.errors=[]},preProcessData:function(){let t=Number(this.numOfPlayers);this.teamObj={};const e=[];switch(t){case 1:this.needsGrouping=!0,e.push({first_name:this.players.player1__firstName,last_name:this.players.player1__lastName});break;case 2:this.needsGrouping=!0,e.push({first_name:this.players.player1__firstName,last_name:this.players.player1__lastName}),e.push({first_name:this.players.player2__firstName,last_name:this.players.player2__lastName});break;case 3:this.needsGrouping=!0,e.push({first_name:this.players.player1__firstName,last_name:this.players.player1__lastName}),e.push({first_name:this.players.player2__firstName,last_name:this.players.player2__lastName}),e.push({first_name:this.players.player3__firstName,last_name:this.players.player3__lastName});break;case 4:this.needsGrouping=!1,e.push({first_name:this.players.player1__firstName,last_name:this.players.player1__lastName}),e.push({first_name:this.players.player2__firstName,last_name:this.players.player2__lastName}),e.push({first_name:this.players.player3__firstName,last_name:this.players.player3__lastName}),e.push({first_name:this.players.player4__firstName,last_name:this.players.player4__lastName});break}this.numOfPlayers=Number(this.numOfPlayers),e.forEach((n,s,i)=>{let r=n.first_name[0].toUpperCase()+n.first_name.substring(1),o=n.last_name[0].toUpperCase()+n.last_name.substring(1);n.first_name=r,n.last_name=o}),this.teamName||(this.teamName=`${e[0].first_name} ${e[0].last_name}'s Team`),this.teamObj.players=e,this.teamObj.numOfPlayers=this.numOfPlayers,this.teamObj.needsGrouping=this.needsGrouping,this.teamObj.teamName=this.teamName,this.teamObj.division=this.division,this.teamObj.paid=!1,this.formSubmitHandler()},formSubmitHandler:async function(){const t=this.teamObj;mu(`${t.division}-league`,t).then(e=>{e.value?(this.$toast.success("Team signed up successfully!",{duration:3e3}),st.commit("setTeam",this.teamObj),sessionStorage.setItem("team",JSON.stringify(this.teamObj)),this.$router.push({path:"/sign-up-success"})):e.error&&(this.$toast.error("There was a problem, please try again.",{duration:3e3}),console.error(e.error))})}}},_t=t=>(Rt("data-v-963ae0a1"),t=t(),Dt(),t),GD=_t(()=>d("h1",null,"Choose your squad",-1)),KD=_t(()=>d("p",{class:"ui--info"}," Please sign up your entire team in the same session. While single players are welcomed, we prefer the team captain signs up his/her entire team at once. ",-1)),zD={class:"form-inner"},WD={key:0,class:"error-list error"},JD=_t(()=>d("span",null,"Please correct the following error(s):",-1)),QD={key:1,id:"players",class:"form-inset players-form"},YD={key:0,class:"form-control card"},XD=_t(()=>d("h2",null,"Player 1",-1)),ZD=_t(()=>d("h5",{class:"text-uppercase font-weight-bold"},"Team Captain",-1)),eP={key:0,class:"button-container"},tP={key:1,class:"form-control card"},nP=_t(()=>d("h2",null,"Player 2",-1)),sP={key:0,class:"button-container"},iP={key:2,class:"form-control card"},rP=_t(()=>d("h2",null,"Player 3",-1)),oP={key:0,class:"button-container"},aP={key:3,class:"form-control card"},lP=_t(()=>d("h2",null,"Player 4",-1)),cP={key:0,class:"button-container"},uP={key:2,class:"form-control card summary-container"},hP={class:"team-summary"},dP=_t(()=>d("div",{class:"ball-icons"},[d("img",{src:cd})],-1)),fP=_t(()=>d("h2",null,"Your Squad",-1)),pP={class:"row mx-auto my-4 w-100"},mP={key:0,class:"col-md-6 col-12"},gP={key:0},yP={key:1},_P={key:1,class:"col-md-6 col-12"},vP={key:0},wP={key:1},bP={key:2,class:"col-md-6 col-12"},EP={key:0},TP={key:1},IP={key:3,class:"col-md-6 col-12"},CP={key:0},SP={key:1},kP={key:3,class:"form-control card"},AP=_t(()=>d("span",{class:"d-block w-100"},"Go Back",-1)),NP=[AP],OP=_t(()=>d("h2",{class:"mt-4"},"Choose Your league",-1)),RP=_t(()=>d("option",{value:"mens"},"Men's league",-1)),DP=_t(()=>d("option",{value:"coed"},"Co-ed league",-1)),PP=[RP,DP],MP=_t(()=>d("h2",{class:"mt-4"},"Team Name",-1)),xP=_t(()=>d("p",null," If you leave this blank, your team name will be Player 1’s full name. ",-1)),LP=["disabled"];function FP(t,e,n,s,i,r){const o=is("recaptcha");return T(),I("form",{onSubmit:e[21]||(e[21]=(...a)=>r.checkForm&&r.checkForm(...a)),class:"mt-4"},[GD,KD,d("div",zD,[i.errors.length?(T(),I("span",WD,[JD,d("ul",null,[(T(!0),I(de,null,St(i.errors,a=>(T(),I("li",null,oe(a),1))),256))])])):H("",!0),i.playersAdded?H("",!0):(T(),I("div",QD,[i.numOfPlayers>=1?(T(),I("div",YD,[XD,ZD,wt(d("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.players.player1__firstName=a),class:"input",type:"text",placeholder:"First Name"},null,512),[[bt,i.players.player1__firstName]]),wt(d("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.players.player1__lastName=a),class:"input",type:"text",placeholder:"Last Name"},null,512),[[bt,i.players.player1__lastName]]),i.numOfPlayers===1?(T(),I("div",eP,[d("button",{type:"button",onClick:e[2]||(e[2]=a=>i.numOfPlayers++)},"Add player"),d("button",{type:"submit",onClick:e[3]||(e[3]=(...a)=>r.checkPlayerForm&&r.checkPlayerForm(...a))},"Continue")])):H("",!0)])):H("",!0),i.numOfPlayers>=2?(T(),I("div",tP,[nP,wt(d("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>i.players.player2__firstName=a),class:"input",type:"text",placeholder:"First Name"},null,512),[[bt,i.players.player2__firstName]]),wt(d("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>i.players.player2__lastName=a),class:"input",type:"text",placeholder:"Last Name"},null,512),[[bt,i.players.player2__lastName]]),i.numOfPlayers===2?(T(),I("div",sP,[d("button",{type:"button",onClick:e[6]||(e[6]=a=>i.numOfPlayers++)},"Add player"),d("button",{type:"submit",onClick:e[7]||(e[7]=(...a)=>r.checkPlayerForm&&r.checkPlayerForm(...a))},"Continue")])):H("",!0),d("span",{class:"delete",onClick:e[8]||(e[8]=a=>i.numOfPlayers--)})])):H("",!0),i.numOfPlayers>=3?(T(),I("div",iP,[rP,wt(d("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>i.players.player3__firstName=a),class:"input",type:"text",placeholder:"First Name"},null,512),[[bt,i.players.player3__firstName]]),wt(d("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>i.players.player3__lastName=a),class:"input",type:"text",placeholder:"Last Name"},null,512),[[bt,i.players.player3__lastName]]),i.numOfPlayers===3?(T(),I("div",oP,[d("button",{type:"button",onClick:e[11]||(e[11]=a=>i.numOfPlayers++)},"Add player"),d("button",{type:"submit",onClick:e[12]||(e[12]=(...a)=>r.checkPlayerForm&&r.checkPlayerForm(...a))},"Continue")])):H("",!0),d("span",{class:"delete",onClick:e[13]||(e[13]=a=>i.numOfPlayers--)})])):H("",!0),i.numOfPlayers>=4?(T(),I("div",aP,[lP,wt(d("input",{"onUpdate:modelValue":e[14]||(e[14]=a=>i.players.player4__firstName=a),class:"input",type:"text",placeholder:"First Name"},null,512),[[bt,i.players.player4__firstName]]),wt(d("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>i.players.player4__lastName=a),class:"input",type:"text",placeholder:"Last Name"},null,512),[[bt,i.players.player4__lastName]]),i.numOfPlayers===4?(T(),I("div",cP,[d("button",{type:"submit",onClick:e[16]||(e[16]=(...a)=>r.checkPlayerForm&&r.checkPlayerForm(...a))},"Continue")])):H("",!0),d("span",{class:"delete",onClick:e[17]||(e[17]=a=>i.numOfPlayers--)})])):H("",!0)])),i.playersAdded?(T(),I("div",uP,[d("div",hP,[dP,fP,d("ol",pP,[i.numOfPlayers>=1?(T(),I("li",mP,[i.players.player1__firstName?(T(),I("span",gP,oe(i.players.player1__firstName),1)):H("",!0),_e("  "),i.players.player1__lastName?(T(),I("span",yP,oe(i.players.player1__lastName),1)):H("",!0)])):H("",!0),i.numOfPlayers>=2?(T(),I("li",_P,[i.players.player2__firstName?(T(),I("span",vP,oe(i.players.player2__firstName),1)):H("",!0),_e(" "),i.players.player2__lastName?(T(),I("span",wP,oe(i.players.player2__lastName),1)):H("",!0)])):H("",!0),i.numOfPlayers>=3?(T(),I("li",bP,[i.players.player3__firstName?(T(),I("span",EP,oe(i.players.player3__firstName),1)):H("",!0),_e(" "),i.players.player3__lastName?(T(),I("span",TP,oe(i.players.player3__lastName),1)):H("",!0)])):H("",!0),i.numOfPlayers===4?(T(),I("li",IP,[i.players.player4__firstName?(T(),I("span",CP,oe(i.players.player4__firstName),1)):H("",!0),_e(" "),i.players.player4__lastName?(T(),I("span",SP,oe(i.players.player4__lastName),1)):H("",!0)])):H("",!0)])])])):H("",!0),i.playersAdded?(T(),I("div",kP,[d("button",{role:"button",class:"back--btn mb-4",onClick:e[18]||(e[18]=(...a)=>r.goBack&&r.goBack(...a))},NP),OP,wt(d("select",{"onUpdate:modelValue":e[19]||(e[19]=a=>i.division=a),class:"input full-width"},PP,512),[[Sr,i.division]]),MP,xP,d("p",null," Ex: Team "+oe(i.players.player1__firstName)+" "+oe(i.players.player1__lastName),1),wt(d("input",{"onUpdate:modelValue":e[20]||(e[20]=a=>i.teamName=a),class:"input full-width",type:"text",placeholder:"Team Name (optional)"},null,512),[[bt,i.teamName]]),ee(o,{ref:"recaptcha",onVerify:r.verifyRecaptcha},null,8,["onVerify"]),d("button",{type:"submit",disabled:!i.isRecaptchaVerified},"Sign Up",8,LP)])):H("",!0)])],32)}const $P=We(qD,[["render",FP],["__scopeId","data-v-963ae0a1"]]);const UP={class:"sign-up"},VP={class:"container"},BP={data(){return{showLoader:!1,loadingHeader:"hello",loadingSubheader:"test test test"}},methods:{loadingScreen(){alert("ayyyy")}}},jP=Object.assign(BP,{__name:"SignUp",setup(t){return(e,n)=>(T(),I(de,null,[ee(Ks),d("div",UP,[d("div",VP,[ee($P)])])],64))}}),HP=We(jP,[["__scopeId","data-v-b2972026"]]);const qP={data(){return{team:st.getters.getTeam}}},GP=t=>(Rt("data-v-d9eb5faf"),t=t(),Dt(),t),KP={class:"card col-md-10 mx-auto pt-4"},zP=GP(()=>d("div",{class:"ball-icons"},[d("img",{src:cd})],-1)),WP={class:"team-info-container"},JP={class:"text-center w-100"},QP={class:"players col-md-7 p-0"},YP={class:"table row m-auto"},XP={class:"col-6 player-name"};function ZP(t,e,n,s,i,r){return T(),I("div",KP,[zP,d("div",WP,[d("div",JP,[d("h2",null,oe(this.team.teamName),1),d("p",null,[_e(" Division: "),d("span",null,oe(this.team.division),1)]),d("p",null,"Team ID: "+oe(i.team.id),1)]),d("div",QP,[d("div",YP,[(T(!0),I(de,null,St(i.team.players,o=>(T(),I("div",XP,[d("p",null,oe(o.first_name)+" "+oe(o.last_name),1)]))),256))])])])])}const eM=We(qP,[["render",ZP],["__scopeId","data-v-d9eb5faf"]]);const Fl=t=>(Rt("data-v-5ee5a2c3"),t=t(),Dt(),t),tM={class:"sign-up__success"},nM={class:"container info-container mt-4"},sM=Fl(()=>d("div",{class:"text-center pt-4"},[d("h1",{class:"pt-4"},"All Set!"),d("h4",null,"Review your details below")],-1)),iM={class:"payment--info row col-md-10 mx-auto p-4"},rM=Fl(()=>d("h2",{class:"text-center w-100 pt-4"},"Payment Methods",-1)),oM={class:"my-4 row mx-auto w-100"},aM={class:"col-md-12 text-center"},lM=Fl(()=>d("h3",null,"Ticket Price:",-1)),cM={class:"col-md-10 row my-4 mx-auto"},uM={class:"col-md-6"},hM={class:"col-md-6 venmo-container"},dM=Fl(()=>d("div",{class:"col-md-10 mx-auto my-4 px-4"},[d("p",null,[_e(" If you see an issue with your submission, please reach out to our tournament admins at "),d("a",{href:"mailto:pjatournament@gmail.com"},"pjatournament@gmail.com"),_e(". ")]),d("p",null," Please provide your team name, team id and division in your inquiry. ")],-1)),fM={data(){return{user:null,ticketPrice:"$95.00"}}},pM=Object.assign(fM,{__name:"SignUpSuccess",setup(t){return(e,n)=>(T(),I(de,null,[ee(Ks),d("div",tM,[d("div",nM,[sM,ee(eM),d("div",iM,[rM,d("div",oM,[d("div",aM,[lM,d("h5",null,oe(e.ticketPrice)+" per player",1)]),d("div",cM,[d("div",uM,[ee(Xv)]),d("div",hM,[ee(Yv)])])])]),dM])])],64))}}),mM=We(pM,[["__scopeId","data-v-5ee5a2c3"]]);const gM={props:["teamsSignedUp","adminChoices"],methods:{closeAdminTools(t){t.target.parentNode.classList.remove("show")},showAdminTools(t){t.target.parentNode.querySelector(".dropdown-content").classList.add("show")},async deleteTeamHandler(t){this.$emit("delete-team",this.teamGetter(t.target))},groupTeamHandler(t){this.$emit("group-team",this.teamGetter(t.target))},teamGetter(t){const e=t.getAttribute("data-tool-target"),n=t.getAttribute("data-league");for(const[s,i]of Object.entries(this.teamsSignedUp[n]))if(s===e)return i},editTeamHandler(t){this.$emit("edit-team",this.teamGetter(t.target))}}},et=t=>(Rt("data-v-b4a5f81a"),t=t(),Dt(),t),yM={key:0,class:"admin--card"},_M=Xr('<h2 class="mb-4" data-v-b4a5f81a>Mens League</h2><div class="row admin--row admin--legend" data-v-b4a5f81a><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Team</h5></div><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Division</h5></div><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Needs Grouping</h5></div></div>',2),vM={class:"row admin--row"},wM=["data-paid","data-needsGrouping"],bM={class:"admin--column"},EM={class:"admin--item"},TM={class:"d-flex justify-content-between"},IM={class:"team-name"},CM={key:0,class:"ui-info paid"},SM={key:1,class:"ui-info unpaid"},kM={class:"team"},AM={action:""},NM=et(()=>d("input",{type:"hidden",name:"player-names"},null,-1)),OM={class:"admin--column"},RM={class:"admin--item team-division"},DM={class:"admin--column"},PM={class:"admin--item team-needsGrouping"},MM={key:0},xM={key:1},LM={class:"admin--tools"},FM=et(()=>d("li",null,null,-1)),$M=et(()=>d("li",null,null,-1)),UM=et(()=>d("li",null,null,-1)),VM=[FM,$M,UM],BM={class:"dropdown-content"},jM=["data-tool-target","data-league"],HM=["data-tool-target","data-league"],qM={key:0},GM=["data-tool-target","data-league"],KM={class:"row admin--row"},zM={class:"list--container"},WM=["data-paid","data-needsGrouping"],JM={class:"admin--column"},QM={class:"admin--item"},YM={class:"d-flex justify-content-between"},XM={class:"team-name"},ZM={key:0,class:"ui-info paid"},ex={key:1,class:"ui-info unpaid"},tx={class:"team"},nx={action:""},sx=et(()=>d("input",{type:"hidden",name:"player-names"},null,-1)),ix={class:"admin--column"},rx={class:"admin--item team-division"},ox={class:"admin--column"},ax={class:"admin--item team-needsGrouping"},lx={key:0},cx={key:1},ux={class:"admin--tools"},hx=et(()=>d("li",null,null,-1)),dx=et(()=>d("li",null,null,-1)),fx=et(()=>d("li",null,null,-1)),px=[hx,dx,fx],mx={class:"dropdown-content"},gx=["data-tool-target","data-league"],yx=["data-tool-target","data-league"],_x={key:0},vx=["data-tool-target","data-league"],wx={key:2,class:"no--data"},bx=et(()=>d("p",null,"No results matching your request",-1)),Ex=[bx],Tx={key:1,class:"admin--card"},Ix=Xr('<h2 class="mb-4" data-v-b4a5f81a>Coed League</h2><div class="row admin--row admin--legend" data-v-b4a5f81a><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Team</h5></div><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Division</h5></div><div class="admin--column" data-v-b4a5f81a><h5 data-v-b4a5f81a>Needs Grouping</h5></div></div>',2),Cx={class:"row admin--row"},Sx={class:"list--container"},kx=["data-paid","data-needsGrouping"],Ax={class:"admin--column"},Nx={class:"admin--item"},Ox={class:"d-flex justify-content-between"},Rx={class:"team-name"},Dx={key:0,class:"ui-info paid"},Px={key:1,class:"ui-info unpaid"},Mx={class:"team"},xx={action:""},Lx=et(()=>d("input",{type:"hidden",name:"player-names"},null,-1)),Fx={class:"admin--column"},$x={class:"admin--item team-division"},Ux={class:"admin--column"},Vx={class:"admin--item team-needsGrouping"},Bx={key:0},jx={key:1},Hx={class:"admin--tools"},qx=et(()=>d("li",null,null,-1)),Gx=et(()=>d("li",null,null,-1)),Kx=et(()=>d("li",null,null,-1)),zx=[qx,Gx,Kx],Wx={class:"dropdown-content"},Jx=["data-tool-target","data-league"],Qx=["data-tool-target","data-league"],Yx={key:0},Xx=["data-tool-target","data-league"],Zx={class:"row admin--row"},eL={class:"list--container"},tL=["data-paid","data-needsGrouping"],nL={class:"admin--column"},sL={class:"admin--item"},iL={class:"d-flex justify-content-between"},rL={class:"team-name"},oL={key:0,class:"ui-info paid"},aL={key:1,class:"ui-info unpaid"},lL={class:"team"},cL={action:""},uL=et(()=>d("input",{type:"hidden",name:"player-names"},null,-1)),hL={class:"admin--column"},dL={class:"admin--item team-division"},fL={class:"admin--column"},pL={class:"admin--item team-needsGrouping"},mL={key:0},gL={key:1},yL={class:"admin--tools"},_L=et(()=>d("li",null,null,-1)),vL=et(()=>d("li",null,null,-1)),wL=et(()=>d("li",null,null,-1)),bL=[_L,vL,wL],EL={class:"dropdown-content"},TL=["data-tool-target","data-league"],IL=["data-tool-target","data-league"],CL={key:0},SL=["data-tool-target","data-league"],kL={key:2,class:"no--data"},AL=et(()=>d("p",null,"No results matching your request",-1)),NL=[AL];function OL(t,e,n,s,i,r){return T(),I(de,null,[this.adminChoices.renderMensList?(T(),I("div",yM,[_M,this.adminChoices.isFiltering?H("",!0):(T(!0),I(de,{key:0},St(n.teamsSignedUp.mens,o=>(T(),I("div",vM,[d("div",{class:"row admin--row data","data-paid":o.paid,"data-needsGrouping":o.needsGrouping},[d("div",bM,[d("div",EM,[d("div",TM,[d("h6",IM,oe(o.teamName),1),o.paid?(T(),I("span",CM,"PAID")):H("",!0),o.paid?H("",!0):(T(),I("span",SM,"UNPAID"))]),d("div",kM,[d("form",AM,[NM,(T(!0),I(de,null,St(o.players,a=>(T(),I("span",null,oe(a.first_name)+" "+oe(a.last_name),1))),256))])])])]),d("div",OM,[d("div",RM,[d("span",null,oe(o.division),1)])]),d("div",DM,[d("div",PM,[o.needsGrouping?(T(),I("span",MM,"yes")):H("",!0),o.needsGrouping?H("",!0):(T(),I("span",xM,"no"))])]),d("div",LM,[d("ul",{class:"dropbtn icons btn-right showLeft",onClick:e[0]||(e[0]=(...a)=>r.showAdminTools&&r.showAdminTools(...a))},VM),d("div",BM,[d("button",{class:"close-tools",onClick:e[1]||(e[1]=(...a)=>r.closeAdminTools&&r.closeAdminTools(...a))}," × "),d("ul",null,[d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[2]||(e[2]=(...a)=>this.editTeamHandler&&this.editTeamHandler(...a))}," Edit Team ",8,jM)]),d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[3]||(e[3]=(...a)=>r.deleteTeamHandler&&r.deleteTeamHandler(...a))}," Delete Team ",8,HM)]),o.needsGrouping?(T(),I("li",qM,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[4]||(e[4]=(...a)=>r.groupTeamHandler&&r.groupTeamHandler(...a))}," Group Team ",8,GM)])):H("",!0)])])])],8,wM)]))),256)),this.adminChoices.isFiltering?(T(!0),I(de,{key:1},St(this.adminChoices.filteredTeams.mens,o=>(T(),I("div",KM,[d("div",zM,[d("div",{class:"row admin--row data","data-paid":o.paid,"data-needsGrouping":o.needsGrouping},[d("div",JM,[d("div",QM,[d("div",YM,[d("h6",XM,oe(o.teamName),1),o.paid?(T(),I("span",ZM,"PAID")):H("",!0),o.paid?H("",!0):(T(),I("span",ex,"UNPAID"))]),d("div",tx,[d("form",nx,[sx,(T(!0),I(de,null,St(o.players,a=>(T(),I("span",null,oe(a.first_name)+" "+oe(a.last_name),1))),256))])])])]),d("div",ix,[d("div",rx,[d("span",null,oe(o.division),1)])]),d("div",ox,[d("div",ax,[o.needsGrouping?(T(),I("span",lx,"yes")):H("",!0),o.needsGrouping?H("",!0):(T(),I("span",cx,"no"))])]),d("div",ux,[d("ul",{class:"dropbtn icons btn-right showLeft",onClick:e[5]||(e[5]=(...a)=>r.showAdminTools&&r.showAdminTools(...a))},px),d("div",mx,[d("button",{class:"close-tools",onClick:e[6]||(e[6]=(...a)=>r.closeAdminTools&&r.closeAdminTools(...a))}," × "),d("ul",null,[d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[7]||(e[7]=(...a)=>this.editTeamHandler&&this.editTeamHandler(...a))}," Edit Team ",8,gx)]),d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[8]||(e[8]=(...a)=>r.deleteTeamHandler&&r.deleteTeamHandler(...a))}," Delete Team ",8,yx)]),o.needsGrouping?(T(),I("li",_x,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[9]||(e[9]=(...a)=>r.groupTeamHandler&&r.groupTeamHandler(...a))}," Group Team ",8,vx)])):H("",!0)])])])],8,WM)])]))),256)):H("",!0),this.adminChoices.isFiltering&&Object.keys(this.adminChoices.filteredTeams.mens).length===0?(T(),I("div",wx,Ex)):H("",!0)])):H("",!0),this.adminChoices.renderCoedList?(T(),I("div",Tx,[Ix,this.adminChoices.isFiltering?H("",!0):(T(!0),I(de,{key:0},St(n.teamsSignedUp.coed,o=>(T(),I("div",Cx,[d("div",Sx,[d("div",{class:"row admin--row data","data-paid":o.paid,"data-needsGrouping":o.needsGrouping},[d("div",Ax,[d("div",Nx,[d("div",Ox,[d("h6",Rx,oe(o.teamName),1),o.paid?(T(),I("span",Dx,"PAID")):H("",!0),o.paid?H("",!0):(T(),I("span",Px,"UNPAID"))]),d("div",Mx,[d("form",xx,[Lx,(T(!0),I(de,null,St(o.players,a=>(T(),I("span",null,oe(a.first_name)+" "+oe(a.last_name),1))),256))])])])]),d("div",Fx,[d("div",$x,[d("span",null,oe(o.division),1)])]),d("div",Ux,[d("div",Vx,[o.needsGrouping?(T(),I("span",Bx,"yes")):H("",!0),o.needsGrouping?H("",!0):(T(),I("span",jx,"no"))])]),d("div",Hx,[d("ul",{class:"dropbtn icons btn-right showLeft",onClick:e[10]||(e[10]=(...a)=>r.showAdminTools&&r.showAdminTools(...a))},zx),d("div",Wx,[d("button",{class:"close-tools",onClick:e[11]||(e[11]=(...a)=>r.closeAdminTools&&r.closeAdminTools(...a))}," × "),d("ul",null,[d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[12]||(e[12]=(...a)=>this.editTeamHandler&&this.editTeamHandler(...a))}," Edit Team ",8,Jx)]),d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[13]||(e[13]=(...a)=>r.deleteTeamHandler&&r.deleteTeamHandler(...a))}," Delete Team ",8,Qx)]),o.needsGrouping?(T(),I("li",Yx,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[14]||(e[14]=(...a)=>r.groupTeamHandler&&r.groupTeamHandler(...a))}," Group Team ",8,Xx)])):H("",!0)])])])],8,kx)])]))),256)),this.adminChoices.isFiltering?(T(!0),I(de,{key:1},St(this.adminChoices.filteredTeams.coed,o=>(T(),I("div",Zx,[d("div",eL,[d("div",{class:"row admin--row data","data-paid":o.paid,"data-needsGrouping":o.needsGrouping},[d("div",nL,[d("div",sL,[d("div",iL,[d("h6",rL,oe(o.teamName),1),o.paid?(T(),I("span",oL,"PAID")):H("",!0),o.paid?H("",!0):(T(),I("span",aL,"UNPAID"))]),d("div",lL,[d("form",cL,[uL,(T(!0),I(de,null,St(o.players,a=>(T(),I("span",null,oe(a.first_name)+" "+oe(a.last_name),1))),256))])])])]),d("div",hL,[d("div",dL,[d("span",null,oe(o.division),1)])]),d("div",fL,[d("div",pL,[o.needsGrouping?(T(),I("span",mL,"yes")):H("",!0),o.needsGrouping?H("",!0):(T(),I("span",gL,"no"))])]),d("div",yL,[d("ul",{class:"dropbtn icons btn-right showLeft",onClick:e[15]||(e[15]=(...a)=>r.showAdminTools&&r.showAdminTools(...a))},bL),d("div",EL,[d("button",{class:"close-tools",onClick:e[16]||(e[16]=(...a)=>r.closeAdminTools&&r.closeAdminTools(...a))}," × "),d("ul",null,[d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[17]||(e[17]=(...a)=>this.editTeamHandler&&this.editTeamHandler(...a))}," Edit Team ",8,TL)]),d("li",null,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[18]||(e[18]=(...a)=>r.deleteTeamHandler&&r.deleteTeamHandler(...a))}," Delete Team ",8,IL)]),o.needsGrouping?(T(),I("li",CL,[d("button",{"data-tool-target":o.id,"data-league":o.division,onClick:e[19]||(e[19]=(...a)=>r.groupTeamHandler&&r.groupTeamHandler(...a))}," Group Team ",8,SL)])):H("",!0)])])])],8,tL)])]))),256)):H("",!0),this.adminChoices.isFiltering&&Object.keys(this.adminChoices.filteredTeams.coed).length===0?(T(),I("div",kL,NL)):H("",!0)])):H("",!0)],64)}const RL=We(gM,[["render",OL],["__scopeId","data-v-b4a5f81a"]]);const DL={props:["teamInfo"],methods:{submitTeamChangesHandler(t){t.preventDefault(),this.$emit("submit-changes"),this.closeEditModal()},closeEditModal(t){this.$emit("close-modal")}}},qi=t=>(Rt("data-v-3be6df2b"),t=t(),Dt(),t),PL={open:"",class:"admin--card edit-team-dialog"},ML={id:"editTeam-form"},xL=qi(()=>d("legend",null,"Team Name",-1)),LL=["value"],FL=qi(()=>d("legend",null,"Division",-1)),$L=["value"],UL=qi(()=>d("option",{value:"mens"},"Men's Division",-1)),VL=qi(()=>d("option",{value:"coed"},"Co-ed Division",-1)),BL=[UL,VL],jL={class:"row"},HL=qi(()=>d("legend",null,"Players",-1)),qL=["value"],GL=["value"],KL=["value"],zL=["value"],WL=["value"],JL=["value"],QL=["value"],YL=["value"],XL={class:"row w-100 m-auto"},ZL={class:"col-6"},eF={key:0,class:"ui-info paid"},tF={key:1,class:"ui-info unpaid"},nF={class:"col-6"},sF=qi(()=>d("div",{id:"dialog--bg",class:"ui--backdrop backdrop--open"},null,-1));function iF(t,e,n,s,i,r){return T(),I(de,null,[d("dialog",PL,[d("button",{class:"close-tools",onClick:e[0]||(e[0]=(...o)=>r.closeEditModal&&r.closeEditModal(...o))},"×"),d("form",ML,[d("small",null,"ID: "+oe(this.teamInfo.id),1),d("fieldset",null,[xL,d("input",{class:"input full-width",type:"text",id:"team-name",value:this.teamInfo.teamName,onInput:e[1]||(e[1]=o=>this.teamInfo.teamName=o.target.value)},null,40,LL)]),d("fieldset",null,[FL,d("select",{value:this.teamInfo.division,onInput:e[2]||(e[2]=o=>this.teamInfo.division=o.target.value),class:"input full-width"},BL,40,$L)]),d("fieldset",jL,[HL,this.teamInfo.players[0]?(T(),I("input",{key:0,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[0].first_name,onInput:e[3]||(e[3]=o=>this.teamInfo.players[0].first_name=o.target.value)},null,40,qL)):H("",!0),this.teamInfo.players[0]?(T(),I("input",{key:1,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[0].last_name,onInput:e[4]||(e[4]=o=>this.teamInfo.players[0].last_name=o.target.value)},null,40,GL)):H("",!0),this.teamInfo.players[1]?(T(),I("input",{key:2,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[1].first_name,onInput:e[5]||(e[5]=o=>this.teamInfo.players[1].first_name=o.target.value)},null,40,KL)):H("",!0),this.teamInfo.players[1]?(T(),I("input",{key:3,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[1].last_name,onInput:e[6]||(e[6]=o=>this.teamInfo.players[1].last_name=o.target.value)},null,40,zL)):H("",!0),this.teamInfo.players[2]?(T(),I("input",{key:4,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[2].first_name,onInput:e[7]||(e[7]=o=>this.teamInfo.players[2].first_name=o.target.value)},null,40,WL)):H("",!0),this.teamInfo.players[2]?(T(),I("input",{key:5,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[2].last_name,onInput:e[8]||(e[8]=o=>this.teamInfo.players[2].last_name=o.target.value)},null,40,JL)):H("",!0),this.teamInfo.players[3]?(T(),I("input",{key:6,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[3].first_name,onInput:e[9]||(e[9]=o=>this.teamInfo.players[3].first_name=o.target.value)},null,40,QL)):H("",!0),this.teamInfo.players[3]?(T(),I("input",{key:7,class:"input col-6",type:"text",id:"player1-first-name",value:this.teamInfo.players[3].last_name,onInput:e[10]||(e[10]=o=>this.teamInfo.players[3].last_name=o.target.value)},null,40,YL)):H("",!0)]),d("div",XL,[d("div",ZL,[d("p",null,[_e(" Current payment status: "),this.teamInfo.paid?(T(),I("span",eF,"PAID")):H("",!0),this.teamInfo.paid?H("",!0):(T(),I("span",tF,"UNPAID"))])]),d("div",nF,[this.teamInfo.paid?H("",!0):(T(),I("button",{key:0,class:"payment-button",onClick:e[11]||(e[11]=o=>this.teamInfo.paid=!0)}," Mark Team Paid ")),this.teamInfo.paid?(T(),I("button",{key:1,class:"payment-button",onClick:e[12]||(e[12]=o=>this.teamInfo.paid=!1)}," Mark Team Unpaid ")):H("",!0)])]),d("button",{role:"button",id:"editTeam-submit",onClick:e[13]||(e[13]=(...o)=>r.submitTeamChangesHandler&&r.submitTeamChangesHandler(...o))}," SUBMIT CHANGES ")])]),sF],64)}const Zv=We(DL,[["render",iF],["__scopeId","data-v-3be6df2b"]]);const rF={props:["teamsSignedUp","teamInfo"],data(){return{errors:[],availableTeams:null,groupingInfo:{}}},beforeMount(){const t=this.teamsSignedUp[this.teamInfo.division];this.availableTeams=[],Object.keys(t).forEach(e=>{t[e].numOfPlayers+this.teamInfo.numOfPlayers<=4&&t[e].id!==this.teamInfo.id&&this.availableTeams.push(t[e])})},methods:{checkForm(t){t.preventDefault(),this.groupingInfo.hasOwnProperty("teamToMerge")?this.submitGroupTeamChangesHandler():this.errors.push("Please choose a team to group with.")},submitGroupTeamChangesHandler(){this.$emit("submit-group-changes",this.groupingInfo.teamToMerge),this.closeGroupModal()},closeGroupModal(t){this.$emit("close-group-modal")}}},$l=t=>(Rt("data-v-3803bb18"),t=t(),Dt(),t),oF={open:"",class:"admin--card edit-team-dialog"},aF=$l(()=>d("h4",{class:"text-center my-4"},"Available Teams for Grouping with:",-1)),lF={class:"text-center"},cF=$l(()=>d("br",null,null,-1)),uF={class:"team-container admin--row row mx-auto mt-4"},hF=["id","onInput"],dF=["for"],fF={class:"col-12"},pF={class:"select--team-name"},mF={class:"col-12"},gF={class:"ui-info player-num"},yF={class:"col-12"},_F={class:"select--id"},vF={key:0,class:"no--data"},wF=$l(()=>d("p",null," No teams available for grouping. Please try again when more teams have signed up. ",-1)),bF=[wF],EF=["disabled"],TF=$l(()=>d("div",{id:"dialog--bg",class:"ui--backdrop backdrop--open"},null,-1));function IF(t,e,n,s,i,r){return T(),I(de,null,[d("dialog",oF,[d("button",{class:"close-tools",onClick:e[0]||(e[0]=(...o)=>r.closeGroupModal&&r.closeGroupModal(...o))},"×"),d("form",{id:"groupTeam-form",onSubmit:e[2]||(e[2]=(...o)=>r.checkForm&&r.checkForm(...o))},[d("small",null,"ID: "+oe(this.teamInfo.id),1),d("fieldset",null,[aF,d("h5",lF,[_e(oe(this.teamInfo.teamName),1),cF,_e(" players: "+oe(this.teamInfo.numOfPlayers),1)]),(T(!0),I(de,null,St(this.availableTeams,o=>(T(),I("div",uF,[d("input",{class:"col-2",type:"radio",id:o.id,name:"group-teams",onInput:a=>this.groupingInfo.teamToMerge=o},null,40,hF),d("label",{for:o.id,class:"row m-auto col-10"},[d("div",fF,[d("h6",pF,oe(o.teamName),1)]),d("div",mF,[d("span",gF,"players: "+oe(o.numOfPlayers),1)]),d("div",yF,[d("small",_F,"id:"+oe(o.id),1)])],8,dF)]))),256)),Object.keys(this.availableTeams).length===0?(T(),I("div",vF,bF)):H("",!0)]),d("button",{role:"button",id:"groupTeam-submit",onClick:e[1]||(e[1]=(...o)=>r.submitGroupTeamChangesHandler&&r.submitGroupTeamChangesHandler(...o)),disabled:Object.keys(this.availableTeams).length===0}," GROUP TEAMS ",8,EF)],32)]),TF],64)}const ew=We(rF,[["render",IF],["__scopeId","data-v-3803bb18"]]);const CF={props:["adminChoices"],data(){return{leagueFilter:null,attributeFilter:null}},methods:{filterByLeague(t){this.$emit("filter-league",t.target.value)},filterByAttributeHandler(t){this.$emit("filter-attribute",t.target.value)},clearFiltersHandler(t){t.preventDefault(),this.leagueFilter=null,this.attributeFilter=null,this.$emit("clear-filters")}}},Nn=t=>(Rt("data-v-de512c4a"),t=t(),Dt(),t),SF={class:"admin--card"},kF={id:"admin-filters"},AF=Nn(()=>d("legend",null,"Filters",-1)),NF=Nn(()=>d("label",null,"Filter by league",-1)),OF=Nn(()=>d("option",{value:"mens"},"Men's",-1)),RF=Nn(()=>d("option",{value:"coed"},"Co-Ed",-1)),DF=Nn(()=>d("option",{value:"both"},"Both",-1)),PF=[OF,RF,DF],MF=Nn(()=>d("label",null,"Filter by attribute",-1)),xF=Nn(()=>d("option",{value:"paid"},"Paid",-1)),LF=Nn(()=>d("option",{value:"unpaid"},"Unpaid",-1)),FF=Nn(()=>d("option",{value:"needsGrouping"},"Needs Grouping",-1)),$F=[xF,LF,FF];function UF(t,e,n,s,i,r){return T(),I("div",SF,[d("form",kF,[d("fieldset",null,[AF,NF,wt(d("select",{id:"league-filter",class:"w-100",onChange:e[0]||(e[0]=o=>{r.filterByLeague(o)}),"onUpdate:modelValue":e[1]||(e[1]=o=>this.leagueFilter=o)},PF,544),[[Sr,this.leagueFilter]]),MF,wt(d("select",{id:"attribute-filter",class:"w-100",onChange:e[2]||(e[2]=o=>{r.filterByAttributeHandler(o)}),"onUpdate:modelValue":e[3]||(e[3]=o=>this.attributeFilter=o)},$F,544),[[Sr,this.attributeFilter]]),this.adminChoices.isFiltering?(T(),I("button",{key:0,role:"button",onClick:e[4]||(e[4]=(...o)=>r.clearFiltersHandler&&r.clearFiltersHandler(...o))}," Clear Filters ")):H("",!0)])])])}const VF=We(CF,[["render",UF],["__scopeId","data-v-de512c4a"]]);const BF={key:0,class:"container row m-auto"},jF={class:"col-md-7 col-12"},HF={class:"col-md-5 col-12 admin--panel"},qF={components:{editTeamModal:Zv,groupTeamModal:ew},data(){return{isEditing:!1,isGrouping:!1,adminChoices:{league:null,renderCoedList:!0,renderMensList:!0,renderPaid:!0,renderUnpaid:!0,renderNeedsGrouping:!0,filteredTeams:{mens:[],coed:[]},isFiltering:!1},teamsSignedUp:{},teamInfo:{teamName:null,id:null,players:[],division:null,needsGrouping:null,numOfPlayers:null}}},methods:{getTeamsListHandler:async function(){this.teamsSignedUp.mens={},this.teamsSignedUp.coed={},await Lp("mens-league").then(t=>{t.data&&!t.error?t.data.forEach(function(e){this.createTeamsData(e,"mens")},this):(console.log(t.error),console.log("admin list error"))}).catch(t=>{}),await Lp("coed-league").then(t=>{t.data&&!t.error?t.data.forEach(function(e){this.createTeamsData(e,"coed")},this):(console.log(t.error),console.log("admin list error"))}).catch(t=>{}),this.adminChoices.division||(this.adminChoices.renderMensList=!0,this.adminChoices.renderCoedList=!0),console.log(this.teamsSignedUp)},createTeamsData(t,e){Object.values(t).forEach(function(n){this.teamsSignedUp[e][n.id]=n},this)},createFilteredTeamsData(t,e){this.adminChoices.filteredTeams[e][t.id]={};for(const[n,s]of Object.entries(t))this.adminChoices.filteredTeams[e][t.id][n]=s},clearFilters(){this.adminChoices.isFiltering=!1,this.adminChoices.filteredTeams.mens={},this.adminChoices.filteredTeams.coed={},this.getTeamsListHandler()},closeEditModal(){this.isEditing=!1},closeGroupModal(){this.isGrouping=!1},async deleteTeam(t){if(prompt(`Are you sure you want to delete ${t.teamName}?
        Type YES (all caps) below to delete.`)==="YES")await Fp(`${t.division}-league`,t.id).then(async n=>{n.value?(this.$toast.success("Team deleted",{duration:3e3}),this.teamsSignedUp={},await this.getTeamsListHandler()):(this.$toast.error("There was a problem, please try again.",{duration:3e3}),console.error(n.error))});else return},editTeam(t){this.teamInfo.players=t.players,this.teamInfo.teamName=t.teamName,this.teamInfo.id=t.id,this.teamInfo.division=t.division,this.teamInfo.paid=t.paid,document.body.scrollTop=document.documentElement.scrollTop=0,this.isEditing=!0},groupTeam(t){this.teamInfo.players=t.players,this.teamInfo.teamName=t.teamName,this.teamInfo.id=t.id,this.teamInfo.division=t.division,this.teamInfo.needsGrouping=t.needsGrouping,this.teamInfo.numOfPlayers=t.numOfPlayers,document.body.scrollTop=document.documentElement.scrollTop=0,this.isGrouping=!0},async submitTeamChanges(){await mu(`${this.teamInfo.division}-league`,this.teamInfo).then(async t=>{t.value?(this.$toast.success("Team updated",{duration:3e3}),this.teamsSignedUp={},await this.getTeamsListHandler()):t.error&&(this.$toast.error("There was a problem, please try again.",{duration:3e3}),console.error(t.error))})},async submitGroupChanges(t){var n,s,i,r,o,a,l,c;if(t.players.forEach(function(u){this.teamInfo.players.push(u)},this),this.teamInfo.players.length===4&&(this.teamInfo.needsGrouping=!1),this.teamInfo.numOfPlayers=this.teamInfo.players.length,prompt(`Are you sure you want to group these teams?
        Team after grouping will be:
          ${this.teamInfo.teamName}
              ${((n=this.teamInfo.players[0])==null?void 0:n.first_name)||""} ${((s=this.teamInfo.players[0])==null?void 0:s.last_name)||""}
              ${((i=this.teamInfo.players[1])==null?void 0:i.first_name)||""} ${((r=this.teamInfo.players[1])==null?void 0:r.last_name)||""}
              ${((o=this.teamInfo.players[2])==null?void 0:o.first_name)||""} ${((a=this.teamInfo.players[2])==null?void 0:a.last_name)||""}
              ${((l=this.teamInfo.players[3])==null?void 0:l.first_name)||""} ${((c=this.teamInfo.players[3])==null?void 0:c.last_name)||""}
        Type YES (all caps) below to confirm group.`)==="YES")await mu(`${this.teamInfo.division}-league`,this.teamInfo).then(async u=>{await Fp(`${t.division}-league`,t.id).then(async()=>{this.$toast.success("Teams grouped sucessfully"),this.teamsSignedUp={},await this.getTeamsListHandler()})});else{this.$toast.warning("You must confirm you want to group teams together. Please try again.");return}},filterLeague(t){t==="mens"?(this.adminChoices.renderMensList=!0,this.adminChoices.renderCoedList=!1):t==="coed"?(this.adminChoices.renderMensList=!1,this.adminChoices.renderCoedList=!0):(this.adminChoices.renderMensList=!0,this.adminChoices.renderCoedList=!0)},filterAttribute(t){this.adminChoices.isFiltering=!0;let e=[];switch(this.adminChoices.renderCoedList&&this.adminChoices.renderMensList?e=["mens","coed"]:this.adminChoices.renderCoedList?e=["coed"]:e=["mens"],this.adminChoices.filteredTeams.mens={},this.adminChoices.filteredTeams.coed={},t){case"paid":e.forEach(n=>Object.values(this.teamsSignedUp[n]).forEach(s=>{s.paid&&this.createFilteredTeamsData(s,n)}));break;case"unpaid":e.forEach(n=>Object.values(this.teamsSignedUp[n]).forEach(s=>{s.paid||this.createFilteredTeamsData(s,n)}));break;case"needsGrouping":e.forEach(n=>Object.values(this.teamsSignedUp[n]).forEach(s=>{s.needsGrouping&&this.createFilteredTeamsData(s,n)}));break;default:return}console.log(this.adminChoices.filteredTeams)},concatPlayerNames(t){t.forEach((e,n,s)=>{let i="",r=n+1;i+=e.first_name,i+=" ",i+=e.last_name,this.teamInfo[`player${r}_name`]=i})}},async mounted(){await this.getTeamsListHandler()}},GF=Object.assign(qF,{__name:"Admin",setup(t){return(e,n)=>(T(),I(de,null,[ee(Ks),Object.keys(e.teamsSignedUp).length>0?(T(),I("div",BF,[d("div",jF,[ee(RL,{teamsSignedUp:e.teamsSignedUp,adminChoices:e.adminChoices,onEditTeam:e.editTeam,onDeleteTeam:e.deleteTeam,onGroupTeam:e.groupTeam},null,8,["teamsSignedUp","adminChoices","onEditTeam","onDeleteTeam","onGroupTeam"])]),d("div",HF,[ee(VF,{adminChoices:e.adminChoices,onFilterLeague:e.filterLeague,onFilterAttribute:e.filterAttribute,onClearFilters:e.clearFilters},null,8,["adminChoices","onFilterLeague","onFilterAttribute","onClearFilters"])])])):H("",!0),e.isEditing?(T(),yi(Zv,{key:1,teamInfo:e.teamInfo,onCloseModal:e.closeEditModal,onSubmitChanges:e.submitTeamChanges},null,8,["teamInfo","onCloseModal","onSubmitChanges"])):H("",!0),e.isGrouping?(T(),yi(ew,{key:2,teamsSignedUp:e.teamsSignedUp,teamInfo:e.teamInfo,onCloseGroupModal:e.closeGroupModal,onSubmitGroupChanges:e.submitGroupChanges},null,8,["teamsSignedUp","teamInfo","onCloseGroupModal","onSubmitGroupChanges"])):H("",!0)],64))}});const KF=oo(ld);KF.languageCode="en";const zF=Io,WF={data(){return{errors:[],userPassword:null,userEmail:null}},mounted(){},watch:{},methods:{checkCredentials:function(t){this.errors=[],t.preventDefault(),!this.userEmail||!this.userPassword?this.$toast.error("Please provide a valid email/password",{duration:3e3}):this.startSignIn()},removeErrors:function(){this.errors=[]},startSignIn:function(){const t=oo(),e=this.userEmail,n=this.userPassword;hC(t,oh).then(()=>{uC(t,e,n).then(async s=>{if(s.user){const i=await this.userPermissionsHandler(s.user.uid);st.commit("setPermissionLevel",i.permissionLevel),st.commit("setUserDisplayName",i.displayName),this.$router.push("/admin"),this.$toast.success("Sign in successful",{duration:3e3})}else this.$toast.error("Sign in failed, please try again.",{duration:3e3}),console.log(error)}).catch(s=>{this.$toast.error("Sign in failed, please make sure email and password are correct.",{duration:3e3})})})},userPermissionsHandler:async function(t){return await Wv(zF,t)}}},hd=t=>(Rt("data-v-7d6720eb"),t=t(),Dt(),t),JF={id:"phone-form"},QF={class:"form-inner"},YF=hd(()=>d("h1",{class:"text-center"},"Enter your email and password to sign in",-1)),XF={class:"form-inset"},ZF={key:0,class:"error-list error"},e$=hd(()=>d("span",null,"Please correct the following error(s):",-1)),t$={class:"form-control"},n$={class:"form-control"},s$=hd(()=>d("div",{id:"form--bg",class:"ui--backdrop"},null,-1));function i$(t,e,n,s,i,r){return T(),I(de,null,[d("form",JF,[d("div",QF,[YF,d("div",XF,[i.errors.length?(T(),I("span",ZF,[e$,d("ul",null,[(T(!0),I(de,null,St(i.errors,o=>(T(),I("li",null,oe(o),1))),256))])])):H("",!0),d("div",t$,[wt(d("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>i.userEmail=o),placeholder:"Email"},null,512),[[bt,i.userEmail]])]),d("div",n$,[wt(d("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>i.userPassword=o),placeholder:"Password"},null,512),[[bt,i.userPassword]])])]),d("button",{id:"sign-in-button",type:"button",onClick:e[2]||(e[2]=(...o)=>r.checkCredentials&&r.checkCredentials(...o))}," Continue ")])]),s$],64)}const tw=We(WF,[["render",i$],["__scopeId","data-v-7d6720eb"]]);const r$={class:"admin admin--sign-in"},o$={class:"container"},a$={__name:"adminSignIn",setup(t){return(e,n)=>(T(),I(de,null,[ee(Ks),d("div",r$,[d("div",o$,[ee(tw)])])],64))}},l$=We(a$,[["__scopeId","data-v-d58ea8b2"]]);const c$={class:"winnders-circle"},u$=d("div",{class:"top--content"},[d("h1",null,[_e("The "),d("span",null,"winners"),_e(),d("span",{class:"large"},"circle")])],-1),h$={class:"container"},d$={class:"top-copy"},f$=d("div",{id:"dataOutput",class:"mt-4"},[d("div",{class:"line"})],-1),p$={data(){return{winners:[{year:2022,division:"Men's",team:["Mike Sundwall","Tom Seaver","Silengo"]},{year:2022,division:"Co-Ed",team:["Nicole Vitello","Hannah Dill","Brian Dill","Adam Faass"]},{year:2021,division:"Men's",team:["Joe Lowell","Ryan Carey","Ethan Cheffer","Jim Carey"]},{year:2021,division:"Co-Ed",team:["Nicole Vitello","Hannah Dill","Kiarra Bonilla","Brian Dill"]},{year:2020,division:"Men's",team:["Kyle Phelan","Dennis Phelan","Steven Julius","Mark Julius"]},{year:2020,division:"Co-Ed",team:["Caitlyn Longwell","Lisa Longwell","Glenn Longwell","Matt Paolini"]},{year:2019,division:"Men's",team:["Richard Moore","Andy Vojt","Brian Glatzel","Donn Malner"]},{year:2019,division:"Co-Ed",team:["Marianne Elliott","Lisa Longwell","Donna Monks","Mary Okolo"]},{year:2018,division:"Men's",team:["Mike Cappetta","Ryan Cappetta","Kevin Mathews","Zach Bjornberg"]},{year:2018,division:"Co-Ed",team:["Lisa Longwell","Rhea Adler","Nicole Vitello","Cindy Moser"]},{year:2017,division:"Men's",team:["Del Koupf","Mike Seaver","Troy Sundwall","Mike Sundwall"]},{year:2017,division:"Co-Ed - *First year of inception",team:["Rhea Adler","Marianne Elliott","Janice Vitello","Nicole Vitello"]},{year:2016,division:"Men's",team:["Bill Cirscuolo","Mark Sytra","Troy Sundwall","Mike Sundwall"]},{year:2015,division:"Men's",team:["John Casertano","Mike Casertano","Kyle Dahn","Keith Crumb"]},{year:2014,division:"Men's",team:["John Casertano","Mike Casertano","Rick Dondero"]},{year:2013,division:"Men's",team:["John Casertano","Mike Casertano","Rick Dondero"]},{year:2012,division:"Men's",team:["Johnny Vitello","Tom Maher","Billy Mageski","Mike Sundwall"]},{year:2011,division:"Men's",team:["Rick Moore","Mike Hinckley","Pete Giannini"]},{year:2010,division:"Men's",team:["Johnny Vitello","Tom Maher","Billy Mageski","Tom Howard"]},{year:2009,division:"Men's",team:["Phil Curry","Dave LaClair","Kevin Langan","Joe Jarvie"]},{year:2008,division:"Men's",team:["Phil Curry","Joe Jarvie","Dave LaClair"]},{year:2007,division:"Men's",team:["Jonny Molchan","Jay Valentine","Jim Schmidt","Richard Schmidt"]},{year:2006,division:"Men's",team:["Jonny Molchan","Jay Valentine","Jim Schmidt","Richard Schmidt"]},{year:2005,division:"Men's",team:["John Casertano","Mike Casertano","Jeff Dahn","Bob Neibling"]},{year:2004,division:"Men's",team:["Del Koupf","Mike Seaver","Don Waldron","Mike Sundwall"]},{year:2003,division:"Men's",team:["Dennis Perrino","Steve Worley","Ed Yocher"]},{year:2002,division:"Men's",team:["Rick Schaefer","Ron Mitchell","Pete Andersen","Pete Czuchra"]},{year:2001,division:"Men's",team:["Del Koupf","Bill Criscuolo","Frank Wallaby","Mike Sundwall"]},{year:2e3,division:"Men's",team:["Del Koupf","Chris Dellavalle","Mike Silengo","Mike Sundwall"]},{year:1999,division:"Men's",team:["Del Koupf","Mike Seaver","Don Waldron","Mike Sundwall"]},{year:1998,division:"Men's",team:["Rick Diotalevi","Randy Diotalevi","Rod Diotalevi","Tino Diotalevi"]},{year:1997,division:"Men's",team:["Ed Yocher","Vin Malerba","Charley Mahoney"]},{year:1993,division:"Men's",team:["Paul Vitello","Tom Howard","Joe Mastrangelo","Adam Mastrangelo"]}]}},mounted(){const t=this.winners;for(const n of t){const s=document.createElement("div");document.createElement("div"),["winner--output","row"].forEach(c=>{s.classList.add(c)});const r=document.createElement("div");r.classList.add("year-container");const o=document.createElement("h1"),a=document.createElement("p"),l=document.createElement("div");l.classList.add("team-container"),o.textContent=n.year,a.textContent=n.division;for(const c of n.team){const u=document.createElement("span");u.textContent=c,l.appendChild(u)}r.appendChild(o),r.appendChild(a),s.appendChild(r),s.appendChild(l),document.querySelector("#dataOutput").appendChild(s)}const e=document.querySelector("#dataOutput").getBoundingClientRect().height;document.querySelector(".line").style.height=`${e}px`}},m$=Object.assign(p$,{__name:"winnersCircle",setup(t){return(e,n)=>{const s=is("router-link");return T(),I(de,null,[ee(Ks),d("div",c$,[u$,d("div",h$,[d("div",d$,[d("p",null,[_e(" Check out the past winners of our tournament! "),ee(s,{to:"/sign-up"},{default:Et(()=>[_e("Sign up")]),_:1}),_e(" to get your name featured…if you can! ")])]),f$])])],64)}}});const g$={class:"sign-in"},y$={class:"container"},_$={class:"card"},v$={__name:"signIn",setup(t){return(e,n)=>(T(),I(de,null,[ee(Ks),d("div",g$,[d("div",y$,[d("div",_$,[ee(tw)])])])],64))}},w$=We(v$,[["__scopeId","data-v-d6bf4486"]]),b$=(t,e,n)=>{const s=st.getters.getTeam,i=JSON.parse(sessionStorage.getItem("team"));s?n():i?(st.commit("setTeam",i),n()):n("/sign-up")},nw=CT({history:BE(),routes:[{path:"/",name:"Home",component:wD},{path:"/about",name:"About",component:UD},{path:"/sign-up",name:"SignUp",component:HP,meta:{}},{path:"/sign-in",name:"SignIn",component:w$},{path:"/sign-up-success",name:"SignUp__success",component:mM,beforeEnter:b$},{path:"/admin/sign-in",name:"adminSignIn",component:l$},{path:"/admin",name:"admin",component:GF,meta:{requiresAuth:!0}},{path:"/winners-circle",name:"winnersCircle",component:m$}]});function E$(){return new Promise((t,e)=>{const n=pC(T$,s=>{n(),t(s)},e)})}const T$=oo();nw.beforeEach(async t=>{if(t.matched.some(n=>n.meta.requiresAuth)&&!await E$())return`/sign-in?redirect=${t.fullPath}`});gg(LO).use(nw).use(st).use(jO,{position:"bottom-right"}).mount("#app");new Promise(t=>{PO.onAuthStateChanged(async e=>{if(st.dispatch("fetchUser",e),e){const n=await Wv(Io,st.state.user.userData.uid);st.commit("setPermissionLevel",n.permissionLevel),st.commit("setUserDisplayName",n.displayName),console.log("user set in store"),console.log(st.state.user),t(e)}else console.log("user null / logged out"),console.log(st.state.user),t(st.getters.getLoginState)})});
